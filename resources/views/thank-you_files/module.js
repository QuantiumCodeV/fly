if(!JSON){var JSON;if(!JSON){JSON={}}(function(){function f(n){return n<10?"0"+n:n}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(key){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf()}}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key)}if(typeof rep==="function"){value=rep.call(holder,key,value)}switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null"}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null"}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){if(typeof rep[i]==="string"){k=rep[i];v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}else{for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v}}if(typeof JSON.stringify!=="function"){JSON.stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" "}}else{if(typeof space==="string"){indent=space}}rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("JSON.stringify")}return str("",{"":value})}}if(typeof JSON.parse!=="function"){JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v}else{delete value[k]}}}}return reviver.call(holder,key,value)}text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")}}}())}if(!String.prototype.trim){(function(){var a=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;String.prototype.trim=function(){return this.replace(a,"")}})()}if(window.Element&&!Element.prototype.closest){Element.prototype.closest=function(c){var d=(this.document||this.ownerDocument).querySelectorAll(c),a,b=this;do{a=d.length;while(--a>=0&&d.item(a)!==b){}}while((a<0)&&(b=b.parentElement));return b}}(function(cz,N,bT){function dm(dY){if(typeof dY!=="function"){return}var e=false;function dX(){if(!e){e=true;dY();if(typeof N.removeEventListener==="function"){N.removeEventListener("DOMContentLoaded",dX)}}}if(N.readyState==="interactive"||N.readyState==="complete"){dX()}else{ao(N,"DOMContentLoaded",dX)}}var G=function(){var e=cz.maCookiePrefix;return typeof e==="string"?e:"roistat"};var ac=G();var bO=function(){return cz[ac+"Host"]};var bE=false,ad="374",C=13,c9=42,y=bO(),aR="0.2",aq="1.0",di="roistat_visit_cookie_expire",cp="roistat_visit",aX="roistat_cookies_to_resave",ch="roistat_guid",a2="roistat_next_guid",a8="roistat_first_visit",ax="roistat_is_need_listen_requests",bp="roistat_is_save_data_in_cookie",dO="roistat_phone",W="roistat_raw_phone",F="roistat_externalCountersEnabled",aQ="roistat_referrer",dl="roistat_marker",br="roistat_marker_old",bL="roistat_ab",am="roistat_previous_ab",X="roistat_ab_submit",bV=35*24*60*60,cW="rs",O="roistat",aj="leadhunter_expire",U=5*60*60,bU="roistat_leadHunterEnabled",s="roistat_leadHunterTargetPagesMap",cO="roistat_leadHunterCallbackSettings",a6="roistat_leadHunterScriptId",ae="roistat_isleadHunterScriptIdActive",bn="roistat_multiwidgetEnabled",cg="roistat_multiwidgetVKEnabled",c6="roistat_multiwidgetVKLink",V="roistat_multiwidgetFBEnabled",dt="roistat_multiwidgetFBLink",cR="roistat_multiwidgetTelegramEnabled",bB="roistat_multiwidgetTelegramLink",c2="roistat_multiwidgetWhatsAppEnabled",bS="roistat_multiwidgetWhatsAppLink",dW="roistat_multiwidgetViberEnabled",cU="roistat_multiwidgetViberLink",av="roistat_multiwidgetSettings",c3="roistat_onlineChatEnabled",D="roistat_onlineChatSettings",d=7*24*60*60,db={expires:d,path:"/"},ar="roistat-promo",aA="roistat-phone",M="roistat-phone-country",at="roistat-phone-region",P="roistat-phone-number",dG="roistat-phone-tel",b2="country",aZ="region",bu="number",ck="tel",ab="get-phone",o="roistat_call_tracking",af="roistat-js-script",bJ="roistat_phone_replacement",bv="roistat_phone_script_data",c8="roistat-visit-id",a9="roistat_metrika_counter_id",j="roistat_marker_from_referrer",bI="roistat_emailtracking_email",b="roistat_emailtracking_tracking_email",bY="roistat_emailtracking_emails",l="roistat_geo_data",a1="roistat_promo_code",dI="roistat_proxy_forms",dd="roistat_isMultiDomain",cY=["roistat_param1","roistat_param2","roistat_param3","roistat_param4","roistat_param5"],cq="roistat_debug",bc="roistat_settings_saved",cF="nocookie",ba=["yandex.ru"],aO="beta_test",cS="roistat_settings_version",ce="roistat-leadhunter-form-template",bH="roistat-leadhunter-pulsator-template",cd="roistat-leadhunter-pulsator-settings",bD="roistat-online-chat-pulsator-template",E="roistat-online-chat-iframe-template",dn="roistat-multiwidget-pulsator-template",f="roistat-multiwidget-pulsator-settings",ah="roistat_last_settings_update_time",cM="roistat_authorized_client",aK="roistat_params",dv=50,aY="mobile",q="tablet",ca="desktop",b6=500,dC=1024;
var ct="ru",aF="en",cJ={ru:["Русский","Russian"],en:["Английский","English"]},an,t;var cf={callTrackingEnabled:true,callTrackingManual:false,jsonpRequestTimeout:100};var cr={isVisitProcessed:false,visitFromUser:null,cookies:{},pageParams:{},source:{marker:null},isSettingsUpdating:false,isAbTestsApplied:false};var da={onVisitProcessed:[],onCallTrackingPhoneReceived:[],onSPAPageChanged:[],onAbTestsApplied:{}};if(cz.roistatAlreadyStarted){if(typeof console!=="undefined"&&console.log){console.log("Call: roistat already started, skip")}return}cz.roistatAlreadyStarted=true;if(cz.roistatCookieDomain){db.domain=cz.roistatCookieDomain}var cD=function(){return new Date().getTime()};var A=function(dX){var dY=cD()-bz;var e="["+(dY/1000)+"s] "+dX;bs=bs+"; "+e;if(typeof console!=="undefined"&&console.log&&bE){console.log(e)}};var v=function(e){var dY=e.split(".");var dX=dY.length;if(dX<2){return e}return dY[dX-2]+"."+dY[dX-1]};var B=function(){var dX=cz.screen||null;var e=cz.navigator||null;return{screenWidth:dX!==null?(dX.width||null):null,screenHeight:dX!==null?(dX.height||null):null,screenIsExtended:dX!==null?(dX.isExtended||null):null,screenPixelDepth:dX!==null?(dX.pixelDepth||null):null,screenColorDepth:dX!==null?(dX.colorDepth||null):null,deviceMemory:e!==null?(e.deviceMemory||null):null,hardwareConcurrency:e!==null?(e.hardwareConcurrency||null):null,language:e!==null?(e.language||null):null,maxTouchPoints:e!==null?(e.maxTouchPoints||null):null,platform:e!==null?(e.platform||null):null}};var dp="cllctr."+v(y);cz.roistat={version:ad,getSource:function(){return cr.source.marker},visit:null,getVisit:function(){return roistat.visit},setVisit:function(e){cr.visitFromUser=e},registerOnVisitProcessedCallback:function(e){cP(e)},registerOnCalltrackingPhoneReceivedCallback:function(e){bF(e)},disableCallTracking:function(){cf.callTrackingEnabled=false},setCallTrackingManualMode:function(){cf.callTrackingManual=true},setJSONPRequestTimeout:function(e){cf.jsonpRequestTimeout=e},callTracking:{enabled:0,phone:"",sessionTime:0,replacementClasses:"",phonePrefix:"",rawPhone:""},emailtracking:{enabled:true,loaded:false,email:null,trackingEmail:null,emails:null,refresh:function(){A("Warning: used emailtracking refresh before module init")}},geo:{city:null,country:null,region:null},leadHunter:{isEnabled:true,onBeforeAppear:null,onAfterAppear:null,onBeforeSubmit:null,onAfterSubmit:null,additionalNotifyEmail:null,localization:{translateToRussian:null,translateToEnglish:null},form:{title:null,subTitle:null,thankYouText:null,buttonText:null,nameLabel:null,contactLabel:null,isNameRequired:false,autoShowTime:null,isNeedExplicitAgreement:null}},onlineChat:{isEnabled:true,customTriggerSelector:null,customPosition:{top:null,right:null,bottom:null,left:null},localization:{translateToRussian:null,translateToEnglish:null,translate:null},actions:{initWithMessage:null,openChat:null},notificationsCustomHolderSelector:null,isAvailableForCurrentUserAgent:true,pagesFilter:{isEnabled:false,pages:[]}},promoCode:{isEnabled:true},multiwidget:{isEnabled:true,isVisible:true,vk:{isEnabled:false,link:null},fb:{isEnabled:false,link:null},telegram:{isEnabled:false,link:null},whatsApp:{isEnabled:false,link:null},viber:{isEnabled:false,link:null}},page:{params:{}},proxyForms:{enabled:true,loaded:false,settings:[]},registerAbTestCallback:function(e,dX){if(!cr.isAbTestsApplied&&typeof dX==="function"){da.onAbTestsApplied[e]=dX}},authClientById:function(e){aM(e,bT)},authClientByEmail:function(e){aM(bT,e)},sendDeviceFingerprint:function(){A("Send device fingerprint start");var e=p();var dY=B();var d1="";for(var d0 in dY){if(!dY.hasOwnProperty(d0)){continue}var dZ=dY[d0];if(dZ!==null){d1+="&"+d0+"="+encodeURIComponent(dZ)}}var dX=T()+"/device/info/register?visit="+e+d1;a7(dX);A("Send device fingerprint completed")},setDeviceParams:function(){if(!cr.isVisitProcessed){A("Visit is not processed, return");return}var e=p();if(e<=0){A("Invalid arguments, return");return}var dY=B();var dX=T()+"/update-visit-by-device-params?visit="+e+"&v="+ad;for(var d0 in dY){if(!dY.hasOwnProperty(d0)){continue}var dZ=dY[d0];if(dZ===null){continue}dX+="&"+d0+"="+encodeURIComponent(dZ)}a7(dX)},setRoistatParams:function(d3,d2,d0,dZ,dY){var d4=d3!==null&&dT(d3)?d3:{roistat_param1:d3,roistat_param2:d2,roistat_param3:d0,roistat_param4:dZ,roistat_param5:dY};if(!cr.isVisitProcessed){A("Visit is not processed, return");return}var d1=p();if(d1<=0){A("Invalid arguments, return");return}var d5=bf(d4);if(!a0(d5)){A("Has no valid roistat params for visit update, return");return}bm(d5);var e=T()+"/update-visit-by-params?visit="+d1+"&v="+ad;for(var dX in d5){if(!Object.prototype.hasOwnProperty.call(d5,dX)){continue}e+="&"+dX+"="+encodeURIComponent(d5[dX])}a7(e)}};var bf=function(dZ){var e={};for(var dY=1;dY<=dv;dY++){var dX="roistat_param"+dY;if(!Object.prototype.hasOwnProperty.call(dZ,dX)){continue}var d0=dZ[dX];if(d0!==bT&&d0!==null&&d0.toString().length>0){e[dX]=d0}}return e};var bm=function(dY){var d0=aK;
var dX=cw.get(d0);var e=JSON.stringify(dY);var dZ=dX===e;if(e!=null&&e.length>0){c4(dY)}if(dZ){A("Params already updated, return");return}cw.set(d0,e)};var c4=function(dX){for(var e=1;e<=dv;e++){var dY="roistat_param"+e;if(dX.hasOwnProperty(dY)){cz.roistat.page.params[dY]=dX[dY]}}};var aM=function(e,dZ){if(!cr.isVisitProcessed){A("Visit is not processed, return");return}var d0=e!==bT&&e.length>0,d3=dZ!==bT&&dZ.length>0;if(!d0&&!d3){A("Invalid client params, return");return}var d1=p();if(d1<=0){A("Invalid arguments, return");return}var d2=cM,d4=cw.get(d2),dY=d0?e:dZ;if(d4===dY){A('Client "'+dY+'" is already authorized, return');return}A("Auth client: "+dY);cw.set(d2,dY);var dX=T()+"/update-visit-by-client?visit="+d1+"&v="+ad;if(d0){dX+="&client_id="+encodeURIComponent(e)}if(d3){dX+="&client_email="+encodeURIComponent(dZ)}a7(dX)};var dx=function(dZ,dX){var dY=dZ.length;for(var e=0;e<dY;e++){if(dX===dZ[e]){return true}}return false};var ak=function(){return i(aO)>0};var z=function(){return cz.location.protocol+"//"+cz.location.host+cz.location.pathname};var I=function(){if(dQ()){return aY}if(dE()){return q}return ca};var dQ=function(){return cz.innerWidth<=b6};var dE=function(){return cz.innerWidth>b6&&cz.innerWidth<=dC};var bN=function(){return dQ()||dE()};var bg=function(){return cz[ac+"ProjectId"]};var cT=function(){var e=bg().replace(/\D/g,"");A("getProjectHash: "+e);return e};var bx=function(e){var dX=cT();return dx(e,dX)};var c1=function(e){return JSON.parse(JSON.stringify(e))};var bM=function(){var dX=c1(db),e=parseInt(cw.get(di));dX.expires=e>0?e:d;return dX};var cP=function(e){if(!cr.isVisitProcessed){da.onVisitProcessed.push(e)}else{e()}};var c5=function(){cr.isVisitProcessed=true;A("[Roistat] visit id set. Processing callbacks");var dX=da.onVisitProcessed.length;for(var e=0;e<dX;e++){da.onVisitProcessed[e]()}if(cz.roistatVisitCallback!==bT){cz.roistatVisitCallback(cz.roistat.getVisit())}};var bF=function(e){da.onCallTrackingPhoneReceived.push(e)};var du=function(){var dX=da.onCallTrackingPhoneReceived.length;for(var e=0;e<dX;e++){da.onCallTrackingPhoneReceived[e]()}};var aG=function aG(e){da.onSPAPageChanged.push(e)};var cn=function cn(){A("[Roistat] SPA page changed. Processing callbacks");var dX=da.onSPAPageChanged.length;for(var e=0;e<dX;e++){da.onSPAPageChanged[e]()}};var au=function(d0,dZ){var dY=d0.className.split(" "),dX=false,e;for(var e=0;e<dY.length;e++){if(dY[e]===dZ){dX=true;break}}if(!dX){dY.push(dZ);d0.className=dY.join(" ")}};var co=function(dZ,dY){var dX=dZ.className.split(" "),e;for(var e=0;e<dX.length;e++){if(dX[e]===dY){dX.splice(e,1);dZ.className=dX.join(" ");break}}};var aN=function(dY){try{return decodeURIComponent(dY)}catch(dZ){var dX;dX=x(dY);if(dX===null){return dY}return dX}};var b9={visitor_uid:function(){A("AmoCrmUID: starting collecting AmoCRM visitor_uid");if(!dT(cz.AMOPIXEL_IDENTIFIER)||!aa(cz.AMOPIXEL_IDENTIFIER.getVisitorUid)){A("AmoCrmUID: AMOPIXEL_IDENTIFIER not an object or 'getVisitorUid()' function not found");return null}var e=AMOPIXEL_IDENTIFIER.getVisitorUid();if(!bb(e)){A("AmoCrmUID: visitor_uid value must be a string");return null}return e},roistat_yclid:function(){return ag("yclid",false)},roistat_gclid:function(){return ag("gclid",false)},roistat_rb_clickid:function(){return ag("rb_clickid",false)}};var aJ=function(){for(var dX in b9){var e=b9[dX]();if(e===null){continue}dH(dX,e,db)}};var bq=function(){return["_ym_uid","_ga","_fbp","_fbc"].concat(Q(b9))};var x=function(d1){var d0={"%E0":"%D0%B0","%E1":"%D0%B1","%E2":"%D0%B2","%E3":"%D0%B3","%E4":"%D0%B4","%E5":"%D0%B5","%B8":"%D1%91","%E6":"%D0%B6","%E7":"%D0%B7","%E8":"%D0%B8","%E9":"%D0%B9","%EA":"%D0%BA","%EB":"%D0%BB","%EC":"%D0%BC","%ED":"%D0%BD","%EE":"%D0%BE","%EF":"%D0%BF","%F0":"%D1%80","%F1":"%D1%81","%F2":"%D1%82","%F3":"%D1%83","%F4":"%D1%84","%F5":"%D1%85","%F6":"%D1%86","%F7":"%D1%87","%F8":"%D1%88","%F9":"%D1%89","%FC":"%D1%8C","%FB":"%D1%8B","%FA":"%D1%8A","%FD":"%D1%8D","%FE":"%D1%8E","%FF":"%D1%8F","%C0":"%D0%90","%C1":"%D0%91","%C2":"%D0%92","%C3":"%D0%93","%C4":"%D0%94","%C5":"%D0%95","%A8":"%D0%81","%C6":"%D0%96","%C7":"%D0%97","%C8":"%D0%98","%C9":"%D0%99","%CA":"%D0%9A","%CB":"%D0%9B","%CC":"%D0%9C","%CD":"%D0%9D","%CE":"%D0%9E","%CF":"%D0%9F","%D0":"%D0%A0","%D1":"%D0%A1","%D2":"%D0%A2","%D3":"%D0%A3","%D4":"%D0%A4","%D5":"%D0%A5","%D6":"%D0%A6","%D7":"%D0%A7","%D8":"%D0%A8","%D9":"%D0%A9","%DC":"%D0%AC","%DB":"%D0%AB","%DA":"%D0%AA","%DD":"%D0%AD","%DE":"%D0%AE","%DF":"%D0%AF"};var dY="";var dZ=0;while(dZ<d1.length){var dX=d1.substring(dZ,dZ+3);if(Object.prototype.hasOwnProperty.call(d0,dX)){dY+=d0[dX];dZ+=3}else{dY+=d1.substring(dZ,dZ+1);dZ++}}try{return decodeURIComponent(dY)}catch(d2){return null}};var n=function(){if(typeof cz.roistatInitPage!=="string"||cz.roistatInitPage===""||cz.roistatInitPage==="{ROISTAT_INIT_PAGE}"){return N.location.href}return cz.roistatInitPage};cz.roistatVersion=ad;var bK,ap=bx([]),L=bx(["97532377849195770346229","592829167247144932861","5920396192098309402868","591183866179479527","19640141722769938679","7517211421734017584031","3101387160241499728","48846105634802027","353439800158189719","89748922669691497827"]),dh=bx([]),k,cH=true,cN=decodeURIComponent(n()),bs="",a5="",bz=new Date().getTime(),dk=false,cX=cz.roistatPhonePrefix?cz.roistatPhonePrefix:"",dP=cz.roistatPhonePrefixBind?cz.roistatPhonePrefixBind:"",Y=cz.roistatCalltrackingScripts&&cz.roistatCalltrackingScripts.join?cz.roistatCalltrackingScripts.join(","):"";
var bC=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15);var cv=function(e){if(!L){return e}var dX=e.replace(/^roistat[_-]/,"");return ac+"_"+dX};var i,dH,dU,dg;i=cz.roistatGetCookie=function(e){var dX=cv(e);var dY=N.cookie.match(new RegExp("(?:^|; )"+dX.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return dY?aN(dY[1]):bT};dU=function(e,d3,d4){var d1=cv(e);d4=d4||{};var dZ=d4.expires;if(typeof dZ=="number"&&dZ){var d2=new Date();d2.setTime(d2.getTime()+dZ*1000);dZ=d4.expires=d2}if(dZ&&dZ.toUTCString){d4.expires=dZ.toUTCString()}d3=encodeURIComponent(d3);var dX=d1+"="+d3;for(var d0 in d4){dX+="; "+d0;var dY=d4[d0];if(dY!==true){dX+="="+dY}}N.cookie=dX};dH=cz.roistatSetCookie=function dH(dX,d0,e){dU(dX,d0,e);var dZ;dZ=i(aX);dZ=bb(dZ)?dZ.split(","):[];for(var dY in dZ){if(dZ[dY]===dX){return}}dZ.push(dX);dU(aX,dZ.join(","),{path:"/"})};dg=function dg(dX,e){var dY=c1(e);dY.expires=new Date(0).toUTCString();dU(dX,"",dY)};var bR=function(dX,dZ,dY){var e=dX[dZ];dX[dZ]=function(){if(e){e.apply(this,arguments)}dY.apply(this,arguments)}};var ao=function(dY,dX,dZ){if(dY.addEventListener){dY.addEventListener(dX,dZ,false);return}var e="on"+dX;if(dY.attachEvent){dY.attachEvent(e,dZ);return}if(e in dY){bR(dY,e,dZ);return}if(dX in dY){bR(dY,dX,dZ);return}A("Handler could not be attached")};var r=function(dZ,dY){var dX=dZ.length;for(var e=0;e<dX;e++){dY(dZ[e])}};var Q=function(e){var dX=[];by(e,function(dY,dZ){dX.push(dY)});return dX};var by=function(e,dY){for(var dX in e){if(Object.prototype.hasOwnProperty.call(e,dX)){dY(dX,e[dX])}}};var bG=function(e){return Object.prototype.toString.call(e)==="[object Array]"};var a0=function(dX){if(typeof dX!=="object"){return false}for(var e in dX){if(dX.hasOwnProperty(e)){return true}}return false};var dz=function(dY){try{var dX=JSON.parse(dY);if(dX&&typeof dX==="object"){return dX}}catch(dZ){}return null};if(N.getElementsByClassName==bT){N.getElementsByClassName=function(dX){var e=[];var d1=new RegExp("\\b"+dX+"\\b");var d0=this.getElementsByTagName("*");for(var dZ=0;dZ<d0.length;dZ++){var dY=d0[dZ].className;if(d1.test(dY)){e.push(d0[dZ])}}return e}}var aP=function(){return String.fromCharCode};var c7=function(dY){var e="";for(var dX=0;dX<dY.length;++dX){e+=aP()(c9^dY.charCodeAt(dX))}return e};var aW=function(e){return encodeURIComponent(c7(cC.encode(e)))};var cC={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(dY){var e="";var d5,d3,d1,d4,d2,d0,dZ;var dX=0;dY=cC._utf8_encode(dY);while(dX<dY.length){d5=dY.charCodeAt(dX++);d3=dY.charCodeAt(dX++);d1=dY.charCodeAt(dX++);d4=d5>>2;d2=((d5&3)<<4)|(d3>>4);d0=((d3&15)<<2)|(d1>>6);dZ=d1&63;if(isNaN(d3)){d0=dZ=64}else{if(isNaN(d1)){dZ=64}}e=e+this._keyStr.charAt(d4)+this._keyStr.charAt(d2)+this._keyStr.charAt(d0)+this._keyStr.charAt(dZ)}return e},decode:function(dY){var e="";var d5,d3,d1;var d4,d2,d0,dZ;var dX=0;dY=dY.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(dX<dY.length){d4=this._keyStr.indexOf(dY.charAt(dX++));d2=this._keyStr.indexOf(dY.charAt(dX++));d0=this._keyStr.indexOf(dY.charAt(dX++));dZ=this._keyStr.indexOf(dY.charAt(dX++));d5=(d4<<2)|(d2>>4);d3=((d2&15)<<4)|(d0>>2);d1=((d0&3)<<6)|dZ;e=e+String.fromCharCode(d5);if(d0!=64){e=e+String.fromCharCode(d3)}if(dZ!=64){e=e+String.fromCharCode(d1)}}e=cC._utf8_decode(e);return e},_utf8_encode:function(dX){dX=dX.replace(/\r\n/g,"\n");var e="";for(var dZ=0;dZ<dX.length;dZ++){var dY=dX.charCodeAt(dZ);if(dY<128){e+=String.fromCharCode(dY)}else{if((dY>127)&&(dY<2048)){e+=String.fromCharCode((dY>>6)|192);e+=String.fromCharCode((dY&63)|128)}else{e+=String.fromCharCode((dY>>12)|224);e+=String.fromCharCode(((dY>>6)&63)|128);e+=String.fromCharCode((dY&63)|128)}}}return e},_utf8_decode:function(e){var dY="";var d0=0;var d1=0;var dZ=0;var dX=0;while(d0<e.length){d1=e.charCodeAt(d0);if(d1<128){dY+=String.fromCharCode(d1);d0++}else{if((d1>191)&&(d1<224)){dZ=e.charCodeAt(d0+1);dY+=String.fromCharCode(((d1&31)<<6)|(dZ&63));d0+=2}else{dZ=e.charCodeAt(d0+1);dX=e.charCodeAt(d0+2);dY+=String.fromCharCode(((d1&15)<<12)|((dZ&63)<<6)|(dX&63));d0+=3}}}return dY}};var b1=b1||function(d8,dY){var d0={},d1=d0.lib={},dZ=function(){},e=d1.Base={extend:function(d9){dZ.prototype=this;var ea=new dZ;d9&&ea.mixIn(d9);ea.hasOwnProperty("init")||(ea.init=function(){ea.$super.init.apply(this,arguments)});ea.init.prototype=ea;ea.$super=this;return ea},create:function(){var d9=this.extend();d9.init.apply(d9,arguments);return d9},init:function(){},mixIn:function(d9){for(var ea in d9){d9.hasOwnProperty(ea)&&(this[ea]=d9[ea])}d9.hasOwnProperty("toString")&&(this.toString=d9.toString)},clone:function(){return this.init.prototype.extend(this)}},dX=d1.WordArray=e.extend({init:function(d9,ea){d9=this.words=d9||[];this.sigBytes=ea!=dY?ea:4*d9.length},toString:function(d9){return(d9||d7).stringify(this)},concat:function(d9){var ec=this.words,ea=d9.words,eb=this.sigBytes;d9=d9.sigBytes;this.clamp();if(eb%4){for(var ed=0;ed<d9;ed++){ec[eb+ed>>>2]|=(ea[ed>>>2]>>>24-8*(ed%4)&255)<<24-8*((eb+ed)%4)
}}else{if(65535<ea.length){for(ed=0;ed<d9;ed+=4){ec[eb+ed>>>2]=ea[ed>>>2]}}else{ec.push.apply(ec,ea)}}this.sigBytes+=d9;return this},clamp:function(){var d9=this.words,ea=this.sigBytes;d9[ea>>>2]&=4294967295<<32-8*(ea%4);d9.length=d8.ceil(ea/4)},clone:function(){var d9=e.clone.call(this);d9.words=this.words.slice(0);return d9},random:function(d9){for(var eb=[],ea=0;ea<d9;ea+=4){eb.push(4294967296*d8.random()|0)}return new dX.init(eb,d9)}}),d5=d0.enc={},d7=d5.Hex={stringify:function(d9){var ea=d9.words;d9=d9.sigBytes;for(var ed=[],ec=0;ec<d9;ec++){var eb=ea[ec>>>2]>>>24-8*(ec%4)&255;ed.push((eb>>>4).toString(16));ed.push((eb&15).toString(16))}return ed.join("")},parse:function(d9){for(var ea=d9.length,ec=[],eb=0;eb<ea;eb+=2){ec[eb>>>3]|=parseInt(d9.substr(eb,2),16)<<24-4*(eb%8)}return new dX.init(ec,ea/2)}},d4=d5.Latin1={stringify:function(d9){var ea=d9.words;d9=d9.sigBytes;for(var ec=[],eb=0;eb<d9;eb++){ec.push(String.fromCharCode(ea[eb>>>2]>>>24-8*(eb%4)&255))}return ec.join("")},parse:function(d9){for(var ea=d9.length,ec=[],eb=0;eb<ea;eb++){ec[eb>>>2]|=(d9.charCodeAt(eb)&255)<<24-8*(eb%4)}return new dX.init(ec,ea)}},d6=d5.Utf8={stringify:function(d9){try{return decodeURIComponent(escape(d4.stringify(d9)))}catch(ea){throw Error("Malformed UTF-8 data")}},parse:function(d9){return d4.parse(unescape(encodeURIComponent(d9)))}},d3=d1.BufferedBlockAlgorithm=e.extend({reset:function(){this._data=new dX.init;this._nDataBytes=0},_append:function(d9){"string"==typeof d9&&(d9=d6.parse(d9));this._data.concat(d9);this._nDataBytes+=d9.sigBytes},_process:function(ea){var ec=this._data,ef=ec.words,ee=ec.sigBytes,ed=this.blockSize,d9=ee/(4*ed),d9=ea?d8.ceil(d9):d8.max((d9|0)-this._minBufferSize,0);ea=d9*ed;ee=d8.min(4*ea,ee);if(ea){for(var eb=0;eb<ea;eb+=ed){this._doProcessBlock(ef,eb)}eb=ef.splice(0,ea);ec.sigBytes-=ee}return new dX.init(eb,ee)},clone:function(){var d9=e.clone.call(this);d9._data=this._data.clone();return d9},_minBufferSize:0});d1.Hasher=d3.extend({cfg:e.extend(),init:function(d9){this.cfg=this.cfg.extend(d9);this.reset()},reset:function(){d3.reset.call(this);this._doReset()},update:function(d9){this._append(d9);this._process();return this},finalize:function(d9){d9&&this._append(d9);return this._doFinalize()},blockSize:16,_createHelper:function(d9){return function(ea,eb){return(new d9.init(eb)).finalize(ea)}},_createHmacHelper:function(d9){return function(ea,eb){return(new d2.HMAC.init(d9,eb)).finalize(ea)}}});var d2=d0.algo={};return d0}(Math);(function(d6){function dY(ea,eb,d8,ed,d9,ec,d7){ea=ea+(eb&d8|~eb&ed)+d9+d7;return(ea<<ec|ea>>>32-ec)+eb}function d0(ea,eb,d8,ed,d9,ec,d7){ea=ea+(eb&ed|d8&~ed)+d9+d7;return(ea<<ec|ea>>>32-ec)+eb}function d1(ea,eb,d8,ed,d9,ec,d7){ea=ea+(eb^d8^ed)+d9+d7;return(ea<<ec|ea>>>32-ec)+eb}function dZ(ea,eb,d8,ed,d9,ec,d7){ea=ea+(d8^(eb|~ed))+d9+d7;return(ea<<ec|ea>>>32-ec)+eb}for(var e=b1,dX=e.lib,d3=dX.WordArray,d5=dX.Hasher,dX=e.algo,d2=[],d4=0;64>d4;d4++){d2[d4]=4294967296*d6.abs(d6.sin(d4+1))|0}dX=dX.MD5=d5.extend({_doReset:function(){this._hash=new d3.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(eo,el){for(var et=0;16>et;et++){var en=el+et,ea=eo[en];eo[en]=(ea<<8|ea>>>24)&16711935|(ea<<24|ea>>>8)&4278255360}var et=this._hash.words,en=eo[el+0],ea=eo[el+1],em=eo[el+2],ej=eo[el+3],eh=eo[el+4],ef=eo[el+5],ed=eo[el+6],ec=eo[el+7],eb=eo[el+8],d9=eo[el+9],d8=eo[el+10],d7=eo[el+11],ek=eo[el+12],ei=eo[el+13],eg=eo[el+14],ee=eo[el+15],es=et[0],er=et[1],eq=et[2],ep=et[3],es=dY(es,er,eq,ep,en,7,d2[0]),ep=dY(ep,es,er,eq,ea,12,d2[1]),eq=dY(eq,ep,es,er,em,17,d2[2]),er=dY(er,eq,ep,es,ej,22,d2[3]),es=dY(es,er,eq,ep,eh,7,d2[4]),ep=dY(ep,es,er,eq,ef,12,d2[5]),eq=dY(eq,ep,es,er,ed,17,d2[6]),er=dY(er,eq,ep,es,ec,22,d2[7]),es=dY(es,er,eq,ep,eb,7,d2[8]),ep=dY(ep,es,er,eq,d9,12,d2[9]),eq=dY(eq,ep,es,er,d8,17,d2[10]),er=dY(er,eq,ep,es,d7,22,d2[11]),es=dY(es,er,eq,ep,ek,7,d2[12]),ep=dY(ep,es,er,eq,ei,12,d2[13]),eq=dY(eq,ep,es,er,eg,17,d2[14]),er=dY(er,eq,ep,es,ee,22,d2[15]),es=d0(es,er,eq,ep,ea,5,d2[16]),ep=d0(ep,es,er,eq,ed,9,d2[17]),eq=d0(eq,ep,es,er,d7,14,d2[18]),er=d0(er,eq,ep,es,en,20,d2[19]),es=d0(es,er,eq,ep,ef,5,d2[20]),ep=d0(ep,es,er,eq,d8,9,d2[21]),eq=d0(eq,ep,es,er,ee,14,d2[22]),er=d0(er,eq,ep,es,eh,20,d2[23]),es=d0(es,er,eq,ep,d9,5,d2[24]),ep=d0(ep,es,er,eq,eg,9,d2[25]),eq=d0(eq,ep,es,er,ej,14,d2[26]),er=d0(er,eq,ep,es,eb,20,d2[27]),es=d0(es,er,eq,ep,ei,5,d2[28]),ep=d0(ep,es,er,eq,em,9,d2[29]),eq=d0(eq,ep,es,er,ec,14,d2[30]),er=d0(er,eq,ep,es,ek,20,d2[31]),es=d1(es,er,eq,ep,ef,4,d2[32]),ep=d1(ep,es,er,eq,eb,11,d2[33]),eq=d1(eq,ep,es,er,d7,16,d2[34]),er=d1(er,eq,ep,es,eg,23,d2[35]),es=d1(es,er,eq,ep,ea,4,d2[36]),ep=d1(ep,es,er,eq,eh,11,d2[37]),eq=d1(eq,ep,es,er,ec,16,d2[38]),er=d1(er,eq,ep,es,d8,23,d2[39]),es=d1(es,er,eq,ep,ei,4,d2[40]),ep=d1(ep,es,er,eq,en,11,d2[41]),eq=d1(eq,ep,es,er,ej,16,d2[42]),er=d1(er,eq,ep,es,ed,23,d2[43]),es=d1(es,er,eq,ep,d9,4,d2[44]),ep=d1(ep,es,er,eq,ek,11,d2[45]),eq=d1(eq,ep,es,er,ee,16,d2[46]),er=d1(er,eq,ep,es,em,23,d2[47]),es=dZ(es,er,eq,ep,en,6,d2[48]),ep=dZ(ep,es,er,eq,ec,10,d2[49]),eq=dZ(eq,ep,es,er,eg,15,d2[50]),er=dZ(er,eq,ep,es,ef,21,d2[51]),es=dZ(es,er,eq,ep,ek,6,d2[52]),ep=dZ(ep,es,er,eq,ej,10,d2[53]),eq=dZ(eq,ep,es,er,d8,15,d2[54]),er=dZ(er,eq,ep,es,ea,21,d2[55]),es=dZ(es,er,eq,ep,eb,6,d2[56]),ep=dZ(ep,es,er,eq,ee,10,d2[57]),eq=dZ(eq,ep,es,er,ed,15,d2[58]),er=dZ(er,eq,ep,es,ei,21,d2[59]),es=dZ(es,er,eq,ep,eh,6,d2[60]),ep=dZ(ep,es,er,eq,d7,10,d2[61]),eq=dZ(eq,ep,es,er,em,15,d2[62]),er=dZ(er,eq,ep,es,d9,21,d2[63]);
et[0]=et[0]+es|0;et[1]=et[1]+er|0;et[2]=et[2]+eq|0;et[3]=et[3]+ep|0},_doFinalize:function(){var d9=this._data,ea=d9.words,d7=8*this._nDataBytes,eb=8*d9.sigBytes;ea[eb>>>5]|=128<<24-eb%32;var d8=d6.floor(d7/4294967296);ea[(eb+64>>>9<<4)+15]=(d8<<8|d8>>>24)&16711935|(d8<<24|d8>>>8)&4278255360;ea[(eb+64>>>9<<4)+14]=(d7<<8|d7>>>24)&16711935|(d7<<24|d7>>>8)&4278255360;d9.sigBytes=4*(ea.length+1);this._process();d9=this._hash;ea=d9.words;for(d7=0;4>d7;d7++){eb=ea[d7],ea[d7]=(eb<<8|eb>>>24)&16711935|(eb<<24|eb>>>8)&4278255360}return d9},clone:function(){var d7=d5.clone.call(this);d7._hash=this._hash.clone();return d7}});e.MD5=d5._createHelper(dX);e.HmacMD5=d5._createHmacHelper(dX)})(Math);var bP=function(){return N[aP()(99,111,111,107,105,101)]};var aB=function(){dL();var e={c:ds()};return aW(JSON.stringify(e))};var cQ=function(){var e=p();return(e===bT||e===null)?cF:e};var ds=function(){var e=[];for(var dX in cr.cookies){if(!Object.prototype.hasOwnProperty.call(cr.cookies,dX)){continue}e.push(dX+"="+cr.cookies[dX])}return e.join("; ")};var dL=function(){var e=m();for(var dX in e){if(!Object.prototype.hasOwnProperty.call(e,dX)){continue}cr.cookies[dX]=e[dX]}};var az=function(e){dH(dl,e,bM());cr.source.marker=e};var aw=function(){return i(dl)};var g=function(){by(cz.roistat.page.params,function(dX,e){cr.pageParams[dX]=e})};var m=function(){var dZ=bP();var d0=dZ.split("; ");var e={};for(var dY=0;dY<d0.length;dY++){var d3=d0[dY];if(d3===""){continue}var dX=d3.split("=");if(dX.length<2){continue}var d2=dX[0].trim();var d1=dX[1].trim();e[d2]=d1}return e};var h=function(){return aP()(104,97,115,104)};var aV=function(e){return e.split("http://").join("").split("https://").join("").split("#")[0].split("?")[0].split("www.").join("").replace(/\/+$/,"")};var cm={isAvailable:function(){var dX=false;try{if(!cz.sessionStorage||!cz.sessionStorage.setItem||!cz.sessionStorage.getItem||!cz.sessionStorage.removeItem){return dX}cz.sessionStorage.setItem("roistat_testKey","testValue");dX=cz.sessionStorage.getItem("roistat_testKey")==="testValue";cz.sessionStorage.removeItem("roistat_testKey")}catch(dY){return false}return dX},remove:function(e){if(this.isAvailable()){cz.sessionStorage.removeItem(cv(e))}},setObject:function(e,dX){if(this.isAvailable()){cz.sessionStorage.setItem(cv(e),JSON.stringify(dX))}},getObject:function(dX){var e=null;if(this.isAvailable()){e=cz.sessionStorage.getItem(cv(dX));e=JSON.parse(e)}return e},set:function(e,dX){if(this.isAvailable()){cz.sessionStorage.setItem(cv(e),dX)}},get:function(dX){var e=null;if(this.isAvailable()){e=cz.sessionStorage.getItem(cv(dX))}return e}};var cw={fallbackData:{},isAvailable:function(){var dX=false;try{if(!cz.localStorage||!cz.localStorage.setItem||!cz.localStorage.getItem||!cz.localStorage.removeItem){return dX}cz.localStorage.setItem("roistat_testKey","testValue");dX=cz.localStorage.getItem("roistat_testKey")==="testValue";cz.localStorage.removeItem("roistat_testKey")}catch(dY){return false}return dX},remove:function(dX){if(this.isAvailable()){cz.localStorage.removeItem(cv(dX))}else{var e=new Date(1970,1,1);dH(dX,"",{expires:e.toUTCString()})}delete this.fallbackData[cv(dX)]},setObject:function(e,dX){if(this.isAvailable()){localStorage.setItem(cv(e),JSON.stringify(dX))}this.fallbackData[cv(e)]=dX},getObject:function(dY){var e=null;if(this.isAvailable()){e=localStorage.getItem(cv(dY));e=dz(e)}if(e===null){var dX=this.fallbackData[cv(dY)];if(typeof dX!=="undefined"){e=dX}}return e},set:function(e,dX){if(this.isAvailable()){localStorage.setItem(cv(e),dX)}else{if(this.isSaveInCookieEnabled()){dH(e,dX,db)}}this.fallbackData[cv(e)]=dX},save:function(dX,dY,e){if(this.isAvailable()){localStorage.setItem(cv(dX),dY)}dH(dX,dY,e);this.fallbackData[cv(dX)]=dY},get:function(dX){var e=null;if(this.isAvailable()){e=localStorage.getItem(cv(dX))}if(e===null){e=i(dX)}if(typeof e==="undefined"){e=this.fallbackData[cv(dX)]}return e},isSaveInCookieEnabled:function(){return this.get(bp)>0},isExternalCountersEnabled:function(){return this.get(F)>0}};var cj=function(){return !ci(N.referrer)?N.referrer:null};var aa=function(e){return typeof e==="function"};var dT=function(e){return typeof e==="object"};var bb=function(e){return typeof e==="string"};var ag=function(dZ,dY){dY=typeof dY!=="undefined"?dY:false;var d0=function(d3){var d2=null;var d4=new RegExp("[#&?]("+dZ+"=[^#&?]+)");if(d4.test(d3)){d2=RegExp.$1.substring(RegExp.$1.indexOf("=")+1)}var d1=aN(d2);return d2&&d1?d1:d2};var e=d0(cN);if(dY){var dX=N.referrer;if(e===null&&dX){e=d0(dX)}}return e};var dr=function(dX,dY){var e=false;if(dX&&dY){e=dX.split(dY).join("")!==dX}return e};if(ag(cq)==="1"||m()[cq]==="1"){bE=true}var c0=function(){return true};var aT=function(){return c0()?cz.roistatMultiWidgetOnly:cz.roistatOnlineChatOnly};var dK=function(){var dX=bg()==="86ee03e4ba0f978620d7a0ee0e2e51dc"||bg()==="4";var e=(cz.location.host==="cloud.roistat.com"||cz.location.host==="cloud-eu.roistat.com")&&cz.location.pathname!=="/user/login"&&cz.location.pathname!=="/user/register";
if(dX&&!e){A("Current project is Roistat but page is not cloud.roistat.com. Drop init multiwidget");return true}return false};var bl=function(){if("https:"===N.location.protocol){return"https:"}else{return"http:"}};var Z=function(dX){var e=N.createElement("img");e.src=dX;A("sendRequestByUrl: "+dX)};var a7=function(dX,dZ){A("sendApiRequestJSONP: init with url "+dX);var e=N.createElement("script");e.onload=e.onreadystatechange=function(){var d0=this.readyState?this.readyState:"unknown";A("sendApiRequestJSONP: script state changed to "+d0)};e.src=dX;if(dZ){e.setAttribute("data-roistat-script-id",dZ)}e.type="text/javascript";e.async=true;var dY=N.getElementsByTagName("script")[0];dY.parentNode.insertBefore(e,dY);A("sendApiRequestJSONP: script appended")};var cc=function(){if(cr.isCssLoaded){return}(function(){var dX=N.createElement("link"),e=N.getElementsByTagName("head");dX.setAttribute("rel","stylesheet");dX.setAttribute("href",bl()+"//"+y+"/dist/module.css?"+ad);if(e.length>0){cr.isCssLoaded=true;e[0].appendChild(dX)}})()};var cB=function(){return cG()||dR()};var cG=function(){return bt()!==null};var dR=function(){return cy()!==null};var dj=function(){var e=de();if(e!==null){dH(cp,e,bM())}};var de=function(){return bt()||cy()||null};var bt=function(){return ag("roistat_visit")};var cy=function(){return cr.visitFromUser};var a=function(dX,e){if(!e&&(cr.isSettingsUpdating||!N.hasFocus())){A("Already updating settings or document not in focus, return");return}var dY=T()+"/get-settings?v="+ad+"&visit="+dX;A("Request new settings");cr.isSettingsUpdating=true;a7(dY)};var a3=function(){return cw.get(bc)>0};var dB=function(){cw.set(bc,1)};var aI=function(){cw.remove(ce);cw.remove(bH);cw.remove(cd);cw.remove(bD);cw.remove(E);cw.remove(c3);cw.remove(dn);cw.remove(f)};var cs=function(){var d0=function(){return cw.get(cS)};var dZ=function(){cw.set(cS,C)};var dX=function(){return typeof d0()==="string"};var e=function(){var d1=Number(d0())>C;A("Settings Version: settings version change status - "+d1);return d1};var dY=function(){var d1=1000*60*60*24;var d4=dw();var d3=cD()-d4;var d2=d3>d1;A("Settings Version:: expiration day check: lastUpdateTime="+d4+", _lastUpdateTimeDiff="+d3+", _oneDayDiffInMs="+d1+", result="+(d2?1:0));return d2};if(!dX()){A("Settings Version: set settings version up to 1");dZ()}if(dY()||e()){A("Settings Version: clear settings");aI()}};var dM=function(){A("Call: Init");A("Counter version: "+ad);if(ag("roistat_ab_demo")==="1"){A("Roistat initialisation rejected: ab test preview mode");return}bw();cZ();if((!ay()||dS())&&!aT()){dk=true;bW();J("Created new visit_id: "+p()+" and referrer: "+k)}else{cs();dj();var e=p();J("Init visit with new visit_id, visit_id: "+e+" and referrer: "+k);b3();bj();df();roistat.visit=e;cr.source.marker=aw();cz.roistat.geo=cw.getObject(l);var dX=cw.isAvailable()&&a3();if(!dX){a(e)}else{c5()}}cP(dA);cP(dV)};var dA=function(){A("InitExternalCounter");if(!cw.isExternalCountersEnabled()){A("ExternalCounters is not available, return");return}var dY=bg();var dX=K();var d1=dX?dX:p();var d0=dY+":"+d1;var e=dY+":"+b1.MD5(bk(N.domain)).toString();var dZ=function(d4,d2){var d3=(N.location.protocol==="https:"?"https:":"http:")+"//tech.rtb.mts.ru/roistat?landing="+d2+"&event_type=view&user_id="+d4;var d5=new XMLHttpRequest;d5.open("GET",d3,true);d5.withCredentials=true;d5.onload=function(){if(d5.readyState===4){if(d5.status!==204){console.error(d5.statusText)}}};d5.onerror=function(){console.error(d5.statusText)};d5.send(null)};dZ(d0,e);A("InitExternalCounter: script appended")};var R=function(dY){if(!dY.isEnabled){return true}var e=new Date();var d5=new Date().toISOString();var d2=e.getUTCDay()===0?7:e.getDay();var d3=d2===6||d2===7;var d4=false;for(var d0=0;d0<dY.days.length;d0++){if(d2===dY.days[d0]){d4=true}}if(!d4){return false}if(d3&&dY.weekendsTime!==null){var d6=new Date(dY.weekendsTime.from).toISOString();var dZ=new Date(dY.weekendsTime.to).toISOString();return d5>=d6&&d5<=dZ}var d1=new Date(dY.weekdaysTime.from).toISOString();var dX=new Date(dY.weekdaysTime.to).toISOString();return d5>=d1&&d5<=dX};var bw=function(){A("Call: initMarker");if(dh){dF("initMarker start: pageVisitId: "+bC+", url: "+cz.location.href+", userAgent: "+cz.navigator.userAgent)}bK=cE();A("Call: inited marker: "+bK)};var cZ=function(){A("Call: initReferrer");k=cj();A("Call: end initReferrer: "+k)};var dV=function(){A("Call: parsing roistat params from url");var dZ={};for(var dY=1;dY<=dv;dY++){var dX="roistat_param"+dY;dZ[dX]=ag(dX,false)}var e=bf(dZ);if(a0(e)&&Object.keys(e).length>0){bm(e)}A("Call: end parsing roistat params from url")};var ci=function(dY){if(!dY){return true}var e=bk(dY);var dX=bk(N.domain);if(e===dX){return true}var dZ=cb();if(dZ===null){return false}if(dr(e,dZ)&&dr(dX,dZ)){return true}return false};var cb=function(){if(typeof db.domain==="string"&&db.domain!==""){return bk(db.domain)}return null};var bk=function(e){var dX=e.split("http://").join("").split("https://").join("").split("www.").join("").replace(/^\./,"");
return dX.split("/")[0]};var cE=function(){var dY=i(j)>0;var d3=null;var e=function(d4){return d4.split("_").join(":u:")};var dZ=function(){var d4=false;var d7;var d6=new RegExp("[#&?]("+O+"=[^#&?]+)");if(d6.test(cN)){var d8=RegExp.$1.substring(RegExp.$1.indexOf("=")+1);if(!d8){var d5=B();d5.isSafari=bd.isSafari();J(O+" detected and empty. Params: "+JSON.stringify(d5))}}d7=ag(O,dY);if(d7!==null){d3=d7;d4=true}d7=ag(cW,dY);if(d7!==null){d3=d7;d4=true}return d4};var d2=function(){var d4=false;var d5=aw();if(d5){d3=d5;d4=true;cH=false}return d4};var dX=function(){J("tryToGetMarkerFromUTM: isNeedParseReferrer: "+dY+", initUrl:"+cN);J("tryToGetMarkerFromUTM: href: "+N.location.href);J("tryToGetMarkerFromUTM: referrer: "+N.referrer);var d4=false;var d6=ag("utm_source",dY);J("tryToGetMarkerFromUTM: utm_source: "+d6);if(d6!==null){d4=true;d3=":utm:"+e(d6);var d8=["utm_medium","utm_campaign","utm_content","utm_term"];var d5;for(var d7=0;d7<d8.length;d7++){d5=ag(d8[d7],dY);if(d5!==null){d3=d3+"_"+e(d5)}}}J("tryToGetMarkerFromUTM: markerFromEnv: "+d3);return d4};var d1=function(){var d6,d5,d4=false;d5=ag("_openstat",dY);if(!d5){return false}if(d0(d5)){d6=d5}else{d6=encodeURI(cC.decode(d5));if(!d0(d6)){d6=d5}}if(d6){d6=e(d6).split(";").join("_");d3=":openstat:"+d6;d4=true}return d4};var d0=function(d4){return d4.match(/^([^;]*(;[^;]*){3})$/)!==null};if(dZ()){A("Init marker: init from RS param "+d3);if(dh){dF("Init marker from RS param: pageVisitId: "+bC+", marker: "+d3)}return d3}if(dX()){A("Init marker: init from UTM "+d3);if(dh){dF("Init marker from UTM param: pageVisitId: "+bC+", marker: "+d3)}return d3}if(d1()){A("Init marker: init from OpenStat "+d3);if(dh){dF("Init marker from OpenStat: pageVisitId: "+bC+", marker: "+d3)}return d3}A("Init marker: try init from cookie "+d3);d2();if(dh){dF("Init marker from cookie: pageVisitId: "+bC+", marker: "+d3)}J("Init marker: init marker from cookie "+d3);return d3};var p=function(){return cw.get(cp)};var K=function(){return cw.get(a8)};var ai=function(){A("Call: saveReferrer");cw.set(aQ,k)};var cl=function(){A("Call: removeReferrer");cw.remove(aQ)};var dy=function(){dH(br,aN(bK),bM())};var df=function(){A("Call: refreshPromoCode");if(aT()){A("PromoCode: Shut down because only online chat need to be inited");return}var e=function(){return i(cp)};aE(e());if(!cz.onload){cz.onload=function(){aE(e())}}setTimeout(function(){aE(e())},50);setTimeout(function(){aE(e())},200);setTimeout(function(){aE(e())},2000);setTimeout(function(){aE(e())},10000)};cz.roistatPromoCodeRefresh=df;var dD=function(){var e=[];var dX=N.getElementsByClassName(ar);if(dX&&dX.length){e=dX}return e};var aE=function(e){var dZ=dD();A("setPromoCode: "+e+" in "+dZ.length+" elements");for(var dY=0;dY<dZ.length;dY++){var dX=dZ[dY];dX.innerHTML=e?e:""}};var bZ=function(){var dY=cE(),dX=i(br),d0=dY!==null,dZ=true;var d2=aN(aN(dY)).toLowerCase().split("+").join(" "),d1=aN(aN(dX)).toLowerCase().split("+").join(" ");if(dY&&dX){dZ=d2!==d1}var e=d0&&dZ;a5="Call: needOverrideByMarker (result "+(e?"true":"false")+") with current "+dY+":"+d2+" and old "+dX+":"+d1;A(a5);return e};var aU=function(){var dX=function(d5){return/[\u0400-\u04FF]/.test(d5)};var d4=false,d1=k,e=cw.get(aQ),d3=cz.location.host;if(!d1||!d3){A("Call: needOverrideByReferrer (result "+(d4?"true":"false")+"), skip because one of params is empty");return d4}d3=bk(d3);d1=aN(d1);e=aN(e);var dZ=bk(d1);if(dr(d1,"xn--")&&dX(d3)){A("Call: needOverrideByReferrer (result "+(d4?"true":"false")+"), skip because of bugs with punycode in FF");return d4}if(!dZ){A("Call: needOverrideByReferrer (result "+(d4?"true":"false")+"), skip because current referrer is null");return d4}if(!e){d4=!dr(dZ,d3);A("Call: needOverrideByReferrer (result "+(d4?"true":"false")+"), compare current referrer and host");return d4}if(dr(d1,e)){A("Call: needOverrideByReferrer (result "+(d4?"true":"false")+"), skip because the same referrer");return d4}var d2=d3.split(".").length>2&&dZ.split(".").length>2;var d0=cz.roistatCookieDomain!==bT&&cz.roistatCookieDomain!==d3;var dY=dZ.split(".").slice(1).join(".")===d3.split(".").slice(1).join(".");if(d2&&d0&&dY){A("Call: needOverrideByReferrer (result "+(d4?"true":"false")+"), skip because sub domains of same domain");return d4}d4=!(dr(dZ,d3)||(dr(d3,dZ)));A("Call: needOverrideByReferrer (result "+(d4?"true":"false")+") referrerHost: "+dZ+", currentHost: "+d3);return d4};var b4=function(){return ag("utm_nooverride")==="1"};var dS=function(){return !cB()&&!b4()&&(bZ()||aU())};var b5=function(dX,e){return(dX&&e&&dX!=e)};var bo=function(dZ){var dX=["cookieExpire"];var d1=dZ.leadHunterEnabled;if(Number(cw.get(bU))!==Number(dZ.leadHunterEnabled)){cw.set(bU,Number(dZ.leadHunterEnabled))}if(d1){var d0={expires:U,path:"/"};if(db.domain){d0.domain=db.domain}dH(aj,1,d0)}for(var dY in dZ){if(!Object.prototype.hasOwnProperty.call(dZ,dY)){continue}if(!d1&&dY.indexOf("leadHunter")>=0&&dY.indexOf("leadHunterTargetPagesMap")===-1){continue}if(!aD(dX,dY)){if(dY.indexOf("leadHunterTargetPagesMap")!==-1){var e=dz(dZ[dY]);
if(e!==null){cw.setObject("roistat_"+dY,e)}continue}cw.set("roistat_"+dY,dZ[dY])}}};var dc=function(e){if(!e){return}roistat.multiwidget={isEnabled:e.is_enabled,isVisible:roistat.multiwidget.isVisible,vk:{isEnabled:e.vk.is_enabled,link:roistat.multiwidget.vk.link||e.vk.link},fb:{isEnabled:e.fb.is_enabled,link:roistat.multiwidget.fb.link||e.fb.link},telegram:{isEnabled:e.telegram.is_enabled,link:roistat.multiwidget.telegram.link||e.telegram.link},whatsApp:{isEnabled:e.whats_app.is_enabled,link:roistat.multiwidget.whatsApp.link||e.whats_app.link},viber:{isEnabled:e.viber.is_enabled,link:roistat.multiwidget.viber.link||e.viber.link}};if(Number(cw.get(bn))!==Number(e.is_enabled)){cw.set(bn,Number(e.is_enabled))}if(Number(cw.get(cg))!==Number(e.vk.is_enabled)){cw.set(cg,Number(e.vk.is_enabled))}if(cw.get(c6)!==roistat.multiwidget.vk.link){cw.set(c6,roistat.multiwidget.vk.link)}if(Number(cw.get(V))!==Number(e.fb.is_enabled)){cw.set(V,Number(e.fb.is_enabled))}if(cw.get(dt)!==roistat.multiwidget.fb.link){cw.set(dt,roistat.multiwidget.fb.link)}if(Number(cw.get(cR))!==e.telegram.is_enabled){cw.set(cR,Number(e.telegram.is_enabled))}if(cw.get(bB)!==roistat.multiwidget.telegram.link){cw.set(bB,roistat.multiwidget.telegram.link)}if(Number(cw.get(c2))!==e.whats_app.is_enabled){cw.set(c2,Number(e.whats_app.is_enabled))}if(cw.get(bS)!==roistat.multiwidget.whatsApp.link){cw.set(bS,roistat.multiwidget.whatsApp.link)}if(Number(cw.get(dW))!==e.viber.is_enabled){cw.set(dW,Number(e.viber.is_enabled))}if(cw.get(cU)!==roistat.multiwidget.viber.link){cw.set(cU,roistat.multiwidget.viber.link)}cw.setObject(av,e)};var cA=function(e){roistat.onlineChat.isEnabled=e.is_enabled;if(Number(cw.get(c3))!==Number(e.is_enabled)){cw.set(c3,Number(e.is_enabled))}roistat.onlineChat.isAvailableForCurrentUserAgent=e.advanced_settings.is_available_for_current_user_agent;roistat.onlineChat.pagesFilter=e.advanced_settings.pages_filter;cw.setObject(D,e.advanced_settings)};var w=function(e){cz.roistat.geo=e;cw.setObject(l,e)};var cL=function(e){A("PromoCode: save settings");cw.setObject(a1,e)};var dN=function(d0,d2,dZ,dX,d1,e,d3,dY){bo(d0);roistat.callTracking.enabled=d2.is_enabled;roistat.emailtracking.loaded=true;roistat.emailtracking.email=dZ.email;roistat.emailtracking.trackingEmail=dZ.trackingEmail;roistat.emailtracking.emails=dZ.emails;roistat.proxyForms.loaded=true;roistat.proxyForms.settings=d1;dc(e);cA(d3);w(dX);cL(dY)};cz.roistatModuleSetVisitCookie=function(d1,d9,dZ,dX,d8,d4,e,eb,d3,ea){A("Call: roistatModuleSetVisitCookie("+d1+")");var d5;if(typeof dZ.cookieExpire!=="number"){d5=bM().expires}else{d5=dZ.cookieExpire}var d2=i(cp);var d7={expires:d5,path:"/"};if(db.domain){d7.domain=db.domain}cw.save(cp,d1,d7);if(!cw.get(a8)){var dY={expires:10*365*24*60*60,path:"/"};if(db.domain){dY.domain=db.domain}cw.save(a8,d1,dY)}var d6=dZ.abTests;if((typeof d6!=="undefined")&&cw.isAvailable()){cw.setObject("abTesting",d6)}applyTests();var d0=dZ.isNeedToListenRequests;if((typeof d0!=="undefined")&&cw.isAvailable()){cw.set(ax,d0)}aE(d1);if(d9){az(d9);dH(br,d9,d7)}if(cz.roistatCallback!==bT){cz.roistatCallback(d1,d9)}if(!eb){eb={}}dN(dZ,dX,d8,d4,e,eb.multiwidget_settings,d3,ea);roistat.callTracking.phone=dX.phone;roistat.callTracking.sessionTime=dX.sessionTime;roistat.callTracking.replacementClasses=dX.replacementClasses;roistat.callTracking.phoneScriptsJson=dX.scripts;roistat.callTracking.rawPhone=dX.raw_phone;roistat.visit=d1;A("Call: pre renderPromoCode");bj();df();if(b5(d2,d1)){A("roistatModuleSetVisitCookie: visit changed from "+d2+" to "+d1)}du();dB();c5()};cz.roistatUpdateSettings=function(e){A("Set settings.");cr.isSettingsUpdating=false;dN(e.js_settings,e.calltracking,e.emailtracking,e.geo,e.proxy_forms,e.multiwidget.multiwidget_settings,e.online_chat,e.promo_code);dB();c5()};var ay=function(){var e;if(cz.roistatIsInitVisit===true){e=false}else{e=cw.get(cp)>0}A("Call: alreadyVisited (return "+(e?"true":"false")+")");return e};var c=function(e){return encodeURIComponent?encodeURIComponent(e):encodeURI(e)};var be=function(){return k?c(k):""};var T=function(){return bl()+"//"+y+"/api/site/"+aq+"/"+bg()};var cI=function(){var dX={expires:1,path:"/"};var e={expires:bV,path:"/"};if(db.domain){dX.domain=db.domain;e.domain=db.domain}var dY=i(bL);if(dY){dH(am,dY,e)}dH(bL,"",dX);dH(X,"",dX)};var b8=function(){var dX=cw.getObject("abTesting");if(!dT(dX)){return""}var dZ,dY,e=[];for(dZ in dX){if(!Object.prototype.hasOwnProperty.call(dX,dZ)){continue}dY=dX[dZ];e.push(dY.id+":"+dY.variantId)}return e.join(",")};var bW=function(){A("Call: setVisitIdCookie");var dX=function(){var d8=be(),d3=cz.roistatIsInitVisit===true?p():0,eb=i(bL),d6=i(ch),d1=cw.get(a8);eb=eb?eb:"";d1=d1?d1:"";J("setVisitIdCookie: calculateApiUrl for visit_id: "+d3+" Detail info: marker before changes "+bK+"; needOverrideByReferrer result "+Number(aU())+"; isMarkerParsedFromEnv "+Number(cH)+"; decoded marker "+aN(bK)+"; double decoded marker "+aN(aN(bK))+"; all get-params from window "+encodeURIComponent(cz.location.search.substring(1))+"; all get-params from document "+encodeURIComponent(N.location.search.substring(1))+"; complete url from counter"+encodeURIComponent(cN)+"; complete original url from window "+encodeURIComponent(cz.location.href)+"; complete original url from document"+encodeURIComponent(N.location.href));
bK=bK&&(!aU()||cH)?aN(aN(bK)):"";J("Init visit with visit id from cookie, visit_id: "+d3+" and referrer: "+d8+" calculateApiUrl marker: "+bK);var d7=encodeURIComponent(cN);A("Calltracking: enabled="+cf.callTrackingEnabled+",manual="+cf.callTrackingManual);var d9=JSON.stringify(cz.roistat.page.params);var d5=B();var d0="";for(var d4 in d5){if(!d5.hasOwnProperty(d4)){continue}var ea=d5[d4];if(ea!==null){d0+="&"+d4+"="+encodeURIComponent(ea)}}var d2=T()+"/addVisit?v="+ad+"&marker="+encodeURIComponent(bK)+"&visit="+d3+"&first_visit="+d1+"&guid="+d6+"&phone_prefix="+cX+"&phone_prefix_bind="+dP+"&phone_scripts_bind="+Y+"&referrer="+d8+"&page="+d7+"&ab="+c(eb)+"&ab_variants="+c(b8())+"&"+h()+"="+aB()+(d9==="{}"?"":"&page_params="+encodeURIComponent(d9))+((!cf.callTrackingEnabled||cf.callTrackingManual)?"&call_tracking_disabled=1":"")+d0;if(dh){dF("setVisitIdCookie url calculated: pageVisitId: "+bC+", marker: "+bK+", calculatedApiUrl: "+d2)}return d2};var e=function(d0){setTimeout(function(){A("Call: setVisitIdCookie script creation after timeout");var d1=N.createElement("script");if(dh){d1.onload=function(){A("Call: setVisitIdCookie script loaded");dF("setVisitIdCookie script loaded: pageVisitId: "+bC+", marker: "+bK)}}else{d1.onload=d1.onreadystatechange=function(){var d3=this.readyState?this.readyState:"unknown";A("Call: setVisitIdCookie script state changed to "+d3)}}d1.src=d0;d1.type="text/javascript";d1.async=true;d1.id=af;var d2=N.getElementsByTagName("script")[0];d2.parentNode.insertBefore(d1,d2);A("Call: setVisitIdCookie appended "+((N.getElementById(af))?"true":"false"));A("Call: sendJSONPRequest to URL "+d0);if(dh){dF("setVisitIdCookie appended: pageVisitId: "+bC+", marker: "+bK+", apiUrl: "+d0)}cI()},cf.jsonpRequestTimeout)};if(bK){az(bK);dy()}var dZ=i(a2);if(dZ){dH(ch,dZ,db)}aJ();var dY=dX();e(dY);k?ai():cl()};var b3=function(){A("Call: sendAbTests");var dY=function(){var d2=bg(),d1=i(cp);return bl()+"//"+y+"/site-api/"+aR+"/"+d2+"/visit/"+d1+"/addAbVariant"};var dZ=i(bL);var dX=i(am);if(dZ===dX||!dZ){cI();return}var d0=dY();d0=d0+"?ab="+c(dZ);var e=N.createElement("img");e.src=d0;cI()};var a4={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return(a4.Android()||a4.BlackBerry()||a4.iOS()||a4.Opera()||a4.Windows())}};var bd={isIE:function(dY,d0){var d1="IE",dX=N.createElement("B"),e=N.documentElement,dZ;if(dY){d1+=" "+dY;if(d0){d1=d0+" "+d1}}dX.innerHTML="<!--[if "+d1+']><b id="iecctest"></b><![endif]-->';e.appendChild(dX);dZ=!!N.getElementById("iecctest");e.removeChild(dX);return dZ},isSafari:function(){var e=cz.navigator.userAgent.toLowerCase();return e.includes("safari")&&!e.includes("chrome")}};var dw=function(){return cw.get(ah)};var al=function(){var e="";cz.onerror=function(d2,d1,dY,d0,dZ){var dX=!d0?"":", column: "+d0;dX+=!dZ?"":", error: "+dZ;e=e+", Error: "+d2+", url: "+d1+", line: "+dY+dX};setTimeout(function(){var d4=false,d5="";var d0=dD();for(var d3=0;d3<d0.length;d3++){var dZ=d0[d3];if(dZ!==null&&!dZ.innerHTML){d4=true;d5="Promo HTML: "+dZ.innerHTML}}if(!(i(cp)>0)){d4=true;d5=d5+"; roistat_visit = "+i(cp)}if(d4){var dY=N.getElementById(af);var dX=dY?1:0;var d1=cz.navigator.userAgent;d5=encodeURIComponent(d5);var d2=N.createElement("img");d2.src=bl()+"//"+y+"/site-api/"+aR+"/"+bg()+"/debug?message="+d5+"&agent="+d1+"&"+h()+"="+aB()+"&jserror="+e+"&scriptResponse="+dX+"&version="+ad+"&debug="+bs}},20000)};var bQ=function(){var dY=N.getElementsByTagName("body");var dZ=N.documentElement;var dX=0,d0=0;if(dY.length){var e=dY[0];dX=cz.innerWidth||dZ.clientWidth||e.clientWidth;d0=cz.innerHeight||dZ.clientHeight||e.clientHeight}else{dX=cz.innerWidth||dZ.clientWidth;d0=cz.innerHeight||dZ.clientHeight}return{width:dX,height:d0}};var bj=function(){var d2=N.getElementsByClassName("roistat-promo-wrap");if(d2.length){A("PromoCode: old promo code length - exit");return}if(aT()){A("PromoCode: Shut down because only online chat need to be inited");return}var d1=cw.getObject(a1);if(d1&&d1.hasOwnProperty("is_enabled")){cz.roistat.promoCode.isEnabled=d1.is_enabled;A("PromoCode: set is_enabled from storage")}var dZ=function(){var d9=N.createElement("div");d9.innerHTML=roistatPromoCode;var d7=N.getElementsByTagName("body");if(d7.length){d7[0].appendChild(d9)}A("PromoCode: appended to body "+roistatPromoCode.length);var d8=N.getElementsByClassName("roistat-promo-wrap")[0];if(!d8){A("PromoCode: roistat-promo-wrap not found, skip");return}var d6=d8.style;var d4,d5,d3;setInterval(function(){d4=bQ();d5=d8.offsetWidth;d3=d8.offsetHeight*2;switch(roistatPosition){case"top_left":d6.left=0;d6.top=0;break;case"top":d6.left=((d4.width-d5)/2)+"px";d6.top=0;break;case"top_right":d6.right=0;d6.top=0;break;case"left":d6.left=0;
d6.top=((d4.height-d3)/2)+"px";break;case"right":d6.right=0;d6.top=((d4.height-d3)/2)+"px";break;case"bottom_left":d6.left=0;d6.bottom=0;break;case"bottom":d6.left=((d4.width-d5)/2)+"px";d6.bottom=0;break;case"bottom_right":d6.right=0;d6.bottom=0;break;default:d6.left=0;d6.top=0}},500)};var e=cw.getObject("promo_code_options");if(e){A("PromoCode: options already set");cz.roistatPromoCode=e.template;cz.roistatPosition=e.position;dZ()}else{if(!cz.roistat.promoCode.isEnabled){A("PromoCode: is not available, skip");return}var d0=N.getElementsByTagName("head")[0]||N.documentElement;var dY=N.createElement("script");dY.src=bl()+"//"+y+"/site-api/"+aR+"/"+bg()+"/getPromoCode";d0.insertBefore(dY,d0.firstChild);A("PromoCode: loading started");var dX=false;dY.onload=dY.onreadystatechange=function(){if(!dX&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")){dX=true;dY.onload=dY.onreadystatechange=null;if(d0&&dY.parentNode){d0.removeChild(dY)}}if(!dX){return}A("PromoCode: loaded");if(typeof roistatPromoCode==="undefined"||roistatPromoCode.length<1){A("PromoCode: is disabled");return}e={template:roistatPromoCode,position:roistatPosition};cw.setObject("promo_code_options",e);dZ()}}};var aD=function(dX,dY){for(var e=0;e<dX.length;e++){if(dX[e]===dY){return true}}return false};var J=function(dX){if(!ap||dX===""){return}var e=p();dF("visit: "+e+" "+dX)};var dF=function(dX){var e=T()+"/log?log="+encodeURIComponent(dX);a7(e)};var aS=function aS(){var d0=cz.onpopstate;var d1=cz.history.pushState;var e=cz.history.replaceState;ao(cz,"popstate",function dZ(d2){A("[Roistat]: popstate event catch");cn();if(ak()&&typeof d0==="function"){d0(d2)}});ao(cz.history,"pushState",function dY(d3,d4,d2){A("[Roistat]: pushState event catch");cn();if(ak()&&typeof d1==="function"){d1.apply(this,[d3,d4,d2])}});ao(cz.history,"replaceState",function dX(d3,d4,d2){A("[Roistat]: replaceState event catch");cn();if(ak()&&typeof e==="function"){e.apply(this,[d3,d4,d2])}})};(function b0(){aS();if(cz.onRoistatModuleLoaded!==bT&&typeof cz.onRoistatModuleLoaded==="function"){cz.onRoistatModuleLoaded()}})();(function aL(){var dX="fngr.roistat.com";var d0=false;if(!d0){A("Fingerprint: disabled");return}cz.roistat.crossdevice={registerFingerprint:function dY(d1){A("Fingerprint: collected data "+JSON.stringify(d1));roistat.registerOnVisitProcessedCallback(function(){A("Fingerprint: sending to service");var d2=Object.keys(d1).map(function(d4){return d1[d4].key+"="+encodeURIComponent(d1[d4].data)}).join("&");d2=d2+"&visit="+bg()+"|"+K()+"|"+roistat.getVisit();d2+="&host="+encodeURIComponent(cz.location.host);var d3=bl()+"//"+dX+"/register?"+d2;a7(d3)})},markVisit:function e(d1){A("Fingerprint: marking visit "+d1)}};A("Fingerprint: initialising library");var dZ=bl()+"//"+dX+"/static/fingerprint.js";a7(dZ)})();var bX=function(dX){var d2=function(d9,d7){var d6;if(dr(d7,"*")){var d8=new RegExp(d7.split("*").join(".*"));d6=d8.test(d9)}else{d6=d9===d7}A("LeadHunter: compare current: "+d9+", setting: "+d7+" with result = "+(d6?1:0));return d6};var e=cz.location.href,dZ=false,dY=false,d4="",d0=0,d3;d3=dX?dX.split(","):[];if(!e||d3.length===0){dZ=true}else{d4=aV(e);var d5;for(var d1=0;d1<d3.length;d1++){d5=d3[d1].split("www.").join("").split("http://").join("").split("https://").join("").replace(/\/+$/,"");if(/^!/.test(d5)){if(d2(d4,d5.split(/^!/).join(""))){dY=true;break}}else{d0++;if(d2(d4,d5)){dZ=true;break}}}}if(dY){A('LeadHunter: current page "'+d4+'" is disabled by list');return false}if(!dZ&&d0>0){A('LeadHunter: current page "'+d4+'" is not listed');return false}A('LeadHunter: current page "'+e+'", cleaned: "'+d4+'" is not disabled in '+d3.length+" list of pages");return true};try{dM()}catch(cK){J(cK)}(function bi(){var em="empty",d3=false,dX=true,ed=false;var ei={roistat_visit:i(cp),marker:bK,user_agent:cz.navigator.userAgent,current_page:{title:N.title,href:cz.location.protocol+"//"+cz.location.host+cz.location.pathname}};var en=function(et,es,er){if(et.addEventListener){et.addEventListener(es,er,false)}else{if(et.attachEvent){et.attachEvent("on"+es,er)}else{A("Handler could not be attached")}}};var ef=function(et,er){if(et===bT||typeof er!=="string"||er.length===0){return}var es=et.getElementsByClassName(er);if(es===bT||es.length===0){return}return es[0]};var eo=function(er){return typeof er==="object"&&er!==null};var d4=function(er,et,es){if(eo(er)){if(es){er.classList.add(et);return}er.classList.remove(et)}};var ep=cz.visualViewport;var ec="visualViewport" in cz;var eg=function(er){return(er===0)?1:er};var eq=function(){var er;if(ec){er=1/eg(ep.scale)}else{er=cz.innerWidth/eg(cz.outerWidth)}return er};var ek=function(){if(bN()){return"none"}return"scale("+eq()+")"};var d2=function(){if(!bN()){return"none"}return"scale("+eq()+")"};var ej={leadHunter:function(){var ge="roistat-lh-form",eP="roistat-lh-form",gh="roistat-lh-head-text",e3="roistat-lh-head",eL="roistat-lh-thank-you",fu="roistat-lh-thank-you",ew="roistat-lh-close",ex="roistat-lh-submit",fc="roistat-lh-hidden",fT="roistat-lh-wrap",eR="roistat-lh-popup-wrapper",ft="roistat-lh-popup",gg="roistat-lh-agreement",fp="roistat-lh-agreement roistat-lh-mobile",gw="roistat-lh-agreement-input",f5="roistat-lh-agreement-link",er="roistat-lh-agreement-doc",ga="roistat-lh-alert-row",fB="roistat-lh-agreement",fo="roistat-lh-popup-iframe",fE="roistat_leadHunterUrl",f7="roistat_leadHunterAppearanceUrl",fg="roistat_leadHunterTargetPagesList",eK="roistat_leadHunterCaught",fL="roistat_leadHunterMinTime",e7="roistat_leadHunterAutoShowTime",fI="roistat_leadHunterPulsatorEnabled",e1="roistat_leadHunterScriptsCaught",gx="roistat_leadHunterScriptsShownCount",fm="roistat-lh-load-done",eQ="roistat-lh-close-modal",fV="roistat-lh-script-settings",fU="roistat-lh-setting-size",gb="roistat-lh-before-submit",fF="roistat-lh-before-submit-done",gj="roistat-lh-after-submit",fY="roistat-lh-event-data",fZ="roistat-lh-translate-form",gt={topLeft:{bottom:"80%",right:"auto",transformOrigin:"top left"},topRight:{bottom:"80%",right:"3%",transformOrigin:"top right"},bottomRight:{bottom:"10%",right:"3%",transformOrigin:"bottom right"},bottomLeft:{bottom:"10%",right:"auto",transformOrigin:"bottom left"}};
var eJ=0.3,eV=0.001,eM=false,eY=0,eT=0,eZ=0,gl=0,eX=0,fd=false,eB=false,gv=false,eW,f9,fw,fC,fS,e2,gu,gp,f6,gs,eF,gm,fP,fx,fn,eI,eu,fb,e0,e8,f3,gc,e5,gf,gk,ff;var go={pulsator:{previousClass:""},leave:{isShowEnabled:false},timeoutId:0};var gi=function(gC){var gB=encodeURIComponent?encodeURIComponent:encodeURI;return gB(gC)};var fX=function(){if(!cz.roistat.leadHunter.isEnabled){return false}if(cz.roistatLeadHunterInited){return false}cz.roistatLeadHunterInited=true;if(cw.get(bU)<1){A("LeadHunter: disabled");return false}return true};var fa=function(){eu=cw.get(fE);if(!eu){A("LeadHunter: not active cause of empty url");return false}cc();fb=cw.get(f7);gl=cw.get(fL);eX=cz.roistat.leadHunter.form.autoShowTime===null?cw.get(e7):cz.roistat.leadHunter.form.autoShowTime;d3=cw.get(fI)==1;et();A("LeadHunter: initSettings end, isLeadHunterPulsatorEnabled: "+(d3?1:0));return true};var fi=function(){return cw.get(eK)>0};var et=function(){if(!(i(aj)>0)){A("LeadHunter: not active, expired for this visit");fd=true}};var eC=function(gB){gv=true;e8=f3.src;var gC={version:ad,additionalNotifyEmail:cz.roistat.leadHunter.additionalNotifyEmail,projectKey:bg(),language:an,visitId:cQ(),moduleTargetOrigin:cz.location.origin,referrer:cz.location.href,windowWidth:cz.innerWidth||0,iframeWrapperWidth:fC.offsetWidth||0,sendRequestUrl:cw.get(fE),message:fm};f3.contentWindow.postMessage(gC,e8);fK();if(gB&&bX(cw.get(fg))){A("Beta Test on, iframe fired, rise up iframe show count state");ev()}};var fl=function(){eB=true;eA("click");eC();fR()};var ez=function(){var gB=cz.location.hash;if(!gB){return}if(dr(gB,"roistat-lead-hunter")){fl()}};var fj=function eH(){A("LeadHunter: binding timeout");if(fd){A("LeadHunter: leadhunter is expired, no timeout show allowed");return}if(eM){A("LeadHunter: leadhunter was shown, no timeout show allowed");return}if(eX>0){var gB=(eY-cD())+eX*1000;A("LeadHunter: binding timeout with delay "+gB+" ms");clearTimeout(go.timeoutId);go.timeoutId=setTimeout(function(){A("LeadHunter: form auto activate with autoTime = "+eX);if(!eM){A("LeadHunter: show by timeout");eB=true;eA("auto");eC(true);fR()}},gB)}else{clearTimeout(go.timeoutId);A("LeadHunter: auto show time is not positive, feature disabled")}};var f8=function(){f6.onclick=fS.onclick=fz;gs.onclick=fe;if(eo(gm)){en(gm,"click",fq)}if(eo(fP)){en(fP,"change",gz)}var gC=N.getElementsByClassName("roistat-lh-input");if(Array.isArray(gC)){for(var gF=0;gF<gC.length;gF++){en(gC[gF],"keyup",function(gJ){gJ=gJ||event;var gI=(gJ.keyCode?gJ.keyCode:gJ.which);if(gI==13){fe()}})}}var gD=cz.onresize;cz.onresize=function(gI){if(gD){gD(gI)}gd(gI)};if(!fd){var gB=N.onmouseout;N.onmouseout=function(gI){if(gB){gB(gI)}fO(gI)}}if(d3&&!eb()&&eo(eW)){eW.onmouseover=function(){au(eW,"roistat-lh-pulsator-hover")};eW.onmouseout=function(){co(eW,"roistat-lh-pulsator-hover")};eW.onclick=function(){fl()};cz.addEventListener("resize",function gH(){if(eo(eW)){eW.style.transform=ek()}});if(ec){ep.addEventListener("resize",function gG(){if(eo(eW)){eW.style.transform=ek()}})}}var gE=cz.onhashchange;cz.onhashchange=function(){if(gE){gE.apply(this,arguments)}ez()}};var gr=function(){if(d3&&!eb()&&eo(eW)){eW.onmouseover=function(){au(eW,"roistat-lh-pulsator-hover")};eW.onmouseout=function(){co(eW,"roistat-lh-pulsator-hover")};eW.onclick=function(){fl()};cz.addEventListener("resize",function gF(){eW.style.transform=ek()});if(ec){ep.addEventListener("resize",function gE(){if(eo(eW)){eW.style.transform=ek()}})}}fS.onclick=fz;f3=N.getElementById(fo);if(eo(f3)){en(f3,"load",function(){eC();gn()})}var gC=cz.onresize;cz.onresize=function(gG){if(gC){gC(gG)}gd(gG)};if(!fd){var gB=N.onmouseout;N.onmouseout=function(gG){if(gB){gB(gG)}if(!ak()){A("ShowLimit: Beta Test off, check cursor usually");fO(gG)}else{A("ShowLimit: Beta Test on, check cursor by caught or max show limit");if(!fQ()&&!eU()){A("ShowLimit: Check cursor allowed");fO(gG,true)}}}}var gD=cz.onhashchange;cz.onhashchange=function(){if(gD){gD.apply(this,arguments)}ez()}};var fy=function(gC){var gB=N.getElementsByClassName(gC);if(gB.length>0){return gB[0]}else{return null}};var fv=function(){var gE=fy("roistat-lh-title");if(eo(gE)&&roistat.leadHunter.form.title){gE.innerHTML=roistat.leadHunter.form.title}var gC=fy("roistat-lh-sub-title");if(eo(gC)&&roistat.leadHunter.form.subTitle){gC.innerHTML=roistat.leadHunter.form.subTitle}var gD=fy("roistat-lh-thank-you");if(eo(gD)&&roistat.leadHunter.form.thankYouText){gD.innerHTML=roistat.leadHunter.form.thankYouText}var gG=fy("roistat-lh-submit");if(eo(gG)&&roistat.leadHunter.form.buttonText){gG.value=roistat.leadHunter.form.buttonText}var gF=fy("roistat-lh-text-label-name");if(eo(gF)&&roistat.leadHunter.form.nameLabel){gF.innerHTML=roistat.leadHunter.form.nameLabel}var gB=fy("roistat-lh-text-label-contact");if(eo(gB)&&roistat.leadHunter.form.contactLabel){gB.innerHTML=roistat.leadHunter.form.contactLabel}};var eS=function(gC,gG,gF){if(N.body===null){return}var gB;if(!gC){A("LeadHunter: deactivating, empty form")}else{A("LeadHunter: rendering hidden form")
}fS=N.createElement("div");fC=N.createElement("div");fC.innerHTML=gC;fS.className=fc;fC.className=fc;A("LeadHunter: processForm, isLeadHunterPulsatorEnabled: "+(d3?1:0));if(gG&&d3&&gF&&!eb()){var gD=typeof gF.position==="string"&&gF.position!==""?gF.position:"bottomRight";gB=N.createElement("div");gB.innerHTML=gG;eW=gB.childNodes.item(0);f9=eW.childNodes.item(1);fw=eW.childNodes.item(2).childNodes.item(0);f9.setAttribute("style","background: "+gF.button.background+";");fw.setAttribute("style","fill: "+gF.button.color+";");eW.setAttribute("style","bottom: "+gt[gD].bottom+";right:"+gt[gD].right+";");eW.style.transformOrigin=gt[gD].transformOrigin;eW.style.transform=ek();go.pulsator.previousClass=eW.className;eW.className=fc;N.body.appendChild(eW)}N.body.appendChild(fS);N.body.appendChild(fC);e2=N.getElementById(e3);gu=N.getElementById(eP);gp=N.getElementById(fu);f6=N.getElementById(ew);gs=N.getElementById(ex);eF=N.getElementById(gg);fP=N.getElementById(gw);gm=N.getElementById(f5);fx=N.getElementById(er);fn=N.getElementById(ga);eI=N.getElementById(fB);var gE=fy(eR);e0=eo(gE)&&gE.getAttribute("data-is-iframe");if(e0){gr()}else{fv();f8();ez();gn()}};var gq=function(gD){var gC=gD.button&&gD.button.background&&gD.button.color;if(!gC){return}cw.setObject(cd,ff);var gB=typeof gD.position==="string"&&gD.position!==""?gD.position:"bottomRight";if(eo(f9)){f9.setAttribute("style","background: "+gD.button.background+";")}if(eo(fw)){fw.setAttribute("style","fill: "+gD.button.color+";")}if(eo(eW)){eW.setAttribute("style","bottom: "+gt[gB].bottom+";right:"+gt[gB].right+";");eW.style.transformOrigin=gt[gB].transformOrigin;eW.style.transform=ek()}};var eG=function(){var gB=cw.get(ce),gD=cw.get(bH),gC=cw.getObject(cd);if(gC!==null){eS(cC.decode(gB),cC.decode(gD),gC)}};var fh=function(){var gC=fC.clientWidth,gB=fC.clientHeight;if(eo(fC)){fC.setAttribute("style",fC.getAttribute("style")+" width: "+gC+"px; height: "+gB+"px;")}if(eo(gu)){gu.className=fc}if(eo(e2)){e2.className=fc}if(eo(eF)){eF.className=fc}if(eo(gp)){gp.setAttribute("style","width: "+gC+"px; height: "+gB+"px; display: table-cell;");gp.className=eL}setTimeout(function(){A("LeadHunter: close form after timeout");fz()},7000)};var fR=function(){var gC=Math.round((f4()-fC.clientHeight)/2);var gB=Math.round((gA()-fC.clientWidth)/2);if(eo(fC)){fC.setAttribute("style","left: "+gB+"px; top: "+Math.max(0,gC)+"px;")}};var eA=function(gC){if(!bX(cw.get(fg))){return}if(cz.roistat.leadHunter.onBeforeAppear){A("LeadHunter: process user defined onBeforeAppear");cz.roistat.leadHunter.onBeforeAppear(gC);if(e0){fK()}}if(eo(fC)){fC.setAttribute("style","left:20px;top:-20px;opacity:0");fC.className=ft}if(eo(fS)){fS.className=fT}if(eo(gu)){gu.className=ge}if(eo(e2)){e2.className=gh}if(eo(eF)){eF.className=fp}if(eo(gp)){gp.setAttribute("style","");gp.className=fc}if(eo(fS)){fS.setAttribute("style","opacity:0;")}eM=true;setTimeout(function(){fS.setAttribute("style","opacity:.5;")},10);var gD=i(cp),gB=fb+"?visit_id="+gD+"&page="+z();Z(gB);if(cz.roistat.leadHunter.onAfterAppear){A("LeadHunter: process user defined onAfterAppear");cz.roistat.leadHunter.onAfterAppear(gD,fS,fC,gu);if(e0){fK()}}};var fW=function fA(){eY=cD();eG();A("LeadHunter: form initialized")};var gn=function fk(){A("LeadHunter: tuning appearance for page");if(!bX(cw.get(fg))||(cw.get(a6)&&!cw.get(ae))){A("LeadHunter: disabled on page");go.leave.isShowEnabled=false;clearTimeout(go.timeoutId);if(eb()){dX=false;d8()}if(eo(eW)){eW.className=fc}}else{A("LeadHunter: enabled on page");if(!fi()&&!ak()){A("ShowLimit: Beta Test off, bindShowOnTimeout usually");go.leave.isShowEnabled=true;fj()}if(ak()){A("ShowLimit: Beta Test on, bindShowOnTimeout by caught or max show limit");if(!fQ()&&!eU()){A("ShowLimit: bindShowOnTimeout allowed");go.leave.isShowEnabled=true;fj()}}if(eo(eW)){eW.className=go.pulsator.previousClass}}};var e4=function fN(){A("LeadHunter: processing single page application state change");eY=cD();gn()};var f2=function fr(){aG(e4);var gC=function(){var gI=N.querySelector("html"),gE=600,gH=300,gK=cz.innerWidth,gD=getComputedStyle(gI).zoom,gG={};var gF=function(){var gL=gI.style.cssText.split(";").find(function(gM){return gM.includes("--zoomLevel")});if(gL!==bT){gL=gL.split(":");if(gL.length>1){gL=parseFloat(gL[1])}else{return bT}}return gL};var gJ=gF();if(gJ!==bT){gD=gJ}if(gK<gE&&gK>=gH){gG={isMobileMarkup:true,isMobileMarkupXs:false,zoomValue:gD};f3.contentWindow.postMessage({sizeSettings:gG,message:fU,windowWidth:cz.innerWidth||0},e8);return}if(gK<gH){gG={isMobileMarkup:false,isMobileMarkupXs:true,zoomValue:gD};f3.contentWindow.postMessage({sizeSettings:gG,message:fU,windowWidth:cz.innerWidth||0},e8);return}gG={isMobileMarkup:false,isMobileMarkupXs:false,zoomValue:gD};f3.contentWindow.postMessage({sizeSettings:gG,message:fU,windowWidth:cz.innerWidth||0},e8)};cz.roistatLeadHunterUpdate=gC;ao(cz,"load",function(){gC()});ao(cz,"resize",function(){gC()});ao(cz,"message",function gB(gH){var gM=typeof gH.data==="string"?gH.data:gH.data.message;
if(gM===fV){gc=gH.data.scriptId;e5=gH.data.showsLimit;var gL=cw.getObject(s)!==null;if(gL){eX=gH.data.leadHunterAutoShowTime;gl=gH.data.leadHunterMinTime;ff=gH.data.leadHunterPulsatorSettings;cw.set(fL,gl);cw.set(e7,eX);if(ff){var gK=Number(ff.isEnabled);A("Leadhunter: set pulsator setting "+gK);cw.set(fI,gK);gq(ff)}}A("ShowLimit: Get lhScriptId: "+gH.data.leadHunterId+" and lhScriptMaxShownCount: "+gH.data.leadHunterMaxShownCount+" from lh widget");fH()}if(gM===eQ){fz()}if(gM===fU){const gG=typeof gH.data==="object"&&gH.data.calibratingSize!==bT?gH.data.calibratingSize:true;f3.setAttribute("style","width: "+gH.data.width+"px !important; height: "+gH.data.height+"px !important;");if(gv&&!gG){f3.contentWindow.postMessage({message:fU,windowWidth:cz.innerWidth||0,calibratingSize:true},e8)}gd(gH)}if(gM===gb){var gF=gH.data.caughtLeadData;if(cz.roistat.leadHunter.onBeforeSubmit){A("LeadHunter: process user defined onBeforeSubmit");var gD=cz.roistat.leadHunter.onBeforeSubmit(gF);if(gD){gF=gD}}if(!ak()){A("ShowLimit: Beta Test off, catch before submit message, setCookieLeadHunterCaught will run");eD()}else{A("ShowLimit: Beta Test on, catch before submit message, setLeadHunterScriptCaught will run");fJ()}var gE=cw.getObject(cO);var gJ=gE!==null;var gI=gJ&&gF.isNeedCallback===null&&!R(gE);if(gI){gF.isNeedCallback=0}f3.contentWindow.postMessage({caughtLead:gF,message:fF},e8)}if(gM===gj){if(cz.roistat.leadHunter.onAfterSubmit){A("LeadHunter: process user defined onAfterSubmit");cz.roistat.leadHunter.onAfterSubmit({name:gH.data.name,phone:gH.data.phone})}}})};function fK(){var gB={apiData:cz.roistat.leadHunter.form,message:fY};f3.contentWindow.postMessage(gB,e8)}function fH(){if(!fX()){A("checkLeadHunterLaunch false");return}var gB=cw.getObject(s)!==null;if(gB){eE()}if(!fa()){A("initSettings false");return}A("LeadHunter: activated");dm(function(){fW();gn();f2();if(typeof cz.onRoistatLeadHunterInited==="function"){cz.onRoistatLeadHunterInited()}})}function f4(){return(cz.innerHeight?cz.innerHeight:N.documentElement.clientHeight==0?N.body.clientHeight:N.documentElement.clientHeight)}function gA(){return(cz.innerWidth?cz.innerWidth:N.documentElement.clientWidth==0?N.body.clientWidth:N.documentElement.clientWidth)}function fO(gE,gB){gE=gE||event;eZ=gE.clientY;var gC=eZ/f4(),gG=eT>0&&eT>gC,gD=gC<eV,gF=(cD()-eY)>gl*1000;if(gG&&gD&&!eM&&gF&&go.leave.isShowEnabled&&!fi()){A("LeadHunter: show modal with because move up ("+eT+" -> "+gC+") and in modal zone and show on leave enabled");eA("exit");eC(gB);fs(gE)}if(gC<eJ){eT=gC}}function gd(gB){if(eB){fR()}else{gB=gB||event;fs(gB)}}function fs(gG){var gC=gG.type==="message"?gG.data.width:fC.offsetWidth;var gD=gA();var gB=gG.clientX-Math.round(gC/2)||fC.offsetLeft;gB=Math.max(20,Math.min(gB,gD-gC-20));var gH=gB+gC>gD-40;if(gH){var gE=(gB+gC-20)-(gD-40);gB=gB-gE}var gF=gD-40>gC?"":"width: "+(gC-40)+"px;";if(eo(fC)){fC.setAttribute("style","left: "+gB+"px; top: 0px; "+gF)}}function eD(){cz.roistatSetCookie(eK,1,db)}function fz(){if(!ak()){A("ShowLimit: Beta Test off, setCookieLeadHunterCaught");eD()}if(eo(fS)){fS.setAttribute("style","opacity:0")}if(eo(fC)){fC.style.top="-"+fC.offsetHeight*2+"px";setTimeout(function(){fC.className=fS.className=fc},500)}}function fe(){var gP=N.getElementById("roistat-lh-phone-input"),gD=N.getElementById("roistat-lh-name-input"),gF,gN;gF=gP===null?"":gP.value;gN=gD===null?"":gD.value;var gK={name:gN,phone:gF,isNeedCallback:null,callbackPhone:null,fields:{}};if(cz.roistat.leadHunter.onBeforeSubmit){A("LeadHunter: process user defined onBeforeSubmit");var gG=cz.roistat.leadHunter.onBeforeSubmit(gK);if(gG){gK=gG}}var gM=gK.phone.length<1;var gO=gK.phone.indexOf("_")===-1;var gI=!gM&&gO;var gL=gK.name.length<1;var gC=!gL||!cz.roistat.leadHunter.form.isNameRequired;if(!gI&&eo(gP)){gP.setAttribute("style","border: 2px solid #E0571A;");return}if(!gC&&eo(gD)){gD.setAttribute("style","border: 2px solid #E0571A;");return}var gB=eu+"?v="+ad+"&lead-hunt-input="+encodeURIComponent(gK.phone)+"&lead-name="+encodeURIComponent(gK.name)+"&visit="+cQ();if(gK.isNeedCallback!==null&&gK.isNeedCallback!==bT){gB=gB+"&is_need_callback="+(gK.isNeedCallback>0?1:0)}if(gK.callbackPhone){gB=gB+"&callback_phone="+gK.callbackPhone}if(cz.roistat.leadHunter.additionalNotifyEmail!==null){gB=gB+"&additional_email="+encodeURIComponent(cz.roistat.leadHunter.additionalNotifyEmail)}var gE=0;if(gK.fields&&typeof gK.fields==="object"){for(var gH in gK.fields){if(gK.fields.hasOwnProperty(gH)){++gE}}}if(gE>0){gB=gB+"&fields="+gi(JSON.stringify(gK.fields))}gB=gB+"&t="+cD();var gJ=N.createElement("img");gJ.src=gB;if(eo(gP)){gP.setAttribute("style","")}if(!ak()){A("ShowLimit: Beta Test off, caught LH usually");eD()}else{A("ShowLimit: Beta Test on, caught LH by set setLeadHunterScriptCaught");fJ()}if(!eo(gp)){fz();e9()}else{fh()}if(cz.roistat.leadHunter.onAfterSubmit){A("LeadHunter: process user defined onAfterSubmit");cz.roistat.leadHunter.onAfterSubmit({name:gN,phone:gF})}}function fq(gB){if(gB.preventDefault){gB.preventDefault()
}else{gB.returnValue=false}if(eo(fx)){fx.style.display==="block"?fx.style.display="none":fx.setAttribute("style","display: block; padding: 0 30px; width:"+fC.clientWidth+"px;")}gd()}function gz(){if(eo(gs)){gs.disabled===true?gs.disabled=false:gs.disabled=true}if(eo(fn)){fn.style.display==="block"?fn.style.display="none":fn.style.display="block"}}function e9(){N.onmousemove=null;if(eo(fS)){fS.onresize=null}}var e6=function(gH,gK){if(!gH||!gK){A("LeadHunter: skip phone mask render due to empty input or mask");return}A("LeadHunter: render phone mask "+gK+" for input: "+gH.value);if(cz.roistatRenderPhoneMaskMutex){return}cz.roistatRenderPhoneMaskMutex=true;var gE="_",gD="x",gG="х",gF=gK.toLowerCase().split(gD).join(gE).split(gG).join(gE);var gC=function(gL){if(gH.setSelectionRange){gH.setSelectionRange(gL,gL)}else{if(gH.createTextRange){var gM=gH.createTextRange();gM.collapse(true);gM.moveEnd("character",gL);gM.moveStart("character",gL);gM.select()}}};var gI=function(gL){if(!gL){return 0}var gM=gL.indexOf(gE);if(gM<0){return gL.length}return gM};var gJ=function(gL){gC(gI(gL))};var gB=function(gU){var gV=gF.split("");if(!gU){return gF}var gL=gU.split("");var gW=[],gT,gQ,gS,gP,gN,gM,gR;for(var gO=0;gO<gV.length;gO++){gQ=gV[gO];if(gO>=gL.length){gW.push(gQ);continue}gN=((gO+1)<gV.length)?gV[gO+1]:null;gM=((gO+1)<gL.length)?gL[gO+1]:null;gR=((gO+2)<gL.length)?gL[gO+2]:null;gT=gL[gO];gS=parseInt(gT)>=0;gP=(gQ===gE)&&gS;if(!gP){gW.push(gQ);continue}if(gM===gE&&gN!==gE&&gR!==gN){gW.push(gQ);continue}gW.push(gT)}return gW.join("")};setTimeout(function(){var gL=gB(gH.value);if(gH.value!==gL){gH.value=gL}gJ(gL);cz.roistatRenderPhoneMaskMutex=false},1)};var f1=function(gB,gD,gC){cw.set(ce,cC.encode(gB));cw.set(bH,cC.encode(gD));cw.setObject(cd,gC)};var fG=function(gB){an=gB;if(f3===bT){return}es()};var es=function(){var gB={language:an,message:fZ};f3.contentWindow.postMessage(gB,e8)};var fJ=function(){A("ShowLimit: Start set roistat_leadHunterScriptsCaught");var gB=eN(e1);if(!gB){gB={}}A("ShowLimit: Cookie roistat_leadHunterScriptsCaught for lhScriptId set to 1");gB[gc]=1;f0(e1,gB)};var ev=function(){A("ShowLimit: Start set roistat_leadHunterScriptsShownCount");var gC=eN(gx);if(!gC){gC={}}var gD=gC.hasOwnProperty(gc);if(!gD){A("ShowLimit: Cookie roistat_leadHunterScriptsShownCount for lhScriptId initialized");gC[gc]=0}var gB=gC[gc]+1>e5;if(gB){A("ShowLimit: Stored lhScriptId has reached lhScriptMaxShownCount, show counter in cookie not rise up, return from function");return}A("ShowLimit: Cookie already has, exist lhScriptId show counter rise up");gC[gc]+=1;f0(gx,gC)};var f0=function(gB,gC){dH(gB,JSON.stringify(gC),db)};var eN=function(gB){var gC=i(gB);if(typeof gC!=="undefined"){return JSON.parse(gC)}return gC};var eU=function(){if(e5===0){A("ShowLimit: show limit off and set to 0");return false}var gB=eN(gx),gC=gB?gB[gc]:null,gD=gC+1>e5;A("ShowLimit: Check isCurrentScriptMaxShownCountReached, show limit on, check for exceeding the limit, is "+gD);return gD};var fQ=function(){var gD=eN(e1),gB=gD?gD[gc]:null,gC=gB===1;A("ShowLimit: Check isCurrentLeadHunterScriptSubmitted, is "+gC);return gC};var eE=function(){cw.set(a6,ey());cw.set(ce,cC.encode(fM()));cw.set(fg,eO());cw.set(fI,gy())};var fM=function(){var gB=bl()+"//"+y+"/api/site/1.0/"+bg()+"/leadhunter/script/"+cw.get(a6)+"/widget?visit_id="+p();return'<div class="roistat-lh-popup-wrapper" data-is-iframe="1"><iframe id="roistat-lh-popup-iframe" class="roistat-lh-popup-iframe" src="'+gB+'" frameborder="0"></iframe></div>'};var ey=function(){var gC=cw.getObject(s);if(gC===null){return}cw.set(ae,"");var gG=Number(cw.get(bU));var gK=Object.keys(gC);var gH=gK.sort()[0];if(!gG){return gH}for(var gF=0;gF<gK.length;gF++){var gL=gC[gK[gF]];var gI=gL.targetPageList;var gE=bX(gI.join(","));var gD=gI.length===0;var gB=Array.isArray(gL.devicesFilter)&&gL.devicesFilter.length>0?gL.devicesFilter.indexOf(I())!==-1:true;var gJ=(gD||gE)&&gB&&(!gL.timetable.isEnabled||R(gL.timetable));if(gJ){gH=gK[gF];cw.set(ae,gH)}}return gH};var eO=function(){var gB=fD();return gB!==null?gB.targetPageList.join(","):""};var gy=function(){var gB=fD();return gB!==null?Number(gB.isPulsatorEnabled):0};var fD=function(){var gB=cw.get(a6);var gC=cw.getObject(s);return gC!==null&&gC[gB]!==null?gC[gB]:null};cz.roistatLeadHunterShow=fl;cz.roistatRenderPhoneMask=e6;cz.roistat.leadHunter.localization.translateToRussian=function(){fG(ct)};cz.roistat.leadHunter.localization.translateToEnglish=function(){fG(aF)};cP(fH)},multiwidget:function(){var fd="roistat-multiwidget-hidden",fo="roistat-multiwidget-pulsator-phone",fm="roistat-multiwidget-pulsator-popup-item-lead-hunter",eI="roistat-multiwidget-pulsator-fill",fr="roistat-multiwidget-pulsator-fill-svg",e3="roistat-multiwidget-pulsator-img-icon",eH="roistat-multiwidget-pulsator-popup-item-chat",eu="roistat-multiwidget-pulsator-popup-item-facebook",eA="roistat-multiwidget-pulsator-popup-item-vk",e2="roistat-multiwidget-pulsator-popup-item-telegram",eQ="roistat-multiwidget-pulsator-popup-item-whats-app",eO="roistat-multiwidget-pulsator-popup-item-viber",e8="roistat-multiwidget-pulsator-overlay",e7="roistat-multiwidget-pulsator-items-popup-holder",eW="roistat-multiwidget-pulsator-popup-header-wrapper",e1="iframe_chat_successfully_loaded",eB="roistat-multiwidget-pulsator-popup-tail",eY="roistat-online-chat-popup-wrapper",fq="roistat-online-chat-popup-wrapper-hidden",fk="roistat-multiwidget-pulsator-holder-hidden";
var eG,e6,eR,eK,eM,fn,er,ex,fp,eX,eD,et,eE,ev,fg,ew;var eN=false;var eV=true;var fl={topLeft:{bottom:"unset",right:"unset",top:dQ()?0:"20px",left:dQ()?0:"35px",transformOrigin:"top left"},topRight:{bottom:"unset",right:dQ()?0:"35px",top:dQ()?0:"20px",left:"unset",transformOrigin:"top right"},bottomRight:{bottom:bN()?0:"20px",right:bN()?"6px":"35px",top:"unset",left:"unset",transformOrigin:"bottom right"},bottomLeft:{bottom:dQ()?0:"20px",right:"unset",top:"unset",left:dQ()?0:"35px",transformOrigin:"bottom left"}};var ez={topLeft:{bottom:"unset",right:"unset",top:"110px",left:"0"},topRight:{bottom:"unset",right:"0",top:"110px",left:"unset"},bottomRight:{bottom:"110px",right:"0",top:"unset",left:"unset"},bottomLeft:{bottom:"110px",right:"unset",top:"unset",left:"0"}};var eP={topLeft:{"border-top-color":"white","border-right-color":"transparent","border-bottom-color":"transparent","border-left-color":"white",bottom:"unset",right:"unset",top:"-14px",left:"40px"},topRight:{"border-top-color":"white","border-right-color":"transparent","border-bottom-color":"transparent","border-left-color":"white",bottom:"unset",right:"34px",top:"-14px",left:"unset"},bottomRight:{"border-top-color":"transparent","border-right-color":"white","border-bottom-color":"white","border-left-color":"transparent",bottom:"-14px",right:"40px",top:"unset",left:"unset"},bottomLeft:{"border-top-color":"transparent","border-right-color":"white","border-bottom-color":"white","border-left-color":"transparent",bottom:"-14px",right:"unset",top:"unset",left:"34px"}};function fc(ft){A("Multiwidget: "+ft)}function e0(){e6=ef(eG,fo);eR=ef(eG,e7);eM=ef(eG,eW);eK=ef(eG,e8);eX=ef(eR,fm);fn=ef(eG,eB);eD=ef(eR,eH);et=ef(eR,eA);eE=ef(eR,eu);ev=ef(eR,e2);fg=ef(eR,eQ);ew=ef(eR,eO);er=ef(e6,eI);ex=e6.getElementsByClassName(fr);fp=ef(e6,e3)}function ff(){if(bN()&&eo(eK)&&eo(eR)){if(eR.classList.contains(fd)){ey(eK)}else{fa(eK)}}}function eJ(){if(eo(eR)){eR.classList.toggle(fd)}ff()}function fj(ft){if(eo(ft)){ft.classList.toggle("opened")}}function fs(){fc("add pulsator events");en(e6,"click",function(){if(!eT()){eJ()}fj(e6)});en(eM,"click",function(){if(!eT()){eJ()}fj(e6);ff()});en(eK,"click",function(){if(!eT()){eJ()}fj(e6);ff()});en(eX,"click",function(){fc("opening leadhunter via multiwidget");cz.roistatLeadHunterShow();eJ();d4(e6,"opened",false)});en(eD,"click",function(){fc("opening online chat via multiwidget");cz.roistatOnlineChatShow();eJ()});en(et,"click",function(){cz.open(cw.get(c6),"_blank")});en(eE,"click",function(){cz.open(cw.get(dt),"_blank")});en(ev,"click",function(){cz.open(cw.get(bB),"_blank")});en(fg,"click",function(){cz.open(cw.get(bS),"_blank")});en(ew,"click",function(){cz.open(cw.get(cU),"_blank")})}function eT(){var ft=ef(N,eY);return eo(ft)&&!ft.classList.contains(fq)}function eU(){return eo(e7)&&!e7.classList.contains(fd)}function ey(ft){if(eo(ft)){ft.classList.add(fd)}}function fa(ft){if(eo(ft)){ft.classList.remove(fd)}}function e4(){ey(eX)}function eS(){fc("hiding disabled multiwidget options");var ft=Number(cw.get(bU)),fu=Number(cw.get(cg)),fw=Number(cw.get(V)),fz=Number(cw.get(cR)),fv=Number(cw.get(c2)),fy=Number(cw.get(dW));var fx=0;if(!ft||!d3||!dX){fc("hiding leadhunter option");e4()}if(!d7()||!eN){fc("hiding online chat option");ey(eD)}if(d7()){fx++}if(!fu){fc("hiding vk-messenger option");ey(et)}else{fx++}if(!fw){fc("hiding fb-messenger option");ey(eE)}else{fx++}if(!fz){fc("hiding telegram-messenger option");ey(ev)}else{fx++}if(!fv){fc("hiding whatsApp-messenger option");ey(fg)}else{fx++}if(!fy){fc("hiding Viber-messenger option");ey(ew)}else{fx++}eV=fx>1;if(bN()&&eV){fc("hiding popup header");fa(eM)}}function es(){var fu=cw.getObject(f);fc("start filling pulsator");if(fu){if(eo(er)){er.setAttribute("style","background: "+fu.button_color+";")}if(eo(fp)){fp.setAttribute("style","fill: "+fu.icon_color+";")}if(HTMLCollection.prototype.isPrototypeOf(ex)){for(var ft=0;ft<ex.length;ft++){ex[ft].setAttribute("style","fill: "+fu.button_color+";")}}}}function e9(){var ft=cw.getObject(f);return ft!==null&&typeof ft.position==="string"&&ft.position!==""?ft.position:"bottomRight"}function e5(){if(eo(eG)){var ft=e9();eG.setAttribute("style","top: "+fl[ft].top+";right:"+fl[ft].right+";bottom:"+fl[ft].bottom+";left:"+fl[ft].left+";");eG.style.transformOrigin=fl[ft].transformOrigin;eG.style.transform=ek()}}function eL(){if(eo(e6)){var ft=e9();var fu="transform: "+d2()+";";var fv=ft==="topLeft"||ft==="bottomLeft"?"margin-right":"margin-left";e6.setAttribute("style",fv+": auto;"+fu)}}function fb(){if(eo(eR)){var ft=e9();var fu=bN()?"0":ez[ft].bottom;var fv=bN()?"unset":ez[ft].top;eR.setAttribute("style","top: "+fv+";right:"+ez[ft].right+";bottom:"+fu+";left:"+ez[ft].left+";")}}function eC(){if(eo(fn)){var ft=e9();fn.setAttribute("style","top: "+eP[ft].top+";right:"+eP[ft].right+";bottom:"+eP[ft].bottom+";left:"+eP[ft].left+";border-top-color:"+eP[ft]["border-top-color"]+";border-right-color:"+eP[ft]["border-right-color"]+";border-bottom-color:"+eP[ft]["border-bottom-color"]+";border-left-color:"+eP[ft]["border-left-color"]+";")
}}function fh(){e5();eL();if(!bN()){fb();eC()}}function eF(){if(N.body===null){return}var fu=cC.decode(cw.get(dn));if(fu){fc("appending multiwidget pulsator");var ft=N.createElement("div");ft.innerHTML=fu;eG=ft.childNodes.item(0);if(!cz.roistat.multiwidget.isVisible){fc("Hide widget");eG.className=eG.className+" "+fk}N.body.appendChild(eG);e0();eS();es();fh();fs()}}function eZ(){var fz=cw.getObject(av);if(!fz){var fB=parseInt(cw.get(bn));fB=!isNaN(fB)?Boolean(fB):roistat.multiwidget.isEnabled;var fu=Boolean(parseInt(cw.get(cg)))||roistat.multiwidget.vk.isEnabled;var fD=cw.get(c6);fD=fD!=="null"?fD:roistat.multiwidget.vk.link;var fy=Boolean(parseInt(cw.get(V)))||roistat.multiwidget.fb.isEnabled;var fC=cw.get(dt);fC=fC!=="null"?fC:roistat.multiwidget.fb.link;var fv=Boolean(parseInt(cw.get(cR)))||roistat.multiwidget.telegram.isEnabled;var fE=cw.get(bB);fE=fE!=="null"?fE:roistat.multiwidget.telegram.link;var ft=Boolean(parseInt(cw.get(c2)))||roistat.multiwidget.whatsApp.isEnabled;var fx=cw.get(bS);fx=fx!=="null"?fx:roistat.multiwidget.whatsApp.link;var fA=Boolean(parseInt(cw.get(dW)))||roistat.multiwidget.viber.isEnabled;var fw=cw.get(cU);fw=fw!=="null"?fw:roistat.multiwidget.viber.link;fz={is_enabled:fB,vk:{is_enabled:fu,link:fD},fb:{is_enabled:fy,link:fC},telegram:{is_enabled:fv,link:fE},whats_app:{is_enabled:ft,link:fx},viber:{is_enabled:fA,link:fw}}}dc(fz)}function fe(){ao(cz,"message",function fu(fx){var fw=typeof fx.data==="string"?fx.data:fx.data.message;if(fw===e1){eN=true;fa(eD)}});function fv(){if(eo(eG)){eG.style.transform=ek();fb();eC();if(!bN()){ey(eK);ey(eM);fa(fn)}else{ff();ey(fn);if(eV){fa(eM)}}}}ao(cz,"resize",fv);if(ec){ao(ep,"resize",fv)}function ft(){if(eo(e6)){e6.classList.toggle("opened")}}cz.roistatToggleMultiwidgetState=ft}function fi(){eZ();cc();fe();fc("activated");dm(function(){eF();if(typeof cz.onRoistatMultiwidgetInited==="function"){cz.onRoistatMultiwidgetInited()}})}d8=e4;cP(fi)},onlineChat:function(){var fL="iframe-module-created",eH="iframe_chat_successfully_loaded",fO="iframe_resize",ev="iframe-online-chat-opened",eD="iframe-online-chat-invite-message",ga="iframe-delivered-messages",fP="roistat-online-chat-init",fJ="roistat-online-chat-init-with-text",fs="roistat-online-chat-open",fE="roistat-online-chat-close",gi="roistat-online-chat-reload",f2="roistat-online-chat-update-custom-params",e0="roistat-online-chat-lead_successfully_sent",fU="roistat-online-chat-translate-form",fb="roistat-online-chat-send-lead",f5="roistat_chat_id",gh="roistat_chat_session",fM="roistat_chat_custom_position",fv="roistat-online-chat-page-resized",eR=10*365*24*60*60,eU,eI,f6,eE,eL,f3,fB,e5,fz;var fr="roistat-online-chat-popup-iframe",e8="roistat-online-chat-hidden",f7="roistat-online-chat-holder",f1="roistat-online-chat-popup-wrapper",fY="roistat-multiwidget-pulsator-phone",ew="roistat-multiwidget-pulsator-popup-item-chat",fy="roistat-online-chat-popup-wrapper-hidden",e6="roistat-online-chat-popup-mouse-track",fq="roistat-online-chat-popup-mouse-track-active",fa="roistat-online-chat-pulsator-fill",f4="roistat-online-chat-pulsator-img",fi="roistat-online-chat-pulsator-phone",gl="roistat-online-chat-pulsator-circle",eC="."+gl,fX="roistat-online-chat-pulsator-notification-circle",gj="."+fX,eY="roistat-online-chat-pulsator-fill-svg",fx="roistat-online-chat-popup-spacer",eQ=".roistat-multiwidget-pulsator-items-popup",eM=".roistat-online-chat-pulsator-phone",fn=".roistat-online-chat-popup-wrapper",eT="roistat-online-chat-full-screen";var e2=99;var f0="roistat-online-chat-pulsator-notification-limit";var e7=false,gk=false,eJ=false,e9=false,gn=false,fC=0,eA=0;var fQ={};var fu=".roistat-online-chat-holder";var fh="roistat-online-chat-holder-hidden";if(eb()){fu=".roistat-multiwidget-pulsator-holder";fh="roistat-multiwidget-pulsator-holder-hidden";gl="roistat-multiwidget-pulsator-circle";eC="."+gl;fX="roistat-multiwidget-pulsator-notification-circle";gj="."+fX;f0="roistat-multiwidget-pulsator-notification-limit"}var gb;var gg={topLeft:{bottom:"unset",right:"unset",top:bN()?"10px":"20px",left:bN()?"24px":"35px"},topRight:{bottom:"unset",right:bN()?"24px":"35px",top:bN()?"10px":"20px",left:"unset"},bottomRight:{bottom:bN()?"10px":"20px",right:bN()?"24px":"35px",top:"unset",left:"unset"},bottomLeft:{bottom:bN()?"10px":"20px",right:"unset",top:"unset",left:bN()?"24px":"35px"}};var gq=function(){return{topLeft:{top:bN()?"unset":"130px",right:"unset",bottom:bN()?"0px":"unset",left:bN()?0:"65px"},topRight:{top:bN()?"unset":"130px",right:bN()?0:"65px",bottom:bN()?"0px":"unset",left:"unset"},bottomRight:{top:"unset",right:bN()?0:"65px",bottom:bN()?0:"130px",left:"unset"},bottomLeft:{top:"unset",right:"unset",bottom:bN()?0:"130px",left:bN()?0:"65px"}}};var f8={topLeft:{top:"unset",bottom:"0",height:"20px"},topRight:{top:"unset",bottom:"0",height:"20px"},bottomLeft:{top:"0",bottom:"unset",height:"50px"},bottomRight:{top:"0",bottom:"unset",height:"50px"}};var fI=function(gr){A("onlineChat: "+gr)};var eZ=function(){function gr(){return Math.random().toString(36).substr(2,8)
}return gr()+gr()+gr()+gr()};var fw=function(){var gr=N.querySelector('meta[name="viewport"]');if(eo(gr)){return gr.getAttribute("content")}return null};var eB=fw();var fD="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no";var eK=function(){var gr=i(gh);if(!gr){gr=cw.get(gh)}if(!gr){gr=eZ();var gs={expires:eR,path:"/"};if(db.domain){gs.domain=db.domain}cw.save(gh,gr,gs)}return gr};var ez=function(){var gr={message:fL,detail:{version:ad,language:t,projectKey:bg(),visitId:cQ(),firstVisit:cw.get(a8),chatId:i(f5),moduleTargetOrigin:cz.location.origin,referrer:cz.location.href,params:ei,sessionUniqueKey:eK(),isOpened:f9(),isMobile:bN()}};f3.contentWindow.postMessage(gr,f3.src)};var eV=function(){var gr={message:ev,detail:{isOpened:f9(),isMobile:bN()}};f3.contentWindow.postMessage(gr,f3.src)};var eX=function(){var gr={message:f2,detail:{params:ei,isMobile:bN()}};f3.contentWindow.postMessage(gr,f3.src)};var es=function(){var gr={language:t,message:fU};f3.contentWindow.postMessage(gr,f3.src)};var e1=function(gs){var gr={message:fJ,detail:{message:gs,isMobile:bN()}};f3.contentWindow.postMessage(gr,f3.src)};var gp=function(gr){var gs={message:fs,detail:{chatId:gr,isMobile:bN()}};f3.contentWindow.postMessage(gs,f3.src)};var eP=function(){cz.focus();if(typeof cz.roistatOnlineChatToggle==="function"){cz.roistatOnlineChatToggle()}if(typeof cz.roistatToggleMultiwidgetState==="function"){cz.roistatToggleMultiwidgetState()}eF(gb)};var eS=function(){var gr={message:fv,detail:{isMobile:bN()}};f3.contentWindow.postMessage(gr,f3.src)};var eN=function(gr){var gs={message:fO,isFullScreen:gn,iframeStyles:gr};f3.contentWindow.postMessage(gs,f3.src)};var fW=function(gr){var gs={expires:eR,path:"/"};if(db.domain){gs.domain=db.domain}dg(f5,{path:"/"});dH(f5,gr,gs)};var fV=function(){ao(cz,"message",function gr(gu){var gt=typeof gu.data==="string"?gu.data:gu.data.message;var gs=typeof gu.data!=="string"?gu.data.detail:{};fI("event: "+gt+" "+JSON.stringify(gs));switch(gt){case eH:fZ();cz.setRoistatOnlineChatCustomParams=fe;fe(ei);if(typeof cz.onRoistatOnlineChatInited==="function"){cz.onRoistatOnlineChatInited()}break;case fL:gk=true;ez();if(eJ){eJ=false;if(eo(f6)){f6.classList.remove(fy);eV()}}break;case fP:fI("saving chat id = "+gs.chatId);fW(gs.chatId);break;case fJ:fI("saving chat with text id = "+gs.chatId);if(cz.onRoistatChatInit!==bT&&typeof cz.onRoistatChatInit==="function"){cz.onRoistatChatInit(gs.chatId)}fW(gs.chatId);cz.roistatOnlineChatShow();break;case fs:fI("saving chat id by open chat = "+gs.chatId);fW(gs.chatId);cz.roistatOnlineChatShow();break;case fE:eP();break;case eD:fI("rendering invite message");fR(gs.message);break;case ga:fI("get delivered messages");go(gs.messages);break;case fO:gn=gu.data.isFullScreen;if(bN()){eN({});return}Object.assign(fQ,{width:f3.getBoundingClientRect().width,height:f3.getBoundingClientRect().height,borderRadius:cz.getComputedStyle(f3).borderRadius});f3.classList.toggle(eT,gn);f3.style.transition="unset";if(gn){Object.assign(fQ,{top:f6.style.top,right:f6.style.right,bottom:f6.style.bottom,left:f6.style.left});f6.style.top=0;f6.style.right=0;f6.style.bottom=0;f6.style.left=0;f6.style.transition="unset"}else{f6.style.top=fQ.top;f6.style.right=fQ.right;f6.style.bottom=fQ.bottom;f6.style.left=fQ.left;fQ={};setTimeout(function(){f3.style.transition="height 0.5s ease-in";f6.style.transition="all 0.3s"},30)}eN(fQ);break;case fb:fI("sending lead");eW(gs.leadData)}})};var fd=function(){var gs=cz.roistat.onlineChat.notificationsCustomHolderSelector;var gr=gs!==null;return N.querySelector(gr?gs:fu)};var eW=function(gr){cz.roistatGoal.reach(gr,function(){f3.contentWindow.postMessage(e0,f3.src)})};var fR=function(gy){if(f9()){return}var gt="<div class='roistat-online-chat-message'><img src='"+gy.operator.avatar+"' class='roistat-online-chat-message-avatar'></img><div class='roistat-online-chat-message-content'><div class='roistat-online-chat-message-name'><span class='roistat-online-chat-message-name-text'>"+gy.operator.name+"</span><div class='roistat-online-chat-message-name-online-status'></div></div><div class='roistat-online-chat-message-text'>"+gy.text+"</div></div><div class='roistat-online-chat-message-close'>х</div></div>";var gx=N.createElement("div");gx.innerHTML=gt;var gw=fd();if(eo(gw)){var gz=fA()?"beforeend":"afterbegin";gw.insertAdjacentHTML(gz,gt);var gv=gw.getElementsByClassName("roistat-online-chat-message-close");var gr=gw.getElementsByClassName("roistat-online-chat-message");var gu=gv[fA()?gv.length-1:0];var gs=gr[fA()?gv.length-1:0]}setTimeout(function(){gs.remove()},15000);en(gs,"click",function(gA){gA.stopPropagation();if(!f9()){fT()}gc()});en(gu,"click",function(gA){gA.stopPropagation();gs.remove()})};var go=function(gt){var gx=fd();if(eo(gx)){var gy=gx.querySelector(eC);var gs=gx.querySelector(gj);var gw=gt>e2;var gv=gw?e2+"+":gt;if(gs&&!gt){gs.remove();return}if(gs){gs.textContent=gv;gs.classList.toggle(f0,gw);return}if(gt){var gr=gw?f0:"";
var gu='<div class="'+fX+gr+'">'+gv+"</div>";gy.insertAdjacentHTML("beforebegin",gu)}}};var gc=function(){var gs=fd();if(eo(gs)){var gr=gs.getElementsByClassName("roistat-online-chat-message");while(gr.length>0){gr[0].remove()}}};var gf=function(){f3=N.getElementById(fr);if(eo(f3)){en(f3,"load",function(){fp()})}en(N,"click",function(gw){var gv=cz.roistat.onlineChat.customTriggerSelector;if(eb()){var gx=ef(N,fY);var gu=ef(N,ew);var gt=f9()&&gw.target!==gu&&!gu.contains(gw.target);if(gt){d4(gx,"opened",false)}}else{var gr=ef(N,f7);var gs=f9()&&gw.target!==gr&&!gr.contains(gw.target);if(gs){d4(gr,"opened",false)}}if(f9()&&(gw.target.closest(eQ)===null&&gw.target.closest(fn)===null&&gw.target.closest(eM)===null&&(gv?gw.target.closest(gv)===null:true))){fT()}})};var et=function(gt){var gs=f6.getBoundingClientRect().x;var gr=f6.getBoundingClientRect().y;e9=true;ey();fC=gt.pageX-gs;if(fA()){eA=gt.pageY+gr}else{eA=gt.pageY-gr}};var fg=function(){e9=false;fS();e3()};var ey=function(){if(eo(eI)){eI.classList.add(fq)}};var fS=function(){if(eo(eI)){eI.classList.remove(fq)}};var fF=function(gz){if(e9&&eo(f6)){var gr=f6.getBoundingClientRect();var gy=gr.width;var gx=400;var gs=50;var gC=0;var gu=cz.innerHeight-gx;var gA=gz.pageX-fC;var gw=gs;var gt=cz.innerWidth-gs-gy;if(fA()){gC=cz.innerHeight-(gz.pageY+gr.y)-20}else{gC=gz.pageY-eA}var gB=ge();var gv=gB==="bottomLeft"||gB==="bottomRight"?"top":"bottom";if(gA>=gw&&gA<=gt){f6.style.left=gA+"px";if(!gm()){f6.style.right="unset"}}if(gC>=50&&gC<=gu){f6.style[gv]=gC+"px"}}};var e3=function(){var gr={position:ge(),top:f6.style.top,left:f6.style.left,bottom:f6.style.bottom,right:f6.style.right};cw.setObject(fM,gr)};var ge=function(){var gr=cw.getObject(f);var gs=gr!==null&&typeof gr.position==="string"&&gr.position!=="";return gs?gr.position:"bottomRight"};var fA=function(){var gr=ge();return gr==="topLeft"||gr==="topRight"};var gm=function(){var gr=ge();return gr==="topLeft"||gr==="bottomLeft"};var e4=function(gs){var gr=Math.max(gs*eq(),gs)+"px";eE.style.height=gr;eE.style.marginBottom="-"+gs+"px"};var eG=function(){var gv=ge();var gy=cz.roistat.onlineChat.customPosition;var gx=gq();var gB=gy&&gy.top!==null?gy.top:gx[gv].top;var gt=gy&&gy.right!==null?gy.right:gx[gv].right;var gr=gy&&gy.bottom!==null?gy.bottom:gx[gv].bottom;var gu=gy&&gy.left!==null?gy.left:gx[gv].left;f6=ef(eU,f1);if(eo(f6)){f6.classList.add(fy);f6.setAttribute("style","visibility: hidden;top: "+gB+";right:"+gt+";bottom:"+gr+";left:"+gu+";");eE=ef(eU,fx);if(eo(eE)){var gz=parseInt(gB==="unset"?gr:gB);e4(gz);var gA=function(){if(bN()){f6.style.height=cz.visualViewport.height+"px"}else{f6.style.height="unset"}};gA();cz.addEventListener("resize",function gs(){e4(gz);gA();eS()});if(ec){ep.addEventListener("resize",function gw(){e4(gz);gA();eS()})}}}};var gd=function(){var gr=ge();var gs=function(){if(eo(f6)&&!gn){var gv=gq();f6.style.right=gv[gr].right;f6.style.left=gv[gr].left;f6.style.top=gv[gr].top;f6.style.bottom=gv[gr].bottom}};cz.addEventListener("resize",function gu(){gs()});if(ec){ep.addEventListener("resize",function gt(){gs()})}};var ff=function(){if(eo(eI)){var gr=ge();eI.setAttribute("style","top: "+f8[gr].top+";bottom:"+f8[gr].bottom+";height:"+f8[gr].height+";")}};var fc=function(){if(eo(gb)){var gr=ge();gb.setAttribute("style","top: "+gg[gr].top+";right:"+gg[gr].right+";bottom:"+gg[gr].bottom+";left:"+gg[gr].left+";")}};var fk=function(){if(N.body===null){return}fI("iframe appending to page");var gr=cC.decode(cw.get(E));eU=N.createElement("div");eU.innerHTML=gr;N.body.appendChild(eU);eI=ef(N,e6);eG();gd();gf()};var fm=function(){var gs=cw.getObject(f);fI("start filling pulsator");if(gs){if(eo(fB)){fB.setAttribute("style","background: "+gs.button_color+";")}if(eo(e5)){e5.setAttribute("style","fill: "+gs.icon_color+";")}if(HTMLCollection.prototype.isPrototypeOf(fz)){for(var gr=0;gr<fz.length;gr++){fz[gr].setAttribute("style","fill: "+gs.button_color+";")}}}};var fZ=function(){if(N.body===null){return}var gs=cC.decode(cw.get(bD));var gu=!c0()&&cz.roistatOnlineChatOnly;var gt=(gs&&!eb()&&d7())||gu;if(gt){fI("pulsator appending to page");var gr=N.createElement("div");gr.innerHTML=gs;gb=gr.childNodes.item(0);if(!cz.roistat.multiwidget.isVisible){fI("Hide widget");gb.className=gb.className+" "+fh}fB=ef(gb,fa);e5=ef(gb,f4);eL=ef(gb,fi);fz=N.getElementsByClassName(eY);N.body.appendChild(gb);fc();eO();fm()}};var eO=function(){if(eo(gb)){en(gb,"click",function(){fT();eF(gb)})}};function eF(gr){if(eo(gr)){gr.classList.toggle("opened")}}var f9=function(){return eo(f6)&&!f6.classList.contains(fy)};function ft(){var gr=N.querySelector("#roistat-theme-color");if(eo(gr)){gr.remove()}}function ex(){var gr=N.createElement("meta");if(eo(gr)){gr.setAttribute("name","theme-color");gr.setAttribute("content","#2589FF");gr.setAttribute("id","roistat-theme-color");N.head.prepend(gr)}}var fK=function(){if(!f9()){ft();fo();return}var gr=Boolean(N.querySelector("#roistat-theme-color"));if(a4.Android()||a4.iOS()){fN();if(!gr){ex()
}}};var fN=function(){var gr=N.querySelector('meta[name="viewport"]');if(!eo(gr)){gr=N.createElement("meta");gr.setAttribute("name","viewport");N.head.appendChild(gr)}gr.setAttribute("content",fD)};function fo(){var gr=N.querySelector('meta[name="viewport"]');if(eo(gr)&&eB!==null){gr.setAttribute("content",eB);return}if(eo(gr)){gr.remove()}}var fT=function(){setTimeout(function(){e9=false},3000);if(eo(f6)){f6.classList.toggle(fy);fK()}if(f9()){gc()}eV()};var fH=function(){var gr=fd();if(eo(gr)){gr.classList.toggle(fh)}};var fj=function(gr){t=gr;if(!eo(f3)){return}es()};var fl=function(gr){if(!eo(f3)){return}e1(gr)};var er=function(gr){if(!eo(f3)){return}gp(gr)};var fp=function(){e7=true;var gr=function(){setTimeout(function(){fT()},0)};cz.roistatOnlineChatShow=gr;cz.roistatOnlineChatToggle=gr;cz.roistatMultiwidgetShow=fH;fI("chat window initialized")};function fe(gr){dY(gr);eX()}function eu(){var gr=cw.getObject(D);if(typeof gr!=="object"||gr===null||typeof gr.auto_open_chat!=="object"||!gr.auto_open_chat.is_enabled){return}setTimeout(function(){if(!gk){eJ=true;return}if(eo(f6)){f6.classList.remove(fy);eV()}},gr.auto_open_chat.delay_in_seconds*1000)}function fG(){cc();dm(function(){fk();fV();eu()})}cz.roistat.onlineChat.actions.initWithMessage=fl;cz.roistat.onlineChat.actions.openChat=er;cz.roistat.onlineChat.localization.translateToRussian=function(){fj(ct)};cz.roistat.onlineChat.localization.translateToEnglish=function(){fj(aF)};cz.roistat.onlineChat.localization.translate=function(gu){var gt=cJ[ct].includes(gu),gs=cJ[aF].includes(gu),gr=gu;if(gt){gr=ct}if(gs){gr=aF}fj(gr)};cP(fG)}};function ee(er){A("Widgets: "+er)}function e(er){return er!==em}function dY(et){var es=Object.keys(et);for(var er=0;er<es.length;er++){ei[es[er]]=et[es[er]]}}function eb(){var ez=Number(cw.get(bU)),es=ez&&d3&&dX,eD=Number(cw.get(bn)),ev=d7(),eA=Number(cw.get(cg)),ew=Number(cw.get(V)),er=Number(cw.get(cR)),eu=Number(cw.get(c2)),eC=Number(cw.get(dW)),eB=es||ev||eA||ew||er||eu||eC,et=es&&!ev&&!eA&&!ew&&!er&&!eu&&!eC,ey=ev&&!es&&!eA&&!ew&&!er&&!eu&&!eC,eE=!c0()&&cz.roistatOnlineChatOnly,ex=c0()&&dK();A("Is online chat only: "+eE);A("Is rp: "+eE);return eD&&eB&&!ey&&!et&&!eE&&!ex}function d7(){var er=Number(cw.get(c3));if(!er){A("OnlineChat: Online chat is disabled");return false}var es=cw.getObject(D);if(es===null){return false}if(!es.is_available_for_current_user_agent){A("OnlineChat: Current device group is disabled");return false}if(!es.pages_filter.is_enabled){A("OnlineChat: Pages filter is disabled");return true}return bX(es.pages_filter.pages.join(","))}function d8(){ee("Multiwidget disabled. Hide leadhunter pulsator from module")}function d0(er,et,es){cw.set(ce,cC.encode(er));cw.set(bH,cC.encode(et));cw.setObject(cd,es)}function d6(es,er){cw.set(dn,cC.encode(es));cw.setObject(f,er)}function d5(et,er,es){cw.set(bD,cC.encode(et));cw.set(E,cC.encode(er));cw.set(c3,es)}function ea(er,et,es){d0(er,et,es);cw.set(dn,cC.encode(em));cw.set(E,cC.encode(em));ed=false;ej.leadHunter()}function dZ(eC,ey,ew){var et=eC.form_template,eD=eC.pulsator_template,ev=eC.pulsator_settings;if(dK()){ea(et,eD,ev);return}ee("start initing widgets");var ez=ew.pulsator_template,eu=ew.iframe_template,eB=ey.pulsator_template,er=ey.pulsator_settings,ex=Number(cw.get(bU)),es=Number(ew.settings.is_enabled),eA=cw.getObject(s)!==null;d0(et,eD,ev);d6(eB,er);d5(ez,eu,es);if(eA){cw.set(ce,cC.encode(d1()))}ed=true;if(ex&&!aT()){ee("leadhunter enabled. Start processing");ej.leadHunter()}if(d7()){ee("online chat enabled. Start processing");ej.onlineChat()}if(eb()){ee("multiwidget enabled. Start processing");ej.multiwidget()}}var d1=function(){var er=bl()+"//"+y+"/api/site/1.0/"+bg()+"/leadhunter/script/"+cw.get(a6)+"/widget";return'<div class="roistat-lh-popup-wrapper" data-is-iframe="1"><iframe id="roistat-lh-popup-iframe" class="roistat-lh-popup-iframe" src="'+er+'" frameborder="0"></iframe></div>'};function el(){var et=cw.get(ce),eE=cw.get(bH),ev=cw.getObject(cd),ey=Number(cw.get(bU)),ez=cw.get(bD),eu=cw.get(E),es=cw.get(c3),eB=cw.get(dn),er=cw.getObject(f);cz.roistatLeadhunterForm=ea;cz.roistatMultiwidget=dZ;if(!et||!eE||!ev||!eB||!er||!ez){ee("requesting data from server");if(eb()||d7()||ey){a7(bl()+"//"+y+"/api/site/"+aq+"/"+bg()+"/multiwidget?domain="+encodeURIComponent(N.domain))}}else{var eD=cC.decode(eB);var eA=cC.decode(eu);if((!e(eD)||!e(eA)||dK())&&!aT()){ee("initing LeadHunter form");cz.roistatLeadhunterForm(cC.decode(et),cC.decode(eE),ev)}else{ee("initing multiwidget form");var ew={pulsator_template:eD,pulsator_settings:er},ex={form_template:cC.decode(et),pulsator_template:cC.decode(eE),pulsator_settings:ev},eC={iframe_template:eA,pulsator_template:cC.decode(ez),settings:{is_enabled:Number(es)}};cz.roistatMultiwidget(ex,ew,eC)}}}function d9(){el();ee("form initialized")}function eh(){ee("activated");d9()}cP(eh);cz.setRoistatOnlineChatCustomParams=dY;cz.roistatSaveLeadHunterTemplates=d0;cz.roistatSaveMultiwidgetTemplate=d6;cz.roistatSaveOnlineChatTemplate=d5
})();(function u(){var ea=function(){return i(dO)};var d0=function(){return i(W)};var d8=function(){return cw.get(bv)};var d1=function(){return cw.get(bJ)};var ee=function(eg){return eg!=null&&eg!==bT&&eg!==""};var ed=function(){var eg=[];var eh=N.getElementsByClassName(aA);if(eh&&eh.length){eg=eh}return eg};var dY=function(){var eg=[];var eh=N.getElementsByClassName(M);if(eh&&eh.length){eg=eh}return eg};var dX=function(){var eg=[];var eh=N.getElementsByClassName(at);if(eh&&eh.length){eg=eh}return eg};var d3=function(){var eg=[];var eh=N.getElementsByClassName(P);if(eh&&eh.length){eg=eh}return eg};var d6=function(){var eg=[];var eh=N.getElementsByClassName(dG);if(eh&&eh.length){eg=eh}return eg};var e=function(en,eo,el){A("CallTracking: RenderPhone phone = "+en);var eh=function(eA){return eA.split(/[^0-9]/).join("")};var ew=function(eD,eF){var eI=null;if(!eD){return eI}var eA=eF.split(",");if(eA.length<2){eI=eF}else{var eB=eD.getAttribute("data-prefix");if(eB){for(var eE=0;eE<eA.length;eE++){var eG=eA[eE];var eH=eh(eG);if(eH.indexOf("8")===0){eH="7"+eH.substring(1)}var eC=eH.split(eB)[0]==="";if(eC){eI=eG;break}}}if(eI===null){eI=eA[0]}A("CallTracking._getPhoneForElement: Prepared phone = "+eI+" for data-prefix = "+eB)}return eI};var ex=function(eF,eD,eC){var eG=ew(eF,eD);var eA=eC||eG;if(!eA||!eF){return}if(eF.tagName.toLowerCase()!=="a"){return}var eE=eF.getAttribute("href");if(dr(eE,"tel:")){var eB=eC;if(!eB){eB=eh(eA);if(eB.indexOf("8")===0){eB="7"+eB.substring(1)}}eF.setAttribute("href","tel:+"+eB);ej(eF,eG)}};var ej=function(eB,eA){if(!eB.hasAttribute("title")){return}eB.setAttribute("title",eA)};var er=function(eC,eB){var eA=ew(eC,eB);if(!eA||!eC){return}eC.innerHTML=eA};var ei=/^\D*(\d+)(?:[(|\s])/;var em=/\((\d+)\)|\s(\d+)\s/;var ek=/(\(\d+\)|\s\d+\s)(.+)/;var es=function(eC,eF){var eB=ew(eC,eF);var eE=eB.match(ei);var eD=bG(eE)?eE[1]:"";var eG=eB.match(em);var eA=(bG(eG)?(eG[1]||eG[2]):"").trim();var eH=eB.match(ek);var eI=(bG(eH)?eH[2]:"").trim();return{country:eD,region:eA,number:eI}};var ey=function(eB,eA){var eC=ed();A("CallTracking: render phone default classes for "+eC.length+" elements");r(eC,function(eD){er(eD,eB);ex(eD,eB,eA)});r(dY(),function(eE){var eD=es(eE,eB).country;er(eE,eD)});r(dX(),function(eE){var eD=es(eE,eB).region;er(eE,eD)});r(d3(),function(eD){var eE=es(eD,eB).number;er(eD,eE)});r(d6(),function(eD){ex(eD,eB,eA)})};var eu=function(eG,eB,eC){if(!eC){return}A("CallTracking: render phone user replacement for "+eC.length+" replacements");for(var eE=0;eE<eC.length;eE++){var eH=eC[eE];if(!eH){continue}var eI=eH[0];eH=eH.substr(1);var eA=[];if(eI==="#"){var eF=N.getElementById(eH);if(eF!==null){eA.push(eF)}}else{eA=N.getElementsByClassName(eH);ez(eH,eG,eB)}if(!eA||eA.length<1){continue}A("CallTracking: render phone for "+eH+", "+eA.length+" elements");for(var eD=0;eD<eA.length;eD++){er(eA[eD],eG);ex(eA[eD],eG,eB)}}};var et=function(eA){for(var eB=0;eB<eA.length;eB++){eu(eA[eB].phone,eA[eB].raw_phone,eA[eB].css_selectors);eq(eA[eB].phone,eA[eB].raw_phone,eA[eB].replaceable_numbers)}};var eq=function(eD,eC,eB){if(!eB||eB.length===0){return}var eA=function(){var eO=eH();var eN=N.getElementsByTagName("*");var eI=eN.length;for(var eM=0;eM<eI;eM++){var eP=eN[eM];eE(eP,eO,ew(eP,eD));var eL=eP.childNodes.length;for(var eJ=0;eJ<eL;eJ++){var eK=eP.childNodes[eJ];eG(eK,eO,ew(eK,eD))}}};var eE=function(eM,eL,eI){if(!eF(eM)){return}var eN=eM.getAttribute("href").replace("tel:","");var eK=eL.length;for(var eJ=0;eJ<eK;eJ++){if(eL[eJ].test(eN)){ex(eM,ew(eM,eI),eC)}}};var eF=function(eJ){if(eJ.tagName.toLowerCase()!=="a"){return false}var eI=eJ.getAttribute("href");return bb(eI)&&eI.indexOf("tel:")===0};var eH=function(){var eK=[];for(var eI=0;eI<eB.length;eI++){var eJ="[\\s()[\\]{}\\-+.]*";var eL=eB[eI].split("").join(eJ);eK.push(new RegExp("[+(]?"+eL,"g"))}return eK};var eG=function(eL,eK,eI){if(eL.nodeType!==Node.TEXT_NODE){return}for(var eJ=0;eJ<eK.length;eJ++){if(eL.textContent&&eK[eJ].test(eL.textContent)){eL.textContent=eL.textContent.replace(eK[eJ],eI)}else{if(eL.innerText&&eK[eJ].test(eL.innerText)){eL.innerText=eL.innerText.replace(eK[eJ],eI)}}}};eA()};var ez=function(eC,eB,eA){r(ev(eC+"-"+b2),function(eE){var eD=es(eE,eB).country;er(eE,eD)});r(ev(eC+"-"+aZ),function(eE){var eD=es(eE,eB).region;er(eE,eD)});r(ev(eC+"-"+bu),function(eD){var eE=es(eD,eB).number;er(eD,eE)});r(ev(eC+"-"+ck),function(eD){ex(eD,eB,eA)})};var ev=function(eB){var eA=[];var eC=N.getElementsByClassName(eB);if(eC&&eC.length){eA=eC}return eA};var ep=function ep(){var eB=d1();if(eB){eB=eB.split("\n");for(var eA=0;eA<eB.length;eA++){eB[eA]="."+eB[eA]}}if(el instanceof Array){et(el)}else{ey(en,eo);eu(en,eo,eB)}};(function eg(){ep();var eA=[300,5000,15000];eA.forEach(function(eB){setTimeout(ep,eB)})})()};var dZ=function(eg){cw.save(o,eg,db)};var d9=function(){if(cz.roistat.callTracking.phone){var eg={expires:parseInt(cz.roistat.callTracking.sessionTime),path:"/"};if(db.domain){eg.domain=db.domain}dH(dO,cz.roistat.callTracking.phone,eg);
dH(W,cz.roistat.callTracking.rawPhone,eg);dZ(1);cw.save(bJ,cz.roistat.callTracking.replacementClasses,db);cw.save(bv,cz.roistat.callTracking.phoneScriptsJson,db)}};var d7=function(ei,em,ek,ej,eh){A("CallTracking: reuse phone "+ei+" for time "+em+" and replacements "+ek);var eg='script[data-roistat-script-id="'+ab+'"]';N.querySelectorAll(eg).forEach(function(ep,eo){if(eo===0){return}ep.remove()});A("CallTracking: all old scripts removed");if(!ee(ei)){A("CallTracking: new phone is invalid");roistat.callTracking.phone=null;du();return}roistat.callTracking.enabled=1;roistat.callTracking.phone=ei;roistat.callTracking.sessionTime=em;roistat.callTracking.replacementClasses=ek;roistat.callTracking.phoneScriptsJson=ej;roistat.callTracking.rawPhone=eh;du();d9();var en={expires:parseInt(em),path:"/"};if(db.domain){en.domain=db.domain}dH(dO,ei,en);dH(W,eh,en);cw.save(bv,ej,db);cw.save(bJ,ek,db);var el=dz(ej);e(ei,eh,el)};var d2=function(){A("CallTracking: request new phone");var eg=i(cp);var ek=aw();var ej=ek?ek:bK;var ei=encodeURIComponent(cN);var eh=T()+"/get-phone?visit="+eg+"&marker="+(ej?ej:"")+"&prefix="+cX+"&prefix_bind="+dP+"&phone_scripts_bind="+Y+"&page="+ei;a7(eh,ab)};var d4=function(){cX=cz.roistatPhonePrefix?cz.roistatPhonePrefix:"";dP=cz.roistatPhonePrefixBind?cz.roistatPhonePrefixBind:"";Y=cz.roistatCalltrackingScripts&&cz.roistatCalltrackingScripts.join?cz.roistatCalltrackingScripts.join(","):"";A("CallTracking: refresh phone with prefix: "+cX+", binding: "+dP+", scripts: "+Y);d2()};var ef=function(){var eg=cw.get(o)>0;var eh=cf.callTrackingEnabled;return eg&&eh};var d5=function(eg){dZ(eg.is_enabled)};var ec=function ec(){var eh=ea();if(!ee(eh)){A("CallTracking: invalid phone "+eh+", requesting a new one");d2()}else{A("CallTracking: render phone "+eh);var eg=d0();var ei=dz(d8());e(eh,eg,ei)}};var eb=function(){A("CallTracking: init");if(aT()){A("CallTracking: Shut down because only online chat need to be inited");return}d9();if(!ef()){A("CallTracking: disabled, skip");return}if(cf.callTrackingManual){A("CallTracking: init finish because off manual");return}ec();aG(ec)};cz.roistatCallTrackingRefresh=d4;cz.roistatRequestNewPhone=d2;cz.roistatReusePhone=d7;cz.roistatCalltrackingUpdateSettings=d5;cP(eb)})();(function H(){var dY=function(d4){A("Emailtracking: "+d4)};var d2=function(d4,d6,d5){cw.save(bI,d4,db);cw.save(b,d6,db);cw.save(bY,JSON.stringify(d5),db)};var dX=function(){var d4=(cz.roistat.emailtracking.email&&cz.roistat.emailtracking.trackingEmail)||a0(cz.roistat.emailtracking.emails);if(cz.roistat.emailtracking.loaded&&d4){dY("save loaded email: "+cz.roistat.emailtracking.email);d2(cz.roistat.emailtracking.email,cz.roistat.emailtracking.trackingEmail,cz.roistat.emailtracking.emails)}else{dY("settings save skip, because not loaded");cz.roistat.emailtracking.email=cw.get(bI);cz.roistat.emailtracking.email=cz.roistat.emailtracking.email?cz.roistat.emailtracking.email:null;cz.roistat.emailtracking.email=cz.roistat.emailtracking.email==="null"?null:cz.roistat.emailtracking.email;dY("email loaded from storage: "+cz.roistat.emailtracking.email);cz.roistat.emailtracking.trackingEmail=cw.get(b);cz.roistat.emailtracking.trackingEmail=cz.roistat.emailtracking.trackingEmail?cz.roistat.emailtracking.trackingEmail:null;cz.roistat.emailtracking.trackingEmail=cz.roistat.emailtracking.trackingEmail==="null"?null:cz.roistat.emailtracking.trackingEmail;dY("tracking email loaded from storage: "+cz.roistat.emailtracking.trackingEmail);cz.roistat.emailtracking.emails=dz(cw.get(bY));cz.roistat.emailtracking.emails=cz.roistat.emailtracking.emails?cz.roistat.emailtracking.emails:null;dY("emails loaded from storage: "+JSON.stringify(cz.roistat.emailtracking.emails))}};var d0=function(d4){d2(d4.email,d4.trackingEmail,d4.emails)};var dZ=function(){var d4=(!!cz.roistat.emailtracking.email&&!!cz.roistat.emailtracking.trackingEmail)||a0(cz.roistat.emailtracking.emails);return cz.roistat.emailtracking.enabled&&d4};var e=function(){if(!dZ()){dY("emailtracking disabled, skip swapping");return}var d5=function(ea,eb,d9){if(ea.href){var d8=aN(ea.href);if(eb.test(d8)){ea.href=d8.replace(eb,d9);return true}}if(ea.nodeType!==3){return false}if(ea.textContent&&eb.test(ea.textContent)){ea.textContent=ea.textContent.replace(eb,d9);return true}else{if(ea.innerText&&eb.test(ea.innerText)){ea.innerText=ea.innerText.replace(eb,d9);return true}}return false};var d4=function(d8){return d8.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")};var d6=function(ea,d9){var d8=!d9.match(/[a-z]/);return d8?ea.toUpperCase():ea};var d7=function(eg,ei){var ej=d4(eg);var ea=new RegExp("(^|\\s)(mailto:)?("+ej+")($|\\s|\\?)","gi");var ek=function(ep,en,el,em,eo){el=el||"";return en+el+d6(ei,em)+eo};dY("starting to replace email "+eg+" to "+ei+" with regexp "+ea);var d9=N.getElementsByTagName("*");var ec=d9.length;dY("found "+ec+" nodes on page");var ef=0;for(var ee=0;ee<ec;ee++){var eb=d9[ee];var eh=eb.childNodes.length;if(eh>0){for(var ed=0;ed<eh;ed++){var d8=eb.childNodes[ed];
if(d5(d8,ea,ek)){ef++}}}if(d5(eb,ea,ek)){ef++}}dY("successfully replaced "+ef+" nodes")};if(cz.roistat.emailtracking.emails){by(cz.roistat.emailtracking.emails,d7)}else{d7(cz.roistat.emailtracking.email,cz.roistat.emailtracking.trackingEmail)}};var d1=function(){dY("process email swap");e();setTimeout(function(){e()},300);setTimeout(function(){e()},5000);setTimeout(function(){e()},15000)};var d3=function(){dY("init");if(aT()){dY("Shut down because only online chat need to be inited");return}aG(d1);dX();d1()};cz.roistatEmailtrackingUpdateSettings=d0;cz.roistat.emailtracking.refresh=e;cP(d3)})();(function bA(){var dZ=function(d1){A("MultiDomain: "+d1)};var dY=function(){return cw.get(dd)>0};var dX=function(d5){var d6=function(d8){if(!d8){return false}if(dr(d8,"roistat_visit")){return false}var d7=bk(d8);var ea=bk(N.domain);var d9=new RegExp(/^((https?:)?\/\/)?([A-ZА-ЯЁ0-9\_\-\~]+\.)+[A-ZА-ЯЁ0-9\_\-\~]+/i);return d7!==ea&&d9.test(d8)};var d4=function(ea){var eb=ea.split("#");var d9=eb[0].split("?");var d7="";var d8="";if(d9.length===2){d7=d9[1]}if(d7){d8="&"}d7=d7+d8+"roistat_visit="+roistat.getVisit();d9[1]=d7;eb[0]=d9.join("?");return eb.join("#")};if(d5.tagName.toLowerCase()!=="a"){return}var d3=d5.getAttribute("href");var d2=false;if(d6(d3)){var d1=d4(d3);dZ("update url "+d3+" > "+d1);d5.setAttribute("href",d1);d2=true}return d2};var e=function(){if(!dY()){dZ("disabled, skip");return}var d1=N.getElementsByTagName("a");var d2=d1.length;dZ("found "+d2+" <a> nodes on page");var d5=0;for(var d3=0;d3<d2;d3++){var d4=d1[d3];if(dX(d4)){d5++}}dZ("replaced "+d5+" nodes")};var d0=function(){dZ("init");if(aT()){dZ("Shut down because only online chat need to be inited");return}e();setTimeout(function(){e()},300);setTimeout(function(){e()},5000);setTimeout(function(){e()},15000)};cP(d0);aG(d0)})();(function dq(){var e=60*1000;var d3=2*60*1000;var dX=function(d5){A("SettingsUpdater: "+d5)};var d1=function(){cw.set(ah,cD())};var d2=function(){var d6=dw();var d5=!(d6>0);dX("is first update check: lastUpdateTime="+d6+", result="+(d5?1:0));return d5};var d4=function(){var d7=cD()-d3;var d6=dw();var d5=d6<=d7;dX("expiration check: _minTime="+d7+", lastUpdateTime="+d6+", result="+(d5?1:0));return d5};var dY=function(d6){var d5=i(cp);a(d5,d6)};var dZ=function(d6){dX("update settings and save last update time");var d5=cw.getObject(s)!==null;if(d5){var d7=dz(d6.js_settings.leadHunterTargetPagesMap);if(d7!==null){cw.setObject(s,d7)}}cz.roistatCalltrackingUpdateSettings(d6.calltracking);cz.roistatEmailtrackingUpdateSettings(d6.emailtracking);cz.roistatSaveLeadHunterTemplates(d6.leadhunter_templates.form_template,d6.leadhunter_templates.pulsator_template,d6.leadhunter_templates.pulsator_settings);cz.roistatSaveMultiwidgetTemplate(d6.multiwidget_templates.pulsator_template,d6.multiwidget.pulsator_settings);cz.roistatSaveOnlineChatTemplate(d6.online_chat_templates.pulsator_template,d6.online_chat_templates.iframe_template);cz.roistatSaveProxyFormSettings(d6.proxy_forms);bo(d6.js_settings);dc(d6.multiwidget.multiwidget_settings);cA(d6.online_chat);w(d6.geo);cL(d6.promo_code);cr.isSettingsUpdating=false;d1()};var d0=function(){dX("init");if(d2()){dX("in first update we just start first timer and skip");d1();return}if(!d4()){dX("update is not not expired, skip");return}dX("start to update settings");dY()};cP(function(){cz.roistatUpdateSettings=dZ;setTimeout(function(){d0()},3000);dX("set interval to update settings");setInterval(function(){d0()},e)})})();(function b7(d0,e,d2){var dZ={};var dX=function(d4){var d3=encodeURIComponent?encodeURIComponent:encodeURI;return d3(d4)};var dY=function(ea,d4){A("Reach goal start");if(!ea){ea={}}var d7={leadName:"",formTitle:"",name:"",phone:"",email:"",price:"",text:"",fields:"",client_fields:"",is_need_callback:"",callback_phone:"",visit:cQ(),is_skip_sending:0,items:"",placeholders_data:"",engine_type:""};for(var d6 in d7){if(!Object.prototype.hasOwnProperty.call(d7,d6)){continue}if(!Object.prototype.hasOwnProperty.call(ea,d6)){continue}if(!ea[d6]){continue}if(d6==="fields"||d6==="client_fields"||d6==="items"||d6==="placeholders_data"){ea[d6]=JSON.stringify(ea[d6])}d7[d6]=dX(ea[d6])}var d9=bg();var d8=bl()+"//"+y+"/api/site/"+aq+"/"+d9+"/reach-goal?v=2";for(var d5 in d7){if(!Object.prototype.hasOwnProperty.call(d7,d5)){continue}d8=d8+"&"+d5+"="+d7[d5]}if(d4!==d2){var d3=Math.random().toString();dZ[d3]=d4;d8+="&callback_key="+d3}a7(d8);A("Reach goal completed")};var d1=d0.roistatGoal={reach:function(d4,d3){dY(d4,d3)},callAfterReachCallback:function(d3){if(Object.prototype.hasOwnProperty.call(dZ,d3)){dZ[d3]();delete dZ[d3]}}}})(cz,N,bT);(function dJ(dZ,e,d0){var dX=function(d2){if(d2 instanceof Array||d2===null||typeof d2!=="object"){A("Invalid event data");return""}return dY(d2)};var dY=function(d3,d7,d6){var d5=d7||0;var d2=d6||[];if(d5>20){A("Recursion depth exceeded when processing additional event fields");return""}d5++;var ea=[];for(var d9 in d3){if(Object.prototype.hasOwnProperty.call(d3,d9)){var d8=d3[d9];
if(typeof d8==="string"||typeof d8==="number"){var d4=d2.length>0?"["+d2.join("][")+"]":"";ea.push("&data"+d4+"["+encodeURIComponent(d9)+"]="+encodeURIComponent(d8))}else{if(typeof d8==="object"){d2.push(encodeURIComponent(d9));ea.push(dY(d8,d5,d2));d2.pop()}else{A("Event data property ignored: "+d9)}}}}return ea.length>0?ea.join(""):""};var d1=function(d4,d6){A("Send event start");var d2=p();var d5=dX(d6);J("Name: "+d4+" Data: "+d5+" VisitId: "+d2);var d3=T()+"/event/register?visit="+d2+"&event="+d4+d5;a7(d3);A("Send event completed")};dZ.roistat.event={send:function(d2,d3){d1(d2,d3)}}})(cz,N,bT);(function cx(d6,d8,dZ){if(aT()){A("VisitApprove: Shut down because only online chat need to be inited");return}var d9=d6.roistatIsInitVisit===true?20000:10000;var dY=(new Date()).getTime();var dX=function(ed){return"approve_visit_"+ed};var d5=function(ed){cm.set(dX(ed),1)};var ea=function(ed){return cm.get(dX(ed))>0};var e,d1,ec=[];if(d8.addEventListener){e=function(ee,ed,ef){return ee.addEventListener(ed,ef,false)};d1=function(ee,ed,ef){return ee.removeEventListener(ed,ef,false)}}else{e=function(ee,ed,ef){return ee.attachEvent("on"+ed,ef)};d1=function(ee,ed,ef){return ee.detachEvent("on"+ed,ef)}}var d4=function(eg){if(ec.length>30){return}eg=eg||d6.event;if(!eg||!eg.screenX){return}var ef=(new Date()).getTime();var ei,eh=null;if(ec.length>0){eh=ec[ec.length-1]}if(eh){ei=ef-eh.time}else{ei=ef-dY}if(ei<300){return}ei=ei-300;var ek=0;var ed=eg.screenX;var ej=eg.screenY;if(eh){ek=parseInt(Math.sqrt(Math.pow(eh.y-ej,2)+Math.pow(eh.x-ed,2)))}var ee={time:ef,pauseBeforeMove:ei,x:ed,y:ej,distance:ek};ec.push(ee)};var d3=function(){var ed=[];r(ec,function(ee){var ef=[ee.pauseBeforeMove,ee.distance];ed.push(ef.join(":"))});if(ed.length===0){ed.push("0:0")}return ed.join("|")};var d0=function(){for(var ed in d6){if(dr(ed,"yaCounter")){return true}}return false};var d7=function(){d1(d8,"mousemove",d4);var ed=p();A("VisitApprove: start for visit "+ed);if(ea(ed)){A("VisitApprove: visit already approved, skip");return}d5(ed);aJ();var ee=T()+"/approve?v="+ad+"&visit="+ed;if(eb()){ee+="&hash="+aB()}if(d2()){ee+="&page_params="+encodeURIComponent(JSON.stringify(d6.roistat.page.params));g()}ee+="&mv="+d3();ee+="&pl="+(d6.navigator?d6.navigator.platform:"");ee+="&ym="+(d0()?"1":"0");ee+="&wd="+(d6.navigator?(d6.navigator.webdriver===true?"1":"0"):"0");a7(ee)};var eb=function(){var eh=cr.cookies,eg=m();var ej=bq();for(var ee=0;ee<ej.length;ee++){var ei=ej[ee];var ek=Object.prototype.hasOwnProperty.call(eh,ei)?eh[ei]:dZ;var ed=Object.prototype.hasOwnProperty.call(eg,ei)?eg[ei]:dZ;var ef=typeof ed==="string"&&ed.length>0;if(ef&&ek!==ed){return true}}return false};var d2=function(){var ei=cr.pageParams,ef=d6.roistat.page.params;for(var ee=0;ee<cY.length;ee++){var ed=cY[ee];var eg=Object.prototype.hasOwnProperty.call(ei,ed)?ei[ed]:null;var eh=Object.prototype.hasOwnProperty.call(ef,ed)?ef[ed]:null;if(eh!==eg){return true}}return false};setTimeout(function(){d7()},d9);e(d8,"mousemove",d4)})(cz,N,bT);(function aH(d2,d3,dY){var d0=function(){return ag("roistat_ab_demo")==="1"};var d4=function(d7){return new RegExp(d7.split(".").join("\\.").split("*").join(".*").split("?").join("."))};var d1=function(ec){var d7=d2.location.href,ea=ec.filter,eg=ec.filterValue;var ed;switch(ea){case"except":case"pages":var d8,ef,ee=false;ef=d7?aV(d7):"";ed=eg?eg.split("\n"):[];if(ef&&ed.length!==0){for(var d9=0;d9<ed.length;d9++){var eb=ed[d9].trim();if(eb.length===0){continue}d8=d4(eb);if(d8.test(ef)){ee=true;break}}}return(ea==="pages")?ee:!ee;break;case"all":default:return true}};var dX=function(d9){var d7=d3.getElementsByTagName("head")[0],d8;d8=d3.createElement("style");d8.setAttribute("type","text/css");if(d8.styleSheet){d8.styleSheet.cssText=d9.value}else{d8.innerText=d9.value}d7.appendChild(d8);A("Applied css-test: "+d9.id)};var e=function(d7){if(Object.prototype.hasOwnProperty.call(da.onAbTestsApplied,d7.id)){da.onAbTestsApplied[d7.id](d7.value)}A("Applied uniform-test: "+d7.id)};var dZ=function(d7){if(d1(d7)){switch(d7.type){case"css":dX(d7);break;case"uniform":e(d7);break}}};d2.applyTests=function(){A("Start applying ab tests");var d7=cw.getObject("abTesting");var d9,d8;for(d9 in d7){if(!Object.prototype.hasOwnProperty.call(d7,d9)){continue}d8=d7[d9];dZ(d8)}cr.isAbTestsApplied=true;A("End applying ab tests");if(d2.onRoistatAbTestsApplied!==dY&&typeof d2.onRoistatAbTestsApplied==="function"){d2.onRoistatAbTestsApplied()}};var d5=function(){A("Call: apply demo AB test");var d7=ag("roistat_ab_data");var d8;if(d7===null){return}else{d8=JSON.parse(cC.decode(d7))}if(typeof d8!=="object"){A("Error: testValue is not an object.");return}dZ(d8)};function d6(){if(aT()){A("ABTest: Shut down because only online chat need to be inited");return}var d7=d0();if(!dk&&!d7){applyTests()}if(d7){d5()}}d6()})(cz,N,bT);(function cV(dX,e,dY){if(aT()){A("visitStream: Shut down because only online chat need to be inited");return}if(!dp){return}setTimeout(function(){(function(d5,d4,d8,d7,d2,d0,d3){d5[d2]={COUNTER_ID:d0,HOST:d3};
var d1=d4.location.protocol=="https:"?"https://":"http://";var dZ=d4.createElement(d8);dZ.async=1;dZ.src=d1+d3+d7;var d6=d4.getElementsByTagName(d8)[0];d6.parentNode.insertBefore(dZ,d6)})(dX,e,"script","/counter.js","datamap",bg(),dp)},1000)})(cz,N,bT);(function cu(dY,e,dZ){var d0=function(){var d1=dY.roistatMetrikaCounterId;if(d1){cw.set(a9,d1)}};var dX=function(d6){var d1="yaCounter"+d6;var d5=100,d3=0,d4=60000;var d2=function(){d3+=d5;A("YandexMetrika: trying to access counter "+d6);if(dY[d1]===dZ){if(d3<d4){setTimeout(d2,d5);d5*=2}return}var d7={};d7[c8]=p();dY[d1].params(d7);A("YandexMetrika: visit id "+d7[c8]+" sent to counter "+d6)};setTimeout(d2,d5)};cP(function(){d0();var d3=cw.get(a9);if(!d3){A("YandexMetrika: counter id not found");return}var d2=String(d3).split(",");A("YandexMetrika: counters: "+d2);for(var d1=0;d1<d2.length;d1++){if(d2[d1].trim()===""){continue}dX(d2[d1])}})})(cz,N,bT);(function aC(d6,ea){var ee=function(eh){A("Proxy Forms: "+eh)};var d3=function(){if(d6.roistat.proxyForms.loaded&&d6.roistat.proxyForms.settings.length>0){ee("save loaded settings");eb(d6.roistat.proxyForms.settings)}else{ee("settings not loaded, getting from storage");d6.roistat.proxyForms.settings=cw.getObject(dI)||[]}};var eb=function(eh){cw.setObject(dI,eh)};var d7=function(){ee("init form listener");dZ(d6.roistat.proxyForms.settings);e(d6.roistat.proxyForms.settings)};var eg=function(eh){return eh.hasOwnProperty("hosts")&&eh.hasOwnProperty("is_excluding_hosts")&&bG(eh.hosts)&&eh.hosts.length>0};var d1=function(ei){if(!eg(ei)){return true}var ej=dx(ei.hosts,bk(d6.location.host));var eh=Boolean(ei.is_excluding_hosts);return eh?!ej:ej};var dY=function(ei){var eh=[];r(ei,function(ej){if(d1(ej)){eh.push(ej)}});return eh};var e=function(eh){var ej=[];r(eh,function(ek){if(ek.type==="js-button"){ej.push(ek)}});if(ej.length<1){ee("no button settings");return}var ei;if(ea.addEventListener){ei=function(ek){d2(ej,ek,ek.target,d0)};ea.addEventListener("click",ei,true)}else{if(ea.attachEvent){ei=function(){var ek=d6.event;d2(ej,ek,ek.srcElement,d0,true)};ea.attachEvent("onclick",ei)}else{ee("Listener could not be attached")}}};var dZ=function(ei){J("Proxy form debug: start");var eh=[];r(ei,function(ek){if(ek.type==="form"){eh.push(ek)}});if(eh.length<1){ee("no form settings");return}if(ea.addEventListener){var ej=function(ek){d2(eh,ek,ek.target,ef)};ea.addEventListener("submit",ej,true)}else{if(ea.attachEvent){setInterval(function(){eh=dY(eh);var ek=ea.getElementsByTagName("form");r(ek,function(el){if(el.getAttribute("data-roistat-proxy-form-checked")==="true"){return}el.setAttribute("data-roistat-proxy-form-checked","true");r(eh,function(em){if(dX(el,em.selector)){el.attachEvent("onsubmit",function(){d6.event.returnValue=false;J("Proxy form debug: start sending form lead");ef(em,d6.event.srcElement)})}})})},2000)}else{ee("Listener could not be attached")}}};var d2=function(ek,el,em,ej,eh){var en=dY(ek);var ei=null;r(en,function(eo){if(dX(em,eo.selector)){ei=eo}});if(ei===null){ee("No matched settings found for listener");return}ej(el,ei,em,eh)};var ef=function(el,ej,ek,ei){var eh=d9(ek,ej);if(!ec(eh,ej)){J("Proxy form debug: lead fields is not valid");return}ei?el.returnValue=false:el.preventDefault();J("Proxy form debug: sending lead");d4(eh,ej,function(){HTMLFormElement.prototype.submit.call(ek)})};var d0=function(ej,ei){var eh=d9(null,ei);if(!ec(eh,ei)){return}d4(eh,ei)};var d4=function(eh,ek,em){var el={};var ej=d5(ek.crm)&&ek.crm.hasOwnProperty("is_enabled");var ei=ej?ek.crm.is_enabled:true;el.leadName=ek.hasOwnProperty("lead_name")?ek.lead_name:"Новый лид с формы "+ek.title;el.formTitle=ek.title;el.name=eh.name;el.phone=eh.phone;el.email=eh.email;el.text=eh.comment;el.fields=eh.fields;el.placeholders_data=eh.placeholdersData;el.is_need_callback=ek.is_need_callback>0?1:0;el.is_skip_sending=!ei;d6.roistatGoal.reach(el,em)};var d5=function(eh){return(typeof eh==="number"&&!isNaN(eh))||(typeof eh==="string"&&eh!=="")||(typeof eh==="object"&&eh!==null)||(typeof eh==="boolean"&&eh)||bG(eh)};var ec=function(eh,ej){var ei=[],el=["name","email","phone","comment"];r(el,function(em){if(ej.hasOwnProperty(em)&&ej[em].required>0){ei.push(em)}});if(bG(ej.fields)){r(ej.fields,function(em){if(em.required>0){ei.push(em)}})}var ek=true;r(ei,function(em){if(!eh.hasOwnProperty(em)||!d5(eh[em])){ek=false}});return ek};var d9=function(ej,ei){var eh={};eh.name=ei.name?d8(ej,ei.name.value,ei.name.type):"";eh.phone=ei.phone?d8(ej,ei.phone.value,ei.phone.type):"";eh.email=ei.email?d8(ej,ei.email.value,ei.email.type):"";eh.comment=ei.comment?d8(ej,ei.comment.value,ei.comment.type):"";eh.fields={};eh.placeholdersData={orderPage:cN};if(bG(ei.fields)){r(ei.fields,function(ek){eh.fields[ek.name]=d8(ej,ek.value,ek.type)})}return eh};var d8=function(ei,el,eh){switch(eh){case"plain":return el||"";case"input":var ek=ei.querySelector('input[name="'+el+'"]');return ek?ek.value:"";case"js":try{return(new Function(el))()}catch(ej){return""}}};var ed=function(){ee("init");
if(aT()){ee("Shut down because only online chat need to be inited");return}if(!d6.roistat.proxyForms.enabled){ee("disabled");return}d3();d7()};var dX=function(ek,ei){if(typeof Element!=="undefined"&&Element.prototype.matches){var eh=ek.matches(ei);if(!eh){return ek.closest(ei)?ek.closest(ei).matches(ei):false}return eh}else{if(typeof Element!=="undefined"&&Element.prototype.matchesSelector){var el=ek.matchesSelector(ei);if(!el){return ek.closest(ei)?ek.closest(ei).matches(ei):false}return el}else{if(ea.querySelectorAll){var em=ea.querySelectorAll(ei);for(var ej=0;ej<em.length;ej++){if(em[ej]===ek){return true}}return false}}}return false};cP(ed);d6.roistatSaveProxyFormSettings=eb})(cz,N);(function S(){if(cz.onRoistatAllModulesLoaded!==bT&&typeof cz.onRoistatAllModulesLoaded==="function"){A("onRoistatAllModulesLoaded: call");cz.onRoistatAllModulesLoaded()}})();(function bh(d3,d6,d0){var e=function(){return cw.get(ax)*1>0};var d5=function(ec){A("Request listener: "+ec)};var eb=/^(8|7|380|45|370|375|1|48|357|44|373|371|49|971|996|995|972|420|33|90|34|55|61|52|60|374|43|41|351)?(\d){9,13}$/g;var d4=/^[^\s]+[@][^\s]+$/g;var dZ=["mc.yandex.ru","google-analytics.com","google.ru","google.com","stats.g.doubleclick.net"];var dY=function dY(){d5("listen");if(d3.XMLHttpRequest){XMLHttpRequest.prototype.oldSend=XMLHttpRequest.prototype.send;function ee(eh){var eg=this;d7(eg.responseURL,eh,function(){eg.oldSend(eh)})}XMLHttpRequest.prototype.send=ee}if(d3.ActiveXObject){var ed=ef;function ef(ei){var eg=new ed(ei);var ej={};if(ei.toLowerCase()==="msxml2.xmlhttp"){ej={_ax:eg,_status:"fake",responseText:"",responseXml:null,readyState:0,status:0,statusText:0,onReadyStateChange:null};var eh="";ej._onReadyStateChange=function(){var ek=ej;return function(){ek.readyState=ek._ax.readyState;if(ek.readyState===4){ek.responseText=ek._ax.responseText;ek.responseXml=ek._ax.responseXml;ek.status=ek._ax.status;ek.statusText=ek._ax.statusText}if(ek.onReadyStateChange){ek.onReadyStateChange()}}}();ej.open=function(eo,em,en,ek,el){eh=em;en=(en!==false);this._ax.onReadyStateChange=this._onReadyStateChange;return this._ax.open(eo,em,en,ek,el)};ej.send=function(ek){var el=this;d7(eh,ek,function(){this._ax.send(ek)})}}else{ej=eg}return ej}d3.ActiveXObject=ef}if(d3.fetch){var ec=fetch;fetch=function(eg,eh){d7(eg.url,eh||{});return ec(eg,eh||{})}}d3.addEventListener("submit",function(ej){var el=ej.target.elements;var ek={};for(var ei=0;ei<el.length;ei++){var eh=el[ei];var eg=eh.getAttribute("name");ek[eg]=eh.value}d7("",ek)})};function d1(ec){var ef={};if(ec.length===0){return ef}var ee=ec.split("?");if(ee.length<2){return ef}var ed=ee[1];ef=dX(ed);return ef}function dX(ed){var ee=ed.split("&"),eg={};for(var ec=0;ec<ee.length;ec++){var ef=ee[ec].split("=");if(ef.length<2){continue}eg[ef[0]]=ef[1]}return eg}function d9(et){d5("data: "+JSON.stringify(et));var em={email:["email","Email","EMAIL","mail","MAIL","Mail"],phone:["phone","Phone","PHONE","tel","Tel","TEL"],name:["name","Name","NAME","full_name","Full_Name","FULL_NAME"]};var ej={email:"",phone:"",name:""};for(var ec in em){var ep=em[ec];for(var eo in ep){if(ep.hasOwnProperty(eo)){if(et.hasOwnProperty(ep[eo])){ej[ec]=et[ep[eo]];break}}}}d5("new data: "+JSON.stringify(ej));var ee=ej.phone.length===0;var ei=ej.email.length===0;if(!ee&&!ei){return ej}var ed=new RegExp(d4);var eh=new RegExp(eb);var ek=Object.keys(et);for(var eq=0;eq<ek.length;eq++){var en=decodeURIComponent(String(et[ek[eq]]));if(ei){var ef=en.match(ed);if(ef&&ef.length>0){var el=ej.email;ej.email=ef[0];d5("parsing email, before: "+el+", after: "+ej.email)}}if(ee){var es=en.replace(/[\s-.()+*_—:;'"`]/g,"");var er=es.match(eh);if(er&&er.length>0){var eg=ej.phone;ej.phone=en;d5("parsing phone, before: "+eg+", after: "+ej.phone)}}}return ej}var d2=function(ec){var ed=bk(ec);return !aD(dZ,ed)};function d7(ee,ed,ec){if(ee.length>0&&!d2(ee)){return}var eg=d1(ee);var ei=ed;if(typeof ei==="string"){ei=dX(ei)}d5("data before parsing "+JSON.stringify({get:eg,post:ei}));var eh=d9(eg);var ef=d9(ei);d5("data after parsing "+JSON.stringify({get:eh,post:ef}));d8(eh,ef,ec)}function d8(ec,ee,ei){var eh=ec.email.length>0?ec.email:ee.email;var ed=ec.phone.length>0?ec.phone:ee.phone;var eg=ec.name.length>0?ec.name:ee.name;if(eh.length==0&&ed.length==0){ei();return}setTimeout(function(){ei()},100);var ef={leadName:"Автоматический лид с сайта",name:eg,phone:ed,email:eh,is_skip_sending:1};d5("phone or email is not empty, reaching goal "+JSON.stringify(ef));roistatGoal.reach(ef)}(function ea(){if(!e()){d5("disabled, skip");return}dY()})()})(cz,N,bT)})(window,document,undefined);