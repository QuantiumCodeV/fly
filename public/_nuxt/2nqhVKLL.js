import{d as G,b1 as Z,r as ee,n as te,e as u,h as t,f as o,F as b,z as x,A as U,y as ae,g as r,o as l,t as i,_ as oe,l as _,b2 as re,b3 as ne,a5 as se,b4 as le,b5 as ie,k as z,i as s,b6 as de,K as ce,w as W,c as X,j as ue,b7 as pe,a as me,b as ge,u as q}from"./C_3eNykI.js";import{_ as fe}from"./DkZAiW9e.js";import{_ as be}from"./B9jJcJJq.js";import{L as he}from"./Dq_4CnZL.js";import{f as E}from"./BswbeSF2.js";import{_ as xe}from"./D68TvIX9.js";import{u as _e}from"./CDl_TvWF.js";import"./C51DBZUF.js";import"./ZnXI8uO6.js";import"./1FZX-vAj.js";import"./A-2u7pNL.js";import"./CQ05dDMJ.js";import"./H91qDMJ2.js";import"./BQlGjPTb.js";const we={class:"relative min-h-svh flex items-center justify-center py-4"},ye={class:"hidden"},ve=["href"],ke=["srcset"],Ce=["srcset"],$e=["src","alt"],Se={class:"w-full max-w-screen-xl"},De={class:"container max-sm:px-0 flex flex-col gap-3"},Ue={class:"max-sm:px-5"},ze={class:"flex flex-col gap-2"},Te={class:"max-lg:hidden flex bg-white/10 rounded-lg"},Be={class:"grow flex gap-6 px-5"},je={class:"max-xl:hidden flex"},Pe={class:"xl:hidden flex flex-col bg-white/10 rounded-lg"},Le={class:"flex max-sm:flex-col grow"},Me={class:"grid grid-cols-2 max-lg:grid-cols-1 justify-between gap-6 max-sm:px-5"},Ne={class:"flex flex-col"},Oe={class:"flex flex-col items-center justify-between gap-3 bg-white p-3 rounded-t-lg sm:flex-row"},Fe={class:"grid place-items-center sm:place-items-start"},Ie={class:"text-center text-4xl font-bold"},Ee={class:"grid place-items-center sm:place-items-start"},He={class:"text-4xl font-semibold text-teal-700"},Re={class:"relative grid max-sm:grid-cols-[1fr_auto] grid-cols-[1fr_auto_auto] bg-white/10 rounded-b-lg"},Ve=["onClick"],Ae=["onClick"],Ye=G({__name:"Destinations",props:{name:{},price:{},cabinClass:{},region:{},country:{},city:{},menu:{},destinations:{},background:{}},setup(A){const a=A,w=Z(),m=ee(null);te(()=>{if(m.value){if(m.value.complete){m.value.dataset.loaded="true";return}m.value.addEventListener("load",()=>{m.value&&(m.value.dataset.loaded="true")})}});const H=[...a.menu.countries,...a.menu.cities];return(p,d)=>{var F,T,B,c,j,D,S,P,L,M,N,O;const g=oe,y=se,f=ne,n=de,v=ie,k=le,C=re,R=fe,$=be,V=he;return l(),u("section",we,[t("nav",ye,[(l(),u(b,null,x(H,e=>t("a",{key:e.href,href:e.href},i(e.name),9,ve)),64))]),t("picture",{style:ae({"--bg-sm":`url(${(T=(F=a.background)==null?void 0:F.sm)==null?void 0:T.thumbnailUrl})`,"--bg-md":`url(${(c=(B=a.background)==null?void 0:B.md)==null?void 0:c.thumbnailUrl})`,"--bg-lg":`url(${(D=(j=a.background)==null?void 0:j.lg)==null?void 0:D.thumbnailUrl})`}),class:U("fixed inset-0 w-screen -z-10 bg-cover bg-[image:--bg-sm] md:bg-[image:--bg-md] lg:bg-[image:--bg-lg] before:absolute before:inset-0 before:-z-10 before:backdrop-blur-xl")},[t("source",{srcset:(P=(S=a.background)==null?void 0:S.lg)==null?void 0:P.url,media:"(min-width: 1024px)"},null,8,ke),t("source",{srcset:(M=(L=a.background)==null?void 0:L.md)==null?void 0:M.url,media:"(min-width: 768px)"},null,8,Ce),t("img",{ref_key:"bg",ref:m,class:"w-full h-full object-[top_center] object-cover opacity-0 data-[loaded='true']:opacity-100 transition duration-500",src:(O=(N=a.background)==null?void 0:N.sm)==null?void 0:O.url,alt:`${a.cabinClass} class flights to ${a.name}`,loading:"lazy"},null,8,$e)],4),o(V,{"when-idle":""},{default:r(()=>[t("div",Se,[t("div",De,[t("div",Ue,[t("div",ze,[t("nav",Te,[t("ul",Be,[(l(!0),u(b,null,x(a.menu.regions,e=>(l(),u("li",{key:e.href,class:"relative grow"},[o(g,{to:e.href,class:"block py-3 text-center text-lg text-white peer"},{default:r(()=>[_(i(e.name),1)]),_:2},1032,["to"]),t("span",{"aria-hidden":"true",class:U(["absolute h-1 -inset-x-1 bottom-0 bg-white peer-hover:scale-x-100  transition",e.href===`/${p.cabinClass}-class/${p.region}`?"scale-x-100":"scale-x-0"])},null,2),d[0]||(d[0]=t("span",{"aria-hidden":"true",class:"absolute h-1 -inset-x-1 bottom-0 bg-brand scale-x-0 peer-active:scale-x-100 transition"},null,-1))]))),128))]),t("div",je,[o(C,{modal:!1},{default:r(()=>[o(f,{class:"group flex-1 flex items-center gap-3 justify-between px-3 py-2 capitalize text-lg text-white data-[state='open']:text-black data-[state='open']:bg-white border-l border-b border-b-transparent data-[state='open']:border-gray-300 whitespace-nowrap"},{default:r(()=>[t("span",null,i(a.country||"Countries"),1),o(y,{name:"ri:arrow-down-s-fill",class:"group-data-[state='open']:text-gray-300"})]),_:1}),o(k,null,{default:r(()=>[o(v,{side:"bottom",align:"center","avoid-collisions":!0,class:"flex flex-col px-2 py-2 min-w-[--radix-dropdown-menu-trigger-width] max-h-[min(var(--radix-dropdown-menu-content-available-height),10rem)] bg-white rounded-b shadow overflow-auto"},{default:r(()=>[(l(!0),u(b,null,x(a.menu.countries,e=>(l(),z(n,{key:e.href,"as-child":""},{default:r(()=>[o(g,{to:e.href,class:"px-2 py-1 text-center uppercase hover:bg-gray-100"},{default:r(()=>[_(i(e.name),1)]),_:2},1032,["to"])]),_:2},1024))),128))]),_:1})]),_:1})]),_:1}),o(C,{modal:!1},{default:r(()=>[o(f,{class:"group flex-1 flex items-center gap-3 justify-between px-3 py-2 capitalize text-lg text-white data-[state='open']:text-black data-[state='open']:bg-white border-l border-b border-b-transparent data-[state='open']:border-gray-300 whitespace-nowrap"},{default:r(()=>[t("span",null,i(a.city||"Cities"),1),o(y,{name:"ri:arrow-down-s-fill",class:"group-data-[state='open']:text-gray-300"})]),_:1}),o(k,null,{default:r(()=>[o(v,{side:"bottom",align:"center","avoid-collisions":!0,class:"flex flex-col px-2 py-2 min-w-[--radix-dropdown-menu-trigger-width] max-h-[min(var(--radix-dropdown-menu-content-available-height),10rem)] bg-white rounded-b shadow overflow-auto"},{default:r(()=>[(l(!0),u(b,null,x(a.menu.cities,e=>(l(),z(n,{key:e.href,"as-child":""},{default:r(()=>[o(g,{to:e.href,class:"px-2 py-1 text-center uppercase hover:bg-gray-100"},{default:r(()=>[_(i(e.name),1)]),_:2},1032,["to"])]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})])]),t("div",Pe,[o(C,{modal:!1},{default:r(()=>[o(f,{class:"lg:hidden group flex-1 flex items-center gap-3 justify-between px-3 py-2 capitalize text-lg text-white data-[state='open']:text-black data-[state='open']:bg-white border-transparent data-[state='open']:border-gray-300 whitespace-nowrap rounded-t-lg"},{default:r(()=>[t("span",null,i(a.region),1),o(y,{name:"ri:arrow-down-s-fill",class:"group-data-[state='open']:text-gray-300"})]),_:1}),o(k,null,{default:r(()=>[o(v,{side:"bottom",align:"center","avoid-collisions":!0,class:"flex flex-col px-2 py-2 min-w-[--radix-dropdown-menu-trigger-width] max-h-[min(var(--radix-dropdown-menu-content-available-height),10rem)] bg-white rounded-b shadow overflow-auto"},{default:r(()=>[(l(!0),u(b,null,x(a.menu.regions,e=>(l(),z(n,{key:e.href,"as-child":""},{default:r(()=>[o(g,{to:e.href,class:"px-2 py-1 text-center uppercase hover:bg-gray-100"},{default:r(()=>[_(i(e.name),1)]),_:2},1032,["to"])]),_:2},1024))),128))]),_:1})]),_:1})]),_:1}),t("div",Le,[o(C,{modal:!1},{default:r(()=>[o(f,{class:"xl:hidden group flex-1 flex items-center gap-3 justify-between px-3 py-2 capitalize text-lg text-white data-[state='open']:text-black data-[state='open']:bg-white border-b max-lg:border-t border-t-white border-transparent data-[state='open']:border-gray-300 whitespace-nowrap"},{default:r(()=>[t("span",null,i(a.country||"Countries"),1),o(y,{name:"ri:arrow-down-s-fill",class:"group-data-[state='open']:text-gray-300"})]),_:1}),o(k,null,{default:r(()=>[o(v,{side:"bottom",align:"center","avoid-collisions":!0,class:"flex flex-col px-2 py-2 min-w-[--radix-dropdown-menu-trigger-width] max-h-[min(var(--radix-dropdown-menu-content-available-height),10rem)] bg-white rounded-b shadow overflow-auto"},{default:r(()=>[(l(!0),u(b,null,x(a.menu.countries,e=>(l(),z(n,{key:e.href,"as-child":""},{default:r(()=>[o(g,{to:e.href,class:"px-2 py-1 text-center uppercase hover:bg-gray-100"},{default:r(()=>[_(i(e.name),1)]),_:2},1032,["to"])]),_:2},1024))),128))]),_:1})]),_:1})]),_:1}),o(C,{modal:!1},{default:r(()=>[o(f,{class:"group flex-1 flex items-center gap-3 justify-between px-3 py-2 capitalize text-lg text-white data-[state='open']:text-black data-[state='open']:bg-white sm:border-l border-b max-lg:border-t border-t-white border-b-transparent data-[state='open']:border-gray-300 whitespace-nowrap"},{default:r(()=>[t("span",null,i(a.city||"Cities"),1),o(y,{name:"ri:arrow-down-s-fill",class:"group-data-[state='open']:text-gray-300"})]),_:1}),o(k,null,{default:r(()=>[o(v,{side:"bottom",align:"center","avoid-collisions":!0,class:"flex flex-col px-2 py-2 min-w-[--radix-dropdown-menu-trigger-width] max-h-[min(var(--radix-dropdown-menu-content-available-height),10rem)] bg-white rounded-b shadow overflow-auto"},{default:r(()=>[(l(!0),u(b,null,x(a.menu.cities,e=>(l(),z(n,{key:e.href,"as-child":""},{default:r(()=>[o(g,{to:e.href,class:"px-2 py-1 text-center uppercase hover:bg-gray-100"},{default:r(()=>[_(i(e.name),1)]),_:2},1032,["to"])]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})])])])]),t("div",Me,[t("div",Ne,[t("div",Oe,[t("h1",Fe,[d[1]||(d[1]=t("span",{class:"text-lg"},"Business Class Flight to ",-1)),t("span",Ie,i(a.name),1)]),t("div",Ee,[d[2]||(d[2]=t("div",null,[_("starting from "),t("span",{class:"text-gray-400 font-bold"},"*USD")],-1)),t("div",He,i(("formatToUSD"in p?p.formatToUSD:s(E))(a.price)),1)])]),t("div",Re,[d[3]||(d[3]=t("div",{class:"absolute inset-0 col-span-3 row-span-1 col-start-1 row-start-1 -z-10 bg-gray-200"},null,-1)),d[4]||(d[4]=t("div",{class:"pl-3 py-2"},"Destination",-1)),d[5]||(d[5]=t("div",{class:"max-sm:hidden px-3 py-2 text-center"},"Old Price",-1)),d[6]||(d[6]=t("div",{class:"px-3 py-2 text-center border-l border-gray-400"},"Price Today",-1)),(l(!0),u(b,null,x(a.destinations,(e,h)=>(l(),u(b,{key:h},[t("div",{class:U(["ml-3 py-2 text-white",h===a.destinations.length-1?"":"border-b",{"cursor-pointer":e.href}]),onClick:I=>e.href&&s(w).push(e.href)},i(e.name),11,Ve),t("div",{class:U(["max-sm:hidden px-3 py-2 text-center text-white line-through",h===a.destinations.length-1?"":"border-b",{"cursor-pointer":e.href}]),onClick:I=>e.href&&s(w).push(e.href)},i(("formatToUSD"in p?p.formatToUSD:s(E))(e.oldPrice)),11,Ae),e.href?(l(),z(g,{key:0,to:e.href,class:U(["px-3 py-2 text-center text-white border-l underline",h===a.destinations.length-1?"":"border-b"])},{default:r(()=>[_(i(("formatToUSD"in p?p.formatToUSD:s(E))(e.price)),1)]),_:2},1032,["to","class"])):(l(),u("div",{key:1,class:U(["px-3 py-2 text-center text-white border-l",h===a.destinations.length-1?"":"border-b"])},i(("formatToUSD"in p?p.formatToUSD:s(E))(e.price)),3))],64))),128))])]),o(R)]),o($,{class:"max-sm:mx-5"})])])]),_:1})])}}}),st=G({__name:"[[city]]",async setup(A){var T,B;let a,w;const m=ce(),H=m.path,{class:p,region:d,country:g,city:y}=m.params,{data:f}=([a,w]=W(()=>q(`/api/content/destination-page${H}`,"$oukm_aMYYx")),a=await a,w(),a);if(!f.value)throw X({statusCode:404,fatal:!0,message:"Page not found"});if(!f.value.data)throw X({statusCode:404,fatal:!0,message:"Page not found"});const n=f.value.data.attributes,v=n.priceTableItems.map(c=>c.page.data?{name:c.page.data.attributes.name,price:c.page.data.attributes.price,oldPrice:c.page.data.attributes.oldPrice,href:c.page.data.attributes.slug}:{name:c.fallbackName||"",price:c.fallbackPrice||0,oldPrice:c.fallbackOldPrice||0}),{data:k}=([a,w]=W(()=>q(`/api/content/destination-page/menu/${d}`,"$TlylXQdC2P")),a=await a,w(),a),C=Object.entries(((B=(T=k.value)==null?void 0:T.data)==null?void 0:B.attributes)||{}).reduce((c,[j,D])=>(c[j]=D.map(S=>({name:S.name,href:S.slug})),c),{}),R=ge(),$=ue(),V=pe(m.path);me({title:n.title,meta:[{property:"og:title",content:n.title},{name:"twitter:title",content:n.title},{name:"description",content:n.metaDescription},{property:"og:image",content:n.heroBgLarge.data.attributes.url},{name:"twitter:image",content:n.heroBgLarge.data.attributes.url},{name:"robots",content:R.public.noIndexNoFollow?"noindex, nofollow":"index, follow"}],script:[{type:"application/ld+json",innerHTML:JSON.stringify({"@context":"https://schema.org","@type":"Offer",url:`${$.url}${V}`,priceCurrency:"USD",price:n.price,itemOffered:{"@type":"Service",name:n.title,description:n.metaDescription,provider:{"@type":"Organization",name:$.name,url:$.url}},availability:"https://schema.org/InStock",seller:{"@type":"Organization",name:$.name,url:$.url}})}]});const{customComponents:F}=_e();return(c,j)=>{var P,L,M,N,O,e,h,I,Y,J,K,Q;const D=Ye,S=xe;return l(),u("div",null,[o(D,{name:s(n).name,price:s(n).price,"cabin-class":s(p),region:s(d),country:s(g),city:s(y),menu:s(C),destinations:s(v),background:{sm:{url:`${(P=s(n).heroBgSmall.data)==null?void 0:P.attributes.url}`,thumbnailUrl:`${(N=(M=(L=s(n).heroBgSmall.data)==null?void 0:L.attributes.formats)==null?void 0:M.thumbnail)==null?void 0:N.url}`},md:{url:`${(O=s(n).heroBgMedium.data)==null?void 0:O.attributes.url}`,thumbnailUrl:`${(I=(h=(e=s(n).heroBgMedium.data)==null?void 0:e.attributes.formats)==null?void 0:h.thumbnail)==null?void 0:I.url}`},lg:{url:`${(Y=s(n).heroBgLarge.data)==null?void 0:Y.attributes.url}`,thumbnailUrl:`${(Q=(K=(J=s(n).heroBgLarge.data)==null?void 0:J.attributes.formats)==null?void 0:K.thumbnail)==null?void 0:Q.url}`}},class:"pt-[--header-height]"},null,8,["name","price","cabin-class","region","country","city","menu","destinations","background"]),o(S,{blocks:s(n).blocks,"custom-components":s(F)},null,8,["blocks","custom-components"])])}}});export{st as default};
