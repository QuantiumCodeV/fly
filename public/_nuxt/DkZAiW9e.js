import{d as oe,M as B,L as ye,ac as Y,a7 as te,a8 as le,r as G,e as M,o as E,a3 as ie,h as a,f as o,i as e,a9 as re,a5 as de,s as v,A as c,B as S,ah as Q,ai as ue,T as N,aj as me,ae as pe,af as W,ag as ce,l as q,t as ee,a6 as be,N as fe,aa as ge,ab as we,g as L,ad as Fe,F as se,z as Ve,p as Te,R as Ce,k as ke,ak as Ue,al as De,am as Le,an as Re,ao as Se}from"./C_3eNykI.js";import{_ as ve,a as Ee,b as $e,c as _e,d as Pe}from"./C51DBZUF.js";import{u as xe,i as K,h as H,a as he}from"./1FZX-vAj.js";import{i as ae}from"./A-2u7pNL.js";import{_ as Ie}from"./CQ05dDMJ.js";import{i as je}from"./H91qDMJ2.js";const Ae={class:"relative z-0 grid gap-1.5 grow"},ze={class:"grid gap-1.5 auto-rows-fr lg:grid-cols-2"},Me=["for"],Ne=["id"],qe=["for"],Oe=["id"],Be=["for"],Ge={class:"flex justify-between gap-5 max-sm:flex-col pt-1"},Qe=["disabled"],We={class:"absolute flex inset-0 items-center justify-center bg-inherit rounded-[inherit]"},He=oe({__name:"RoundTrip",props:{submitLabel:{}},setup(P,{expose:I}){const _=P,{flight:l,returnDate:$,cabinClass:x,passengers:h,passengersCount:p,getData:V}=B(ye()),{name:y,email:w,phone:F}=B(Y()),{switchLocation:R}=ye(),{minDate:T,maxDate:C}=xe(),j=()=>!!F.value.valid,A={flight:{to:{hasIataCode:H,isValidDestination:he},from:{hasIataCode:H},date:{valid_date:te(K($),ae(T),K(C))}},returnDate:{valid_date:te(ae(T),K(C))},email:{required:W,emailValidator:ce},name:{required:W,min:pe(2)},phone:{isPhoneValid:j}},t=le(A,{flight:l,returnDate:$,email:w,name:y,phone:F}),b=G(!1),{createRequest:X}=fe(),i=async()=>{if(t.value.$validate(),t.value.$invalid)return;b.value=!0;const{error:g}=await X({body:V.value,method:"post"});b.value=!1,g.value?(g.value.statusCode||500)>=500&&alert("Server error"):await ge({path:"/thank-you",query:{name:y.value}})},f=()=>{U.value&&U.value.handleAddReturn()},U=G();I({handleAddReturn:f});const n=re();return(g,s)=>{const r=ve,D=de,O=Ee,J=$e,Z=_e,d=ue,ne=me;return E(),M("form",{class:"grid gap-1.5",onSubmit:ie(i,["prevent"])},[a("div",Ae,[o(r,{id:`from-${e(n)}`,modelValue:e(l).from,"onUpdate:modelValue":s[0]||(s[0]=u=>e(l).from=u),invalid:e(t).flight.from.$invalid&&e(t).flight.from.$dirty,label:"From"},null,8,["id","modelValue","invalid"]),a("button",{type:"button",class:"absolute z-10 right-1.5 top-1/2 -translate-y-1/2 flex items-center justify-center size-8 bg-brand-50 text-brand rounded",onClick:s[1]||(s[1]=(...u)=>e(R)&&e(R)(...u))},[o(D,{name:"gravity-ui:arrows-rotate-right"})]),o(r,{id:`to-${e(n)}`,modelValue:e(l).to,"onUpdate:modelValue":s[2]||(s[2]=u=>e(l).to=u),invalid:e(t).flight.to.$invalid&&e(t).flight.to.$dirty,label:"To"},null,8,["id","modelValue","invalid"])]),o(O,{id:`departure-date-${e(n)}`,ref_key:"dateRangePicker",ref:U,"start-date":e(l).date,"onUpdate:startDate":s[3]||(s[3]=u=>e(l).date=u),"end-date":e($),"onUpdate:endDate":s[4]||(s[4]=u=>v($)?$.value=u:null),invalid:e(t).returnDate.$invalid&&e(t).returnDate.$dirty||e(t).flight.date.$invalid&&e(t).flight.date.$dirty,"label-start":"Departure","label-end":"Return",offset:6,"min-date":e(T),"max-date":e(C)},null,8,["id","start-date","end-date","invalid","min-date","max-date"]),a("div",ze,[o(J,{"cabin-class":e(x),"onUpdate:cabinClass":s[5]||(s[5]=u=>v(x)?x.value=u:null),class:"p-2 border rounded"},null,8,["cabin-class"]),o(Z,{passengers:e(h),"onUpdate:passengers":s[6]||(s[6]=u=>v(h)?h.value=u:null),"passengers-count":e(p),class:"self-stretch grow whitespace-nowrap"},null,8,["passengers","passengers-count"]),a("div",{class:c(["grid group border rounded p-2",e(t).name.$invalid&&e(t).name.$dirty?"border-red-500":"focus-within:border-brand"])},[a("label",{for:`name-${e(n)}`,class:c(["text-xs text-gray-400 pr-12",e(t).name.$invalid&&e(t).name.$dirty?"text-red-500":"group-focus-within:text-brand "])},"Name",10,Me),S(a("input",{id:`name-${e(n)}`,"onUpdate:modelValue":s[7]||(s[7]=u=>v(y)?y.value=u:null),type:"text",class:"text-sm text-black focus:outline-none"},null,8,Ne),[[Q,e(y)]])],2),a("div",{class:c(["grid group border rounded p-2",e(t).email.$invalid&&e(t).email.$dirty?"border-red-500":"focus-within:border-brand"])},[a("label",{for:`email-${e(n)}`,class:c(["text-xs text-gray-400 pr-12",e(t).email.$invalid&&e(t).email.$dirty?"text-red-500":"group-focus-within:text-brand "])},"Email",10,qe),S(a("input",{id:`email-${e(n)}`,"onUpdate:modelValue":s[8]||(s[8]=u=>v(w)?w.value=u:null),type:"email",class:"text-sm text-black focus:outline-none"},null,8,Oe),[[Q,e(w)]])],2),a("div",{class:c(["grid group border rounded p-2 lg:col-span-2",e(t).phone.$invalid&&e(t).phone.$dirty?"border-red-500":"focus-within:border-brand"])},[a("label",{for:`phone-${e(n)}`,class:c(["text-xs text-gray-400 pr-12",e(t).phone.$invalid&&e(t).phone.$dirty?"text-red-500":"group-focus-within:text-brand "])},"Phone",10,Be),o(d,{id:`phone-${e(n)}`,modelValue:e(F),"onUpdate:modelValue":s[9]||(s[9]=u=>v(F)?F.value=u:null),class:"text-sm text-black focus:outline-none"},null,8,["id","modelValue"])],2)]),a("div",Ge,[N(g.$slots,"button",{loading:e(b)},()=>[a("button",{type:"submit",class:"relative px-6 py-3 bg-brand-500 hover:bg-brand-700 transition-colors rounded text-white whitespace-nowrap grow font-semibold",disabled:e(b)},[q(ee(_.submitLabel||"GET FREE QUOTE")+" ",1),S(a("span",We,[o(D,{name:"svg-spinners:180-ring",class:"text-[2rem]"})],512),[[be,e(b)]])],8,Qe)])]),o(ne)],32)}}}),Xe={class:"relative z-0 grid gap-1.5 grow"},Je={class:"grid gap-1.5 auto-rows-fr lg:grid-cols-2"},Ze=["for"],Ke=["id"],Ye=["for"],et=["id"],tt=["for"],at={class:"flex justify-between gap-5 max-sm:flex-col pt-1"},ot=["disabled"],nt={class:"absolute flex inset-0 items-center justify-center bg-inherit rounded-[inherit]"},st=oe({__name:"OneWay",props:{submitLabel:{}},emits:["add-return"],setup(P,{emit:I}){const _=P,{flight:l,cabinClass:$,passengers:x,passengersCount:h,getData:p}=B(we()),{name:V,email:y,phone:w}=B(Y()),{switchLocation:F}=we(),R=I,{minDate:T,maxDate:C}=xe(),j=()=>!!w.value.valid,A={flight:{to:{hasIataCode:H,isValidDestination:he},from:{hasIataCode:H},date:{valid_date:te(ae(T),K(C))}},email:{required:W,emailValidator:ce},name:{required:W,min:pe(2)},phone:{isPhoneValid:j}},t=le(A,{flight:l,name:V,email:y,phone:w}),b=G(!1),{createRequest:X}=fe(),i=async()=>{if(t.value.$validate(),t.value.$invalid)return;b.value=!0;const{error:U}=await X({body:p.value,method:"post"});b.value=!1,U.value?(U.value.statusCode||500)>=500&&alert("Server error"):await ge({path:"/thank-you",query:{name:V.value}})},f=re();return(U,n)=>{const g=ve,s=de,r=Pe,D=$e,O=_e,J=ue,Z=me;return E(),M("form",{class:"grid gap-1.5",onSubmit:ie(i,["prevent"])},[a("div",Xe,[o(g,{id:`from-${e(f)}`,modelValue:e(l).from,"onUpdate:modelValue":n[0]||(n[0]=d=>e(l).from=d),invalid:e(t).flight.from.$invalid&&e(t).flight.from.$dirty,label:"From"},null,8,["id","modelValue","invalid"]),a("button",{type:"button",class:"absolute z-10 right-1.5 top-1/2 -translate-y-1/2 flex items-center justify-center size-8 bg-brand-50 text-brand rounded",onClick:n[1]||(n[1]=(...d)=>e(F)&&e(F)(...d))},[o(s,{name:"gravity-ui:arrows-rotate-right"})]),o(g,{id:`to-${e(f)}`,modelValue:e(l).to,"onUpdate:modelValue":n[2]||(n[2]=d=>e(l).to=d),invalid:e(t).flight.to.$invalid&&e(t).flight.to.$dirty,label:"To"},null,8,["id","modelValue","invalid"])]),o(r,{id:`departure-date-${e(f)}`,modelValue:e(l).date,"onUpdate:modelValue":n[4]||(n[4]=d=>e(l).date=d),invalid:e(t).flight.date.$invalid&&e(t).flight.date.$dirty,label:"Departure",offset:6,"min-date":e(T),"max-date":e(C)},{default:L(()=>[a("button",{type:"button",class:"flex items-center justify-center gap-1 rounded w-full text-gray-500 bg-gray-100",onClick:n[3]||(n[3]=d=>R("add-return"))},[o(s,{name:"ic:round-plus"}),n[10]||(n[10]=q(" Add return "))])]),_:1},8,["id","modelValue","invalid","min-date","max-date"]),a("div",Je,[o(D,{"cabin-class":e($),"onUpdate:cabinClass":n[5]||(n[5]=d=>v($)?$.value=d:null),class:"p-2 border rounded"},null,8,["cabin-class"]),o(O,{passengers:e(x),"onUpdate:passengers":n[6]||(n[6]=d=>v(x)?x.value=d:null),"passengers-count":e(h),class:"self-stretch grow whitespace-nowrap"},null,8,["passengers","passengers-count"]),a("div",{class:c(["grid group border rounded p-2",e(t).name.$invalid&&e(t).name.$dirty?"border-red-500":"focus-within:border-brand"])},[a("label",{for:`name-${e(f)}`,class:c(["text-xs text-gray-400 pr-12",e(t).name.$invalid&&e(t).name.$dirty?"text-red-500":"group-focus-within:text-brand "])},"Name",10,Ze),S(a("input",{id:`name-${e(f)}`,"onUpdate:modelValue":n[7]||(n[7]=d=>v(V)?V.value=d:null),type:"text",class:"text-sm text-black focus:outline-none"},null,8,Ke),[[Q,e(V)]])],2),a("div",{class:c(["grid group border rounded p-2",e(t).email.$invalid&&e(t).email.$dirty?"border-red-500":"focus-within:border-brand"])},[a("label",{for:`email-${e(f)}`,class:c(["text-xs text-gray-400 pr-12",e(t).email.$invalid&&e(t).email.$dirty?"text-red-500":"group-focus-within:text-brand "])},"Email",10,Ye),S(a("input",{id:`email-${e(f)}`,"onUpdate:modelValue":n[8]||(n[8]=d=>v(y)?y.value=d:null),type:"email",class:"text-sm text-black focus:outline-none"},null,8,et),[[Q,e(y)]])],2),a("div",{class:c(["grid group border rounded p-2 lg:col-span-2",e(t).phone.$invalid&&e(t).phone.$dirty?"border-red-500":"focus-within:border-brand"])},[a("label",{for:`phone-${e(f)}`,class:c(["text-xs text-gray-400 pr-12",e(t).phone.$invalid&&e(t).phone.$dirty?"text-red-500":"group-focus-within:text-brand "])},"Phone",10,tt),o(J,{id:`phone-${e(f)}`,modelValue:e(w),"onUpdate:modelValue":n[9]||(n[9]=d=>v(w)?w.value=d:null),class:"text-sm text-black focus:outline-none"},null,8,["id","modelValue"])],2)]),a("div",at,[N(U.$slots,"button",{loading:e(b)},()=>[a("button",{type:"submit",class:"relative px-6 py-3 bg-brand-500 hover:bg-brand-700 transition-colors rounded text-white whitespace-nowrap grow font-semibold",disabled:e(b)},[q(ee(_.submitLabel||"GET FREE QUOTE")+" ",1),S(a("span",nt,[o(s,{name:"svg-spinners:180-ring",class:"text-[2rem]"})],512),[[be,e(b)]])],8,ot)])]),o(Z)],32)}}}),lt={class:"grid gap-1.5"},it={key:0,class:"px-4 flex justify-between relative text-brand before:absolute before:h-px before:inset-x-0 before:top-1/2 before:bg-brand"},rt={class:"relative text-xs bg-white px-1"},dt=["onClick"],ut={class:"grid gap-1.5"},mt={class:"relative z-0 grid gap-1.5"},pt=["onClick"],ct={class:"grid gap-1.5 auto-rows-fr lg:grid-cols-2"},bt=["for"],ft=["id"],gt=["for"],vt=["id"],$t=["for"],_t={class:"flex justify-end gap-1.5"},xt=["disabled"],ht=["disabled"],yt={class:"flex justify-between gap-5 max-sm:flex-col pt-1"},wt=["disabled"],Vt={class:"absolute flex inset-0 items-center justify-center bg-inherit rounded-[inherit]"},Ft=oe({__name:"MultiCity",props:{submitLabel:{}},setup(P){const I=P,{flights:_,cabinClass:l,passengers:$,email:x,phone:h,name:p,passengersCount:V,getData:y}=B(Y()),{MAX_FLIGHTS:w,MIN_FLIGHTS:F,addFlight:R,deleteFlight:T,clear:C,switchLocation:j}=Y(),A=()=>!!h.value.valid,{minDate:t,maxDate:b}=xe(),X={flights:{$each:Fe.forEach({from:{hasIataCode:H},to:{hasIataCode:H,isValidDestination:he},date:{valid_date:te(ae(t),K(b),je(_))}})},email:{required:W,emailValidator:ce},name:{required:W,min:pe(2)},phone:{isPhoneValid:A}},i=le(X,{flights:_,email:x,name:p,phone:h}),f=G(!1),{createRequest:U}=fe(),n=async()=>{if(i.value.$validate(),i.value.$invalid)return;f.value=!0;const{error:s}=await U({body:y.value,method:"post"});f.value=!1,s.value?(s.value.statusCode||500)>=500&&alert("Server error"):await ge({path:"/thank-you",query:{name:p.value}})},g=re();return(s,r)=>{const D=de,O=ve,J=Ie,Z=$e,d=_e,ne=ue,u=me;return E(),M("form",{class:"grid gap-1.5",onSubmit:ie(n,["prevent"])},[a("div",lt,[(E(!0),M(se,null,Ve(e(_),(m,k)=>(E(),M(se,{key:k},[k!==0?(E(),M("div",it,[a("span",rt,"Flight "+ee(k+1),1),a("button",{type:"button",class:"relative bg-white text-xl",onClick:z=>e(T)(k)},[o(D,{name:"ic:round-close"})],8,dt)])):Te("",!0),a("div",ut,[a("div",mt,[o(O,{id:`from-${k}-${e(g)}`,modelValue:m.from,"onUpdate:modelValue":z=>m.from=z,invalid:e(i).flights.$each.$response.$data[k].from.$invalid&&e(i).flights.$dirty,label:"From"},null,8,["id","modelValue","onUpdate:modelValue","invalid"]),a("button",{type:"button",class:"absolute z-10 right-1.5 top-1/2 -translate-y-1/2 flex items-center justify-center size-8 bg-brand-50 text-brand rounded",onClick:z=>e(j)(k)},[o(D,{name:"gravity-ui:arrows-rotate-right"})],8,pt),o(O,{id:`to-${k}-${e(g)}`,modelValue:m.to,"onUpdate:modelValue":z=>m.to=z,invalid:e(i).flights.$each.$response.$data[k].to.$invalid&&e(i).flights.$dirty,label:"To"},null,8,["id","modelValue","onUpdate:modelValue","invalid"])]),o(J,{id:`departure-date-${k}-${e(g)}`,modelValue:m.date,"onUpdate:modelValue":z=>m.date=z,invalid:e(i).flights.$each.$response.$data[k].date.$invalid&&e(i).flights.$dirty,label:"Departure",offset:6,"min-date":e(t),"max-date":e(b)},null,8,["id","modelValue","onUpdate:modelValue","invalid","min-date","max-date"])])],64))),128)),a("div",ct,[o(Z,{"cabin-class":e(l),"onUpdate:cabinClass":r[0]||(r[0]=m=>v(l)?l.value=m:null),class:"p-2 border rounded"},null,8,["cabin-class"]),o(d,{passengers:e($),"onUpdate:passengers":r[1]||(r[1]=m=>v($)?$.value=m:null),"passengers-count":e(V)},null,8,["passengers","passengers-count"]),a("div",{class:c(["grid group border rounded p-2",e(i).name.$invalid&&e(i).name.$dirty?"border-red-500":"focus-within:border-brand"])},[a("label",{for:`name-${e(g)}`,class:c(["text-xs text-gray-400 pr-12",e(i).name.$invalid&&e(i).name.$dirty?"text-red-500":"group-focus-within:text-brand "])},"Name",10,bt),S(a("input",{id:`name-${e(g)}`,"onUpdate:modelValue":r[2]||(r[2]=m=>v(p)?p.value=m:null),type:"text",class:"text-sm text-black focus:outline-none"},null,8,ft),[[Q,e(p)]])],2),a("div",{class:c(["grid group border rounded p-2",e(i).email.$invalid&&e(i).email.$dirty?"border-red-500":"focus-within:border-brand"])},[a("label",{for:`email-${e(g)}`,class:c(["text-xs text-gray-400 pr-12",e(i).email.$invalid&&e(i).email.$dirty?"text-red-500":"group-focus-within:text-brand "])},"Email",10,gt),S(a("input",{id:`email-${e(g)}`,"onUpdate:modelValue":r[3]||(r[3]=m=>v(x)?x.value=m:null),type:"email",class:"text-sm text-black focus:outline-none"},null,8,vt),[[Q,e(x)]])],2),a("div",{class:c(["grid group border rounded p-2 lg:col-span-2",e(i).phone.$invalid&&e(i).phone.$dirty?"border-red-500":"focus-within:border-brand"])},[a("label",{for:`phone-${e(g)}`,class:c(["text-xs text-gray-400 pr-12",e(i).phone.$invalid&&e(i).phone.$dirty?"text-red-500":"group-focus-within:text-brand "])},"Phone",10,$t),o(ne,{id:`phone-${e(g)}`,modelValue:e(h),"onUpdate:modelValue":r[4]||(r[4]=m=>v(h)?h.value=m:null),class:"text-sm text-black focus:outline-none"},null,8,["id","modelValue"])],2)])]),a("div",_t,[a("button",{type:"button",class:"self-stretch flex items-center gap-1 text-sm px-4 py-1 bg-gray-100 text-black hover:bg-brand-500 rounded hover:text-white disabled:bg-white/50 disabled:text-black/50 whitespace-nowrap",disabled:e(_).length>=e(w),onClick:r[5]||(r[5]=(...m)=>e(R)&&e(R)(...m))},[o(D,{name:"ic:round-plus"}),r[7]||(r[7]=q(" Add flight "))],8,xt),a("button",{type:"button",class:"self-stretch flex items-center gap-1 text-sm px-4 py-1 bg-gray-100 text-black hover:bg-brand-500 rounded hover:text-white disabled:bg-white/50 disabled:text-black/50 whitespace-nowrap",disabled:e(_).length<=e(F),onClick:r[6]||(r[6]=(...m)=>e(C)&&e(C)(...m))},[o(D,{name:"ic:round-close"}),r[8]||(r[8]=q(" Clear all "))],8,ht)]),a("div",yt,[N(s.$slots,"button",{loading:e(f)},()=>[a("button",{type:"submit",class:"relative px-6 py-3 bg-brand-500 hover:bg-brand-700 transition-colors rounded text-white whitespace-nowrap grow font-semibold",disabled:e(f)},[q(ee(I.submitLabel||"GET FREE QUOTE")+" ",1),S(a("span",Vt,[o(D,{name:"svg-spinners:180-ring",class:"text-[2rem]"})],512),[[be,e(f)]])],8,wt)])]),o(u)],32)}}}),Tt={class:"flex justify-center bg-gray-100 rounded-lg"},St=oe({__name:"index",props:{defaultTab:{},submitLabel:{}},setup(P){const{activeType:I}=B(Y()),_=P,l=G(_.defaultTab||"round_trip"),$={round_trip:"Round Trip",one_way:"One Way",multi_city:"Multi-City"},x=()=>{l.value="round_trip",setTimeout(()=>{var p;return(p=h.value)==null?void 0:p.handleAddReturn()},0)},h=G();return Ce(l,p=>{I.value=p},{immediate:!0}),(p,V)=>{const y=De,w=Le,F=Ue,R=He,T=Re,C=st,j=Ft,A=Se;return E(),ke(A,{modelValue:e(l),"onUpdate:modelValue":V[0]||(V[0]=t=>v(l)?l.value=t:null),class:"flex flex-col border-4 p-2 sm:p-5 gap-3 bg-white border-brand rounded-lg"},{default:L(()=>[N(p.$slots,"default"),a("div",Tt,[o(F,{class:"relative flex gap-6 px-3"},{default:L(()=>[o(y,{class:"absolute bg-brand-700 left-0 h-[2px] bottom-0 w-[--radix-tabs-indicator-size] translate-x-[--radix-tabs-indicator-position] transition-[width,transform] rounded-full"}),(E(),M(se,null,Ve($,(t,b)=>o(w,{key:b,class:"py-1 max-sm:text-sm",value:b},{default:L(()=>[q(ee(t),1)]),_:2},1032,["value"])),64))]),_:1})]),o(T,{value:"round_trip"},{default:L(()=>[o(R,{ref_key:"formRoundTrip",ref:h,"submit-label":_.submitLabel},{button:L(({loading:t})=>[N(p.$slots,"button",{loading:t})]),_:3},8,["submit-label"])]),_:3}),o(T,{value:"one_way"},{default:L(()=>[o(C,{"submit-label":_.submitLabel,onAddReturn:x},{button:L(({loading:t})=>[N(p.$slots,"button",{loading:t})]),_:3},8,["submit-label"])]),_:3}),o(T,{value:"multi_city"},{default:L(()=>[o(j,{"submit-label":_.submitLabel},{button:L(({loading:t})=>[N(p.$slots,"button",{loading:t})]),_:3},8,["submit-label"])]),_:3})]),_:3},8,["modelValue"])}}});export{St as _};
