if(!JSON){var JSON;if(!JSON){JSON={}}(function(){function f(n){return n<10?"0"+n:n}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(key){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf()}}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key)}if(typeof rep==="function"){value=rep.call(holder,key,value)}switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null"}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null"}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){if(typeof rep[i]==="string"){k=rep[i];v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}else{for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v}}if(typeof JSON.stringify!=="function"){JSON.stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" "}}else{if(typeof space==="string"){indent=space}}rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("JSON.stringify")}return str("",{"":value})}}if(typeof JSON.parse!=="function"){JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v}else{delete value[k]}}}}return reviver.call(holder,key,value)}text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")}}}())}if(!String.prototype.trim){(function(){var a=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;String.prototype.trim=function(){return this.replace(a,"")}})()}if(window.Element&&!Element.prototype.closest){Element.prototype.closest=function(c){var d=(this.document||this.ownerDocument).querySelectorAll(c),a,b=this;do{a=d.length;while(--a>=0&&d.item(a)!==b){}}while((a<0)&&(b=b.parentElement));return b}}(function(cy,M,bS){function dl(dX){if(typeof dX!=="function"){return}var e=false;function dW(){if(!e){e=true;dX();if(typeof M.removeEventListener==="function"){M.removeEventListener("DOMContentLoaded",dW)}}}if(M.readyState==="interactive"||M.readyState==="complete"){dW()}else{an(M,"DOMContentLoaded",dW)}}var F=function(){var e=cy.maCookiePrefix;return typeof e==="string"?e:"roistat"};var ab=F();var bN=function(){return cy[ab+"Host"]};var bD=false,ac="373",B=13,c8=42,x=bN(),aQ="0.2",ap="1.0",dh="roistat_visit_cookie_expire",co="roistat_visit",aW="roistat_cookies_to_resave",cg="roistat_guid",a1="roistat_next_guid",a7="roistat_first_visit",aw="roistat_is_need_listen_requests",bo="roistat_is_save_data_in_cookie",dN="roistat_phone",V="roistat_raw_phone",E="roistat_externalCountersEnabled",aP="roistat_referrer",dk="roistat_marker",bq="roistat_marker_old",bK="roistat_ab",al="roistat_previous_ab",W="roistat_ab_submit",bU=35*24*60*60,cV="rs",N="roistat",ai="leadhunter_expire",T=5*60*60,bT="roistat_leadHunterEnabled",r="roistat_leadHunterTargetPagesMap",cN="roistat_leadHunterCallbackSettings",a5="roistat_leadHunterScriptId",ad="roistat_isleadHunterScriptIdActive",bm="roistat_multiwidgetEnabled",cf="roistat_multiwidgetVKEnabled",c5="roistat_multiwidgetVKLink",U="roistat_multiwidgetFBEnabled",ds="roistat_multiwidgetFBLink",cQ="roistat_multiwidgetTelegramEnabled",bA="roistat_multiwidgetTelegramLink",c1="roistat_multiwidgetWhatsAppEnabled",bR="roistat_multiwidgetWhatsAppLink",dV="roistat_multiwidgetViberEnabled",cT="roistat_multiwidgetViberLink",au="roistat_multiwidgetSettings",c2="roistat_onlineChatEnabled",C="roistat_onlineChatSettings",d=7*24*60*60,da={expires:d,path:"/"},aq="roistat-promo",az="roistat-phone",L="roistat-phone-country",ar="roistat-phone-region",O="roistat-phone-number",dF="roistat-phone-tel",b1="country",aY="region",bt="number",cj="tel",aa="get-phone",n="roistat_call_tracking",ae="roistat-js-script",bI="roistat_phone_replacement",bu="roistat_phone_script_data",c7="roistat-visit-id",a8="roistat_metrika_counter_id",j="roistat_marker_from_referrer",bH="roistat_emailtracking_email",b="roistat_emailtracking_tracking_email",bX="roistat_emailtracking_emails",l="roistat_geo_data",a0="roistat_promo_code",dH="roistat_proxy_forms",dc="roistat_isMultiDomain",cX=["roistat_param1","roistat_param2","roistat_param3","roistat_param4","roistat_param5"],cp="roistat_debug",bb="roistat_settings_saved",cE="nocookie",a9=["yandex.ru"],aN="beta_test",cR="roistat_settings_version",cd="roistat-leadhunter-form-template",bG="roistat-leadhunter-pulsator-template",cc="roistat-leadhunter-pulsator-settings",bC="roistat-online-chat-pulsator-template",D="roistat-online-chat-iframe-template",dm="roistat-multiwidget-pulsator-template",f="roistat-multiwidget-pulsator-settings",ag="roistat_last_settings_update_time",cL="roistat_authorized_client",aJ="roistat_params",du=50,aX="mobile",p="tablet",b9="desktop",b5=500,dB=1024;
var cs="ru",aE="en",cI={ru:["Русский","Russian"],en:["Английский","English"]},am,s;var ce={callTrackingEnabled:true,callTrackingManual:false,jsonpRequestTimeout:100};var cq={isVisitProcessed:false,visitFromUser:null,cookies:{},pageParams:{},source:{marker:null},isSettingsUpdating:false,isAbTestsApplied:false};var c9={onVisitProcessed:[],onCallTrackingPhoneReceived:[],onSPAPageChanged:[],onAbTestsApplied:{}};if(cy.roistatAlreadyStarted){if(typeof console!=="undefined"&&console.log){console.log("Call: roistat already started, skip")}return}cy.roistatAlreadyStarted=true;if(cy.roistatCookieDomain){da.domain=cy.roistatCookieDomain}var cC=function(){return new Date().getTime()};var z=function(dW){var dX=cC()-by;var e="["+(dX/1000)+"s] "+dW;br=br+"; "+e;if(typeof console!=="undefined"&&console.log&&bD){console.log(e)}};var u=function(e){var dX=e.split(".");var dW=dX.length;if(dW<2){return e}return dX[dW-2]+"."+dX[dW-1]};var A=function(){var dW=cy.screen||null;var e=cy.navigator||null;return{screenWidth:dW!==null?(dW.width||null):null,screenHeight:dW!==null?(dW.height||null):null,screenIsExtended:dW!==null?(dW.isExtended||null):null,screenPixelDepth:dW!==null?(dW.pixelDepth||null):null,screenColorDepth:dW!==null?(dW.colorDepth||null):null,deviceMemory:e!==null?(e.deviceMemory||null):null,hardwareConcurrency:e!==null?(e.hardwareConcurrency||null):null,language:e!==null?(e.language||null):null,maxTouchPoints:e!==null?(e.maxTouchPoints||null):null,platform:e!==null?(e.platform||null):null}};var dn="cllctr."+u(x);cy.roistat={version:ac,getSource:function(){return cq.source.marker},visit:null,getVisit:function(){return roistat.visit},setVisit:function(e){cq.visitFromUser=e},registerOnVisitProcessedCallback:function(e){cO(e)},registerOnCalltrackingPhoneReceivedCallback:function(e){bE(e)},disableCallTracking:function(){ce.callTrackingEnabled=false},setCallTrackingManualMode:function(){ce.callTrackingManual=true},setJSONPRequestTimeout:function(e){ce.jsonpRequestTimeout=e},callTracking:{enabled:0,phone:"",sessionTime:0,replacementClasses:"",phonePrefix:"",rawPhone:""},emailtracking:{enabled:true,loaded:false,email:null,trackingEmail:null,emails:null,refresh:function(){z("Warning: used emailtracking refresh before module init")}},geo:{city:null,country:null,region:null},leadHunter:{isEnabled:true,onBeforeAppear:null,onAfterAppear:null,onBeforeSubmit:null,onAfterSubmit:null,additionalNotifyEmail:null,localization:{translateToRussian:null,translateToEnglish:null},form:{title:null,subTitle:null,thankYouText:null,buttonText:null,nameLabel:null,contactLabel:null,isNameRequired:false,autoShowTime:null,isNeedExplicitAgreement:null}},onlineChat:{isEnabled:true,customTriggerSelector:null,customPosition:{top:null,right:null,bottom:null,left:null},localization:{translateToRussian:null,translateToEnglish:null,translate:null},actions:{initWithMessage:null,openChat:null},notificationsCustomHolderSelector:null,isAvailableForCurrentUserAgent:true,pagesFilter:{isEnabled:false,pages:[]}},promoCode:{isEnabled:true},multiwidget:{isEnabled:true,isVisible:true,vk:{isEnabled:false,link:null},fb:{isEnabled:false,link:null},telegram:{isEnabled:false,link:null},whatsApp:{isEnabled:false,link:null},viber:{isEnabled:false,link:null}},page:{params:{}},proxyForms:{enabled:true,loaded:false,settings:[]},registerAbTestCallback:function(e,dW){if(!cq.isAbTestsApplied&&typeof dW==="function"){c9.onAbTestsApplied[e]=dW}},authClientById:function(e){aL(e,bS)},authClientByEmail:function(e){aL(bS,e)},sendDeviceFingerprint:function(){z("Send device fingerprint start");var e=o();var dX=A();var d0="";for(var dZ in dX){if(!dX.hasOwnProperty(dZ)){continue}var dY=dX[dZ];if(dY!==null){d0+="&"+dZ+"="+encodeURIComponent(dY)}}var dW=S()+"/device/info/register?visit="+e+d0;a6(dW);z("Send device fingerprint completed")},setDeviceParams:function(){if(!cq.isVisitProcessed){z("Visit is not processed, return");return}var e=o();if(e<=0){z("Invalid arguments, return");return}var dX=A();var dW=S()+"/update-visit-by-device-params?visit="+e+"&v="+ac;for(var dZ in dX){if(!dX.hasOwnProperty(dZ)){continue}var dY=dX[dZ];if(dY===null){continue}dW+="&"+dZ+"="+encodeURIComponent(dY)}a6(dW)},setRoistatParams:function(d2,d1,dZ,dY,dX){var d3=d2!==null&&dS(d2)?d2:{roistat_param1:d2,roistat_param2:d1,roistat_param3:dZ,roistat_param4:dY,roistat_param5:dX};if(!cq.isVisitProcessed){z("Visit is not processed, return");return}var d0=o();if(d0<=0){z("Invalid arguments, return");return}var d4=be(d3);if(!aZ(d4)){z("Has no valid roistat params for visit update, return");return}bl(d4);var e=S()+"/update-visit-by-params?visit="+d0+"&v="+ac;for(var dW in d4){if(!Object.prototype.hasOwnProperty.call(d4,dW)){continue}e+="&"+dW+"="+encodeURIComponent(d4[dW])}a6(e)}};var be=function(dY){var e={};for(var dX=1;dX<=du;dX++){var dW="roistat_param"+dX;if(!Object.prototype.hasOwnProperty.call(dY,dW)){continue}var dZ=dY[dW];if(dZ!==bS&&dZ!==null&&dZ.toString().length>0){e[dW]=dZ}}return e};var bl=function(dX){var dZ=aJ;
var dW=cv.get(dZ);var e=JSON.stringify(dX);var dY=dW===e;if(e!=null&&e.length>0){c3(dX)}if(dY){z("Params already updated, return");return}cv.set(dZ,e)};var c3=function(dW){for(var e=1;e<=du;e++){var dX="roistat_param"+e;if(dW.hasOwnProperty(dX)){cy.roistat.page.params[dX]=dW[dX]}}};var aL=function(e,dY){if(!cq.isVisitProcessed){z("Visit is not processed, return");return}var dZ=e!==bS&&e.length>0,d2=dY!==bS&&dY.length>0;if(!dZ&&!d2){z("Invalid client params, return");return}var d0=o();if(d0<=0){z("Invalid arguments, return");return}var d1=cL,d3=cv.get(d1),dX=dZ?e:dY;if(d3===dX){z('Client "'+dX+'" is already authorized, return');return}z("Auth client: "+dX);cv.set(d1,dX);var dW=S()+"/update-visit-by-client?visit="+d0+"&v="+ac;if(dZ){dW+="&client_id="+encodeURIComponent(e)}if(d2){dW+="&client_email="+encodeURIComponent(dY)}a6(dW)};var dw=function(dY,dW){var dX=dY.length;for(var e=0;e<dX;e++){if(dW===dY[e]){return true}}return false};var aj=function(){return i(aN)>0};var y=function(){return cy.location.protocol+"//"+cy.location.host+cy.location.pathname};var H=function(){if(dP()){return aX}if(dD()){return p}return b9};var dP=function(){return cy.innerWidth<=b5};var dD=function(){return cy.innerWidth>b5&&cy.innerWidth<=dB};var bM=function(){return dP()||dD()};var bf=function(){return cy[ab+"ProjectId"]};var cS=function(){var e=bf().replace(/\D/g,"");z("getProjectHash: "+e);return e};var bw=function(e){var dW=cS();return dw(e,dW)};var c0=function(e){return JSON.parse(JSON.stringify(e))};var bL=function(){var dW=c0(da),e=parseInt(cv.get(dh));dW.expires=e>0?e:d;return dW};var cO=function(e){if(!cq.isVisitProcessed){c9.onVisitProcessed.push(e)}else{e()}};var c4=function(){cq.isVisitProcessed=true;z("[Roistat] visit id set. Processing callbacks");var dW=c9.onVisitProcessed.length;for(var e=0;e<dW;e++){c9.onVisitProcessed[e]()}if(cy.roistatVisitCallback!==bS){cy.roistatVisitCallback(cy.roistat.getVisit())}};var bE=function(e){c9.onCallTrackingPhoneReceived.push(e)};var dt=function(){var dW=c9.onCallTrackingPhoneReceived.length;for(var e=0;e<dW;e++){c9.onCallTrackingPhoneReceived[e]()}};var aF=function aF(e){c9.onSPAPageChanged.push(e)};var cm=function cm(){z("[Roistat] SPA page changed. Processing callbacks");var dW=c9.onSPAPageChanged.length;for(var e=0;e<dW;e++){c9.onSPAPageChanged[e]()}};var at=function(dZ,dY){var dX=dZ.className.split(" "),dW=false,e;for(var e=0;e<dX.length;e++){if(dX[e]===dY){dW=true;break}}if(!dW){dX.push(dY);dZ.className=dX.join(" ")}};var cn=function(dY,dX){var dW=dY.className.split(" "),e;for(var e=0;e<dW.length;e++){if(dW[e]===dX){dW.splice(e,1);dY.className=dW.join(" ");break}}};var aM=function(dX){try{return decodeURIComponent(dX)}catch(dY){var dW;dW=w(dX);if(dW===null){return dX}return dW}};var b8={visitor_uid:function(){z("AmoCrmUID: starting collecting AmoCRM visitor_uid");if(!dS(cy.AMOPIXEL_IDENTIFIER)||!Z(cy.AMOPIXEL_IDENTIFIER.getVisitorUid)){z("AmoCrmUID: AMOPIXEL_IDENTIFIER not an object or 'getVisitorUid()' function not found");return null}var e=AMOPIXEL_IDENTIFIER.getVisitorUid();if(!ba(e)){z("AmoCrmUID: visitor_uid value must be a string");return null}return e},roistat_yclid:function(){return af("yclid",false)},roistat_gclid:function(){return af("gclid",false)},roistat_rb_clickid:function(){return af("rb_clickid",false)}};var aI=function(){for(var dW in b8){var e=b8[dW]();if(e===null){continue}dG(dW,e,da)}};var bp=function(){return["_ym_uid","_ga","_fbp","_fbc"].concat(P(b8))};var w=function(d0){var dZ={"%E0":"%D0%B0","%E1":"%D0%B1","%E2":"%D0%B2","%E3":"%D0%B3","%E4":"%D0%B4","%E5":"%D0%B5","%B8":"%D1%91","%E6":"%D0%B6","%E7":"%D0%B7","%E8":"%D0%B8","%E9":"%D0%B9","%EA":"%D0%BA","%EB":"%D0%BB","%EC":"%D0%BC","%ED":"%D0%BD","%EE":"%D0%BE","%EF":"%D0%BF","%F0":"%D1%80","%F1":"%D1%81","%F2":"%D1%82","%F3":"%D1%83","%F4":"%D1%84","%F5":"%D1%85","%F6":"%D1%86","%F7":"%D1%87","%F8":"%D1%88","%F9":"%D1%89","%FC":"%D1%8C","%FB":"%D1%8B","%FA":"%D1%8A","%FD":"%D1%8D","%FE":"%D1%8E","%FF":"%D1%8F","%C0":"%D0%90","%C1":"%D0%91","%C2":"%D0%92","%C3":"%D0%93","%C4":"%D0%94","%C5":"%D0%95","%A8":"%D0%81","%C6":"%D0%96","%C7":"%D0%97","%C8":"%D0%98","%C9":"%D0%99","%CA":"%D0%9A","%CB":"%D0%9B","%CC":"%D0%9C","%CD":"%D0%9D","%CE":"%D0%9E","%CF":"%D0%9F","%D0":"%D0%A0","%D1":"%D0%A1","%D2":"%D0%A2","%D3":"%D0%A3","%D4":"%D0%A4","%D5":"%D0%A5","%D6":"%D0%A6","%D7":"%D0%A7","%D8":"%D0%A8","%D9":"%D0%A9","%DC":"%D0%AC","%DB":"%D0%AB","%DA":"%D0%AA","%DD":"%D0%AD","%DE":"%D0%AE","%DF":"%D0%AF"};var dX="";var dY=0;while(dY<d0.length){var dW=d0.substring(dY,dY+3);if(Object.prototype.hasOwnProperty.call(dZ,dW)){dX+=dZ[dW];dY+=3}else{dX+=d0.substring(dY,dY+1);dY++}}try{return decodeURIComponent(dX)}catch(d1){return null}};cy.roistatVersion=ac;var bJ,ao=bw([]),K=bw(["97532377849195770346229","592829167247144932861","5920396192098309402868","591183866179479527","19640141722769938679","7517211421734017584031","3101387160241499728","48846105634802027","353439800158189719","89748922669691497827"]),dg=bw([]),k,cG=true,cM=decodeURIComponent(M.location.href),br="",a4="",by=new Date().getTime(),dj=false,cW=cy.roistatPhonePrefix?cy.roistatPhonePrefix:"",dO=cy.roistatPhonePrefixBind?cy.roistatPhonePrefixBind:"",X=cy.roistatCalltrackingScripts&&cy.roistatCalltrackingScripts.join?cy.roistatCalltrackingScripts.join(","):"";
var bB=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15);var cu=function(e){if(!K){return e}var dW=e.replace(/^roistat[_-]/,"");return ab+"_"+dW};var i,dG,dT,df;i=cy.roistatGetCookie=function(e){var dW=cu(e);var dX=M.cookie.match(new RegExp("(?:^|; )"+dW.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return dX?aM(dX[1]):bS};dT=function(e,d2,d3){var d0=cu(e);d3=d3||{};var dY=d3.expires;if(typeof dY=="number"&&dY){var d1=new Date();d1.setTime(d1.getTime()+dY*1000);dY=d3.expires=d1}if(dY&&dY.toUTCString){d3.expires=dY.toUTCString()}d2=encodeURIComponent(d2);var dW=d0+"="+d2;for(var dZ in d3){dW+="; "+dZ;var dX=d3[dZ];if(dX!==true){dW+="="+dX}}M.cookie=dW};dG=cy.roistatSetCookie=function dG(dW,dZ,e){dT(dW,dZ,e);var dY;dY=i(aW);dY=ba(dY)?dY.split(","):[];for(var dX in dY){if(dY[dX]===dW){return}}dY.push(dW);dT(aW,dY.join(","),{path:"/"})};df=function df(dW,e){var dX=c0(e);dX.expires=new Date(0).toUTCString();dT(dW,"",dX)};var bQ=function(dW,dY,dX){var e=dW[dY];dW[dY]=function(){if(e){e.apply(this,arguments)}dX.apply(this,arguments)}};var an=function(dX,dW,dY){if(dX.addEventListener){dX.addEventListener(dW,dY,false);return}var e="on"+dW;if(dX.attachEvent){dX.attachEvent(e,dY);return}if(e in dX){bQ(dX,e,dY);return}if(dW in dX){bQ(dX,dW,dY);return}z("Handler could not be attached")};var q=function(dY,dX){var dW=dY.length;for(var e=0;e<dW;e++){dX(dY[e])}};var P=function(e){var dW=[];bx(e,function(dX,dY){dW.push(dX)});return dW};var bx=function(e,dX){for(var dW in e){if(Object.prototype.hasOwnProperty.call(e,dW)){dX(dW,e[dW])}}};var bF=function(e){return Object.prototype.toString.call(e)==="[object Array]"};var aZ=function(dW){if(typeof dW!=="object"){return false}for(var e in dW){if(dW.hasOwnProperty(e)){return true}}return false};var dy=function(dX){try{var dW=JSON.parse(dX);if(dW&&typeof dW==="object"){return dW}}catch(dY){}return null};if(M.getElementsByClassName==bS){M.getElementsByClassName=function(dW){var e=[];var d0=new RegExp("\\b"+dW+"\\b");var dZ=this.getElementsByTagName("*");for(var dY=0;dY<dZ.length;dY++){var dX=dZ[dY].className;if(d0.test(dX)){e.push(dZ[dY])}}return e}}var aO=function(){return String.fromCharCode};var c6=function(dX){var e="";for(var dW=0;dW<dX.length;++dW){e+=aO()(c8^dX.charCodeAt(dW))}return e};var aV=function(e){return encodeURIComponent(c6(cB.encode(e)))};var cB={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(dX){var e="";var d4,d2,d0,d3,d1,dZ,dY;var dW=0;dX=cB._utf8_encode(dX);while(dW<dX.length){d4=dX.charCodeAt(dW++);d2=dX.charCodeAt(dW++);d0=dX.charCodeAt(dW++);d3=d4>>2;d1=((d4&3)<<4)|(d2>>4);dZ=((d2&15)<<2)|(d0>>6);dY=d0&63;if(isNaN(d2)){dZ=dY=64}else{if(isNaN(d0)){dY=64}}e=e+this._keyStr.charAt(d3)+this._keyStr.charAt(d1)+this._keyStr.charAt(dZ)+this._keyStr.charAt(dY)}return e},decode:function(dX){var e="";var d4,d2,d0;var d3,d1,dZ,dY;var dW=0;dX=dX.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(dW<dX.length){d3=this._keyStr.indexOf(dX.charAt(dW++));d1=this._keyStr.indexOf(dX.charAt(dW++));dZ=this._keyStr.indexOf(dX.charAt(dW++));dY=this._keyStr.indexOf(dX.charAt(dW++));d4=(d3<<2)|(d1>>4);d2=((d1&15)<<4)|(dZ>>2);d0=((dZ&3)<<6)|dY;e=e+String.fromCharCode(d4);if(dZ!=64){e=e+String.fromCharCode(d2)}if(dY!=64){e=e+String.fromCharCode(d0)}}e=cB._utf8_decode(e);return e},_utf8_encode:function(dW){dW=dW.replace(/\r\n/g,"\n");var e="";for(var dY=0;dY<dW.length;dY++){var dX=dW.charCodeAt(dY);if(dX<128){e+=String.fromCharCode(dX)}else{if((dX>127)&&(dX<2048)){e+=String.fromCharCode((dX>>6)|192);e+=String.fromCharCode((dX&63)|128)}else{e+=String.fromCharCode((dX>>12)|224);e+=String.fromCharCode(((dX>>6)&63)|128);e+=String.fromCharCode((dX&63)|128)}}}return e},_utf8_decode:function(e){var dX="";var dZ=0;var d0=0;var dY=0;var dW=0;while(dZ<e.length){d0=e.charCodeAt(dZ);if(d0<128){dX+=String.fromCharCode(d0);dZ++}else{if((d0>191)&&(d0<224)){dY=e.charCodeAt(dZ+1);dX+=String.fromCharCode(((d0&31)<<6)|(dY&63));dZ+=2}else{dY=e.charCodeAt(dZ+1);dW=e.charCodeAt(dZ+2);dX+=String.fromCharCode(((d0&15)<<12)|((dY&63)<<6)|(dW&63));dZ+=3}}}return dX}};var b0=b0||function(d7,dX){var dZ={},d0=dZ.lib={},dY=function(){},e=d0.Base={extend:function(d8){dY.prototype=this;var d9=new dY;d8&&d9.mixIn(d8);d9.hasOwnProperty("init")||(d9.init=function(){d9.$super.init.apply(this,arguments)});d9.init.prototype=d9;d9.$super=this;return d9},create:function(){var d8=this.extend();d8.init.apply(d8,arguments);return d8},init:function(){},mixIn:function(d8){for(var d9 in d8){d8.hasOwnProperty(d9)&&(this[d9]=d8[d9])}d8.hasOwnProperty("toString")&&(this.toString=d8.toString)},clone:function(){return this.init.prototype.extend(this)}},dW=d0.WordArray=e.extend({init:function(d8,d9){d8=this.words=d8||[];this.sigBytes=d9!=dX?d9:4*d8.length},toString:function(d8){return(d8||d6).stringify(this)},concat:function(d8){var eb=this.words,d9=d8.words,ea=this.sigBytes;d8=d8.sigBytes;this.clamp();if(ea%4){for(var ec=0;ec<d8;ec++){eb[ea+ec>>>2]|=(d9[ec>>>2]>>>24-8*(ec%4)&255)<<24-8*((ea+ec)%4)
}}else{if(65535<d9.length){for(ec=0;ec<d8;ec+=4){eb[ea+ec>>>2]=d9[ec>>>2]}}else{eb.push.apply(eb,d9)}}this.sigBytes+=d8;return this},clamp:function(){var d8=this.words,d9=this.sigBytes;d8[d9>>>2]&=4294967295<<32-8*(d9%4);d8.length=d7.ceil(d9/4)},clone:function(){var d8=e.clone.call(this);d8.words=this.words.slice(0);return d8},random:function(d8){for(var ea=[],d9=0;d9<d8;d9+=4){ea.push(4294967296*d7.random()|0)}return new dW.init(ea,d8)}}),d4=dZ.enc={},d6=d4.Hex={stringify:function(d8){var d9=d8.words;d8=d8.sigBytes;for(var ec=[],eb=0;eb<d8;eb++){var ea=d9[eb>>>2]>>>24-8*(eb%4)&255;ec.push((ea>>>4).toString(16));ec.push((ea&15).toString(16))}return ec.join("")},parse:function(d8){for(var d9=d8.length,eb=[],ea=0;ea<d9;ea+=2){eb[ea>>>3]|=parseInt(d8.substr(ea,2),16)<<24-4*(ea%8)}return new dW.init(eb,d9/2)}},d3=d4.Latin1={stringify:function(d8){var d9=d8.words;d8=d8.sigBytes;for(var eb=[],ea=0;ea<d8;ea++){eb.push(String.fromCharCode(d9[ea>>>2]>>>24-8*(ea%4)&255))}return eb.join("")},parse:function(d8){for(var d9=d8.length,eb=[],ea=0;ea<d9;ea++){eb[ea>>>2]|=(d8.charCodeAt(ea)&255)<<24-8*(ea%4)}return new dW.init(eb,d9)}},d5=d4.Utf8={stringify:function(d8){try{return decodeURIComponent(escape(d3.stringify(d8)))}catch(d9){throw Error("Malformed UTF-8 data")}},parse:function(d8){return d3.parse(unescape(encodeURIComponent(d8)))}},d2=d0.BufferedBlockAlgorithm=e.extend({reset:function(){this._data=new dW.init;this._nDataBytes=0},_append:function(d8){"string"==typeof d8&&(d8=d5.parse(d8));this._data.concat(d8);this._nDataBytes+=d8.sigBytes},_process:function(d9){var eb=this._data,ee=eb.words,ed=eb.sigBytes,ec=this.blockSize,d8=ed/(4*ec),d8=d9?d7.ceil(d8):d7.max((d8|0)-this._minBufferSize,0);d9=d8*ec;ed=d7.min(4*d9,ed);if(d9){for(var ea=0;ea<d9;ea+=ec){this._doProcessBlock(ee,ea)}ea=ee.splice(0,d9);eb.sigBytes-=ed}return new dW.init(ea,ed)},clone:function(){var d8=e.clone.call(this);d8._data=this._data.clone();return d8},_minBufferSize:0});d0.Hasher=d2.extend({cfg:e.extend(),init:function(d8){this.cfg=this.cfg.extend(d8);this.reset()},reset:function(){d2.reset.call(this);this._doReset()},update:function(d8){this._append(d8);this._process();return this},finalize:function(d8){d8&&this._append(d8);return this._doFinalize()},blockSize:16,_createHelper:function(d8){return function(d9,ea){return(new d8.init(ea)).finalize(d9)}},_createHmacHelper:function(d8){return function(d9,ea){return(new d1.HMAC.init(d8,ea)).finalize(d9)}}});var d1=dZ.algo={};return dZ}(Math);(function(d5){function dX(d9,ea,d7,ec,d8,eb,d6){d9=d9+(ea&d7|~ea&ec)+d8+d6;return(d9<<eb|d9>>>32-eb)+ea}function dZ(d9,ea,d7,ec,d8,eb,d6){d9=d9+(ea&ec|d7&~ec)+d8+d6;return(d9<<eb|d9>>>32-eb)+ea}function d0(d9,ea,d7,ec,d8,eb,d6){d9=d9+(ea^d7^ec)+d8+d6;return(d9<<eb|d9>>>32-eb)+ea}function dY(d9,ea,d7,ec,d8,eb,d6){d9=d9+(d7^(ea|~ec))+d8+d6;return(d9<<eb|d9>>>32-eb)+ea}for(var e=b0,dW=e.lib,d2=dW.WordArray,d4=dW.Hasher,dW=e.algo,d1=[],d3=0;64>d3;d3++){d1[d3]=4294967296*d5.abs(d5.sin(d3+1))|0}dW=dW.MD5=d4.extend({_doReset:function(){this._hash=new d2.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(en,ek){for(var es=0;16>es;es++){var em=ek+es,d9=en[em];en[em]=(d9<<8|d9>>>24)&16711935|(d9<<24|d9>>>8)&4278255360}var es=this._hash.words,em=en[ek+0],d9=en[ek+1],el=en[ek+2],ei=en[ek+3],eg=en[ek+4],ee=en[ek+5],ec=en[ek+6],eb=en[ek+7],ea=en[ek+8],d8=en[ek+9],d7=en[ek+10],d6=en[ek+11],ej=en[ek+12],eh=en[ek+13],ef=en[ek+14],ed=en[ek+15],er=es[0],eq=es[1],ep=es[2],eo=es[3],er=dX(er,eq,ep,eo,em,7,d1[0]),eo=dX(eo,er,eq,ep,d9,12,d1[1]),ep=dX(ep,eo,er,eq,el,17,d1[2]),eq=dX(eq,ep,eo,er,ei,22,d1[3]),er=dX(er,eq,ep,eo,eg,7,d1[4]),eo=dX(eo,er,eq,ep,ee,12,d1[5]),ep=dX(ep,eo,er,eq,ec,17,d1[6]),eq=dX(eq,ep,eo,er,eb,22,d1[7]),er=dX(er,eq,ep,eo,ea,7,d1[8]),eo=dX(eo,er,eq,ep,d8,12,d1[9]),ep=dX(ep,eo,er,eq,d7,17,d1[10]),eq=dX(eq,ep,eo,er,d6,22,d1[11]),er=dX(er,eq,ep,eo,ej,7,d1[12]),eo=dX(eo,er,eq,ep,eh,12,d1[13]),ep=dX(ep,eo,er,eq,ef,17,d1[14]),eq=dX(eq,ep,eo,er,ed,22,d1[15]),er=dZ(er,eq,ep,eo,d9,5,d1[16]),eo=dZ(eo,er,eq,ep,ec,9,d1[17]),ep=dZ(ep,eo,er,eq,d6,14,d1[18]),eq=dZ(eq,ep,eo,er,em,20,d1[19]),er=dZ(er,eq,ep,eo,ee,5,d1[20]),eo=dZ(eo,er,eq,ep,d7,9,d1[21]),ep=dZ(ep,eo,er,eq,ed,14,d1[22]),eq=dZ(eq,ep,eo,er,eg,20,d1[23]),er=dZ(er,eq,ep,eo,d8,5,d1[24]),eo=dZ(eo,er,eq,ep,ef,9,d1[25]),ep=dZ(ep,eo,er,eq,ei,14,d1[26]),eq=dZ(eq,ep,eo,er,ea,20,d1[27]),er=dZ(er,eq,ep,eo,eh,5,d1[28]),eo=dZ(eo,er,eq,ep,el,9,d1[29]),ep=dZ(ep,eo,er,eq,eb,14,d1[30]),eq=dZ(eq,ep,eo,er,ej,20,d1[31]),er=d0(er,eq,ep,eo,ee,4,d1[32]),eo=d0(eo,er,eq,ep,ea,11,d1[33]),ep=d0(ep,eo,er,eq,d6,16,d1[34]),eq=d0(eq,ep,eo,er,ef,23,d1[35]),er=d0(er,eq,ep,eo,d9,4,d1[36]),eo=d0(eo,er,eq,ep,eg,11,d1[37]),ep=d0(ep,eo,er,eq,eb,16,d1[38]),eq=d0(eq,ep,eo,er,d7,23,d1[39]),er=d0(er,eq,ep,eo,eh,4,d1[40]),eo=d0(eo,er,eq,ep,em,11,d1[41]),ep=d0(ep,eo,er,eq,ei,16,d1[42]),eq=d0(eq,ep,eo,er,ec,23,d1[43]),er=d0(er,eq,ep,eo,d8,4,d1[44]),eo=d0(eo,er,eq,ep,ej,11,d1[45]),ep=d0(ep,eo,er,eq,ed,16,d1[46]),eq=d0(eq,ep,eo,er,el,23,d1[47]),er=dY(er,eq,ep,eo,em,6,d1[48]),eo=dY(eo,er,eq,ep,eb,10,d1[49]),ep=dY(ep,eo,er,eq,ef,15,d1[50]),eq=dY(eq,ep,eo,er,ee,21,d1[51]),er=dY(er,eq,ep,eo,ej,6,d1[52]),eo=dY(eo,er,eq,ep,ei,10,d1[53]),ep=dY(ep,eo,er,eq,d7,15,d1[54]),eq=dY(eq,ep,eo,er,d9,21,d1[55]),er=dY(er,eq,ep,eo,ea,6,d1[56]),eo=dY(eo,er,eq,ep,ed,10,d1[57]),ep=dY(ep,eo,er,eq,ec,15,d1[58]),eq=dY(eq,ep,eo,er,eh,21,d1[59]),er=dY(er,eq,ep,eo,eg,6,d1[60]),eo=dY(eo,er,eq,ep,d6,10,d1[61]),ep=dY(ep,eo,er,eq,el,15,d1[62]),eq=dY(eq,ep,eo,er,d8,21,d1[63]);
es[0]=es[0]+er|0;es[1]=es[1]+eq|0;es[2]=es[2]+ep|0;es[3]=es[3]+eo|0},_doFinalize:function(){var d8=this._data,d9=d8.words,d6=8*this._nDataBytes,ea=8*d8.sigBytes;d9[ea>>>5]|=128<<24-ea%32;var d7=d5.floor(d6/4294967296);d9[(ea+64>>>9<<4)+15]=(d7<<8|d7>>>24)&16711935|(d7<<24|d7>>>8)&4278255360;d9[(ea+64>>>9<<4)+14]=(d6<<8|d6>>>24)&16711935|(d6<<24|d6>>>8)&4278255360;d8.sigBytes=4*(d9.length+1);this._process();d8=this._hash;d9=d8.words;for(d6=0;4>d6;d6++){ea=d9[d6],d9[d6]=(ea<<8|ea>>>24)&16711935|(ea<<24|ea>>>8)&4278255360}return d8},clone:function(){var d6=d4.clone.call(this);d6._hash=this._hash.clone();return d6}});e.MD5=d4._createHelper(dW);e.HmacMD5=d4._createHmacHelper(dW)})(Math);var bO=function(){return M[aO()(99,111,111,107,105,101)]};var aA=function(){dK();var e={c:dr()};return aV(JSON.stringify(e))};var cP=function(){var e=o();return(e===bS||e===null)?cE:e};var dr=function(){var e=[];for(var dW in cq.cookies){if(!Object.prototype.hasOwnProperty.call(cq.cookies,dW)){continue}e.push(dW+"="+cq.cookies[dW])}return e.join("; ")};var dK=function(){var e=m();for(var dW in e){if(!Object.prototype.hasOwnProperty.call(e,dW)){continue}cq.cookies[dW]=e[dW]}};var ay=function(e){dG(dk,e,bL());cq.source.marker=e};var av=function(){return i(dk)};var g=function(){bx(cy.roistat.page.params,function(dW,e){cq.pageParams[dW]=e})};var m=function(){var dY=bO();var dZ=dY.split("; ");var e={};for(var dX=0;dX<dZ.length;dX++){var d2=dZ[dX];if(d2===""){continue}var dW=d2.split("=");if(dW.length<2){continue}var d1=dW[0].trim();var d0=dW[1].trim();e[d1]=d0}return e};var h=function(){return aO()(104,97,115,104)};var aU=function(e){return e.split("http://").join("").split("https://").join("").split("#")[0].split("?")[0].split("www.").join("").replace(/\/+$/,"")};var cl={isAvailable:function(){var dW=false;try{if(!cy.sessionStorage||!cy.sessionStorage.setItem||!cy.sessionStorage.getItem||!cy.sessionStorage.removeItem){return dW}cy.sessionStorage.setItem("roistat_testKey","testValue");dW=cy.sessionStorage.getItem("roistat_testKey")==="testValue";cy.sessionStorage.removeItem("roistat_testKey")}catch(dX){return false}return dW},remove:function(e){if(this.isAvailable()){cy.sessionStorage.removeItem(cu(e))}},setObject:function(e,dW){if(this.isAvailable()){cy.sessionStorage.setItem(cu(e),JSON.stringify(dW))}},getObject:function(dW){var e=null;if(this.isAvailable()){e=cy.sessionStorage.getItem(cu(dW));e=JSON.parse(e)}return e},set:function(e,dW){if(this.isAvailable()){cy.sessionStorage.setItem(cu(e),dW)}},get:function(dW){var e=null;if(this.isAvailable()){e=cy.sessionStorage.getItem(cu(dW))}return e}};var cv={fallbackData:{},isAvailable:function(){var dW=false;try{if(!cy.localStorage||!cy.localStorage.setItem||!cy.localStorage.getItem||!cy.localStorage.removeItem){return dW}cy.localStorage.setItem("roistat_testKey","testValue");dW=cy.localStorage.getItem("roistat_testKey")==="testValue";cy.localStorage.removeItem("roistat_testKey")}catch(dX){return false}return dW},remove:function(dW){if(this.isAvailable()){cy.localStorage.removeItem(cu(dW))}else{var e=new Date(1970,1,1);dG(dW,"",{expires:e.toUTCString()})}delete this.fallbackData[cu(dW)]},setObject:function(e,dW){if(this.isAvailable()){localStorage.setItem(cu(e),JSON.stringify(dW))}this.fallbackData[cu(e)]=dW},getObject:function(dX){var e=null;if(this.isAvailable()){e=localStorage.getItem(cu(dX));e=dy(e)}if(e===null){var dW=this.fallbackData[cu(dX)];if(typeof dW!=="undefined"){e=dW}}return e},set:function(e,dW){if(this.isAvailable()){localStorage.setItem(cu(e),dW)}else{if(this.isSaveInCookieEnabled()){dG(e,dW,da)}}this.fallbackData[cu(e)]=dW},save:function(dW,dX,e){if(this.isAvailable()){localStorage.setItem(cu(dW),dX)}dG(dW,dX,e);this.fallbackData[cu(dW)]=dX},get:function(dW){var e=null;if(this.isAvailable()){e=localStorage.getItem(cu(dW))}if(e===null){e=i(dW)}if(typeof e==="undefined"){e=this.fallbackData[cu(dW)]}return e},isSaveInCookieEnabled:function(){return this.get(bo)>0},isExternalCountersEnabled:function(){return this.get(E)>0}};var ci=function(){return !ch(M.referrer)?M.referrer:null};var Z=function(e){return typeof e==="function"};var dS=function(e){return typeof e==="object"};var ba=function(e){return typeof e==="string"};var af=function(dY,dX){dX=typeof dX!=="undefined"?dX:false;var dZ=function(d2){var d1=null;var d3=new RegExp("[#&?]("+dY+"=[^#&?]+)");if(d3.test(d2)){d1=RegExp.$1.substring(RegExp.$1.indexOf("=")+1)}var d0=aM(d1);return d1&&d0?d0:d1};var e=dZ(cM);if(dX){var dW=M.referrer;if(e===null&&dW){e=dZ(dW)}}return e};var dq=function(dW,dX){var e=false;if(dW&&dX){e=dW.split(dX).join("")!==dW}return e};if(af(cp)==="1"||m()[cp]==="1"){bD=true}var cZ=function(){return true};var aS=function(){return cZ()?cy.roistatMultiWidgetOnly:cy.roistatOnlineChatOnly};var dJ=function(){var dW=bf()==="86ee03e4ba0f978620d7a0ee0e2e51dc"||bf()==="4";var e=(cy.location.host==="cloud.roistat.com"||cy.location.host==="cloud-eu.roistat.com")&&cy.location.pathname!=="/user/login"&&cy.location.pathname!=="/user/register";
if(dW&&!e){z("Current project is Roistat but page is not cloud.roistat.com. Drop init multiwidget");return true}return false};var bk=function(){if("https:"===M.location.protocol){return"https:"}else{return"http:"}};var Y=function(dW){var e=M.createElement("img");e.src=dW;z("sendRequestByUrl: "+dW)};var a6=function(dW,dY){z("sendApiRequestJSONP: init with url "+dW);var e=M.createElement("script");e.onload=e.onreadystatechange=function(){var dZ=this.readyState?this.readyState:"unknown";z("sendApiRequestJSONP: script state changed to "+dZ)};e.src=dW;if(dY){e.setAttribute("data-roistat-script-id",dY)}e.type="text/javascript";e.async=true;var dX=M.getElementsByTagName("script")[0];dX.parentNode.insertBefore(e,dX);z("sendApiRequestJSONP: script appended")};var cb=function(){if(cq.isCssLoaded){return}(function(){var dW=M.createElement("link"),e=M.getElementsByTagName("head");dW.setAttribute("rel","stylesheet");dW.setAttribute("href",bk()+"//"+x+"/dist/module.css?"+ac);if(e.length>0){cq.isCssLoaded=true;e[0].appendChild(dW)}})()};var cA=function(){return cF()||dQ()};var cF=function(){return bs()!==null};var dQ=function(){return cx()!==null};var di=function(){var e=dd();if(e!==null){dG(co,e,bL())}};var dd=function(){return bs()||cx()||null};var bs=function(){return af("roistat_visit")};var cx=function(){return cq.visitFromUser};var a=function(dW,e){if(!e&&(cq.isSettingsUpdating||!M.hasFocus())){z("Already updating settings or document not in focus, return");return}var dX=S()+"/get-settings?v="+ac+"&visit="+dW;z("Request new settings");cq.isSettingsUpdating=true;a6(dX)};var a2=function(){return cv.get(bb)>0};var dA=function(){cv.set(bb,1)};var aH=function(){cv.remove(cd);cv.remove(bG);cv.remove(cc);cv.remove(bC);cv.remove(D);cv.remove(c2);cv.remove(dm);cv.remove(f)};var cr=function(){var dZ=function(){return cv.get(cR)};var dY=function(){cv.set(cR,B)};var dW=function(){return typeof dZ()==="string"};var e=function(){var d0=Number(dZ())>B;z("Settings Version: settings version change status - "+d0);return d0};var dX=function(){var d0=1000*60*60*24;var d3=dv();var d2=cC()-d3;var d1=d2>d0;z("Settings Version:: expiration day check: lastUpdateTime="+d3+", _lastUpdateTimeDiff="+d2+", _oneDayDiffInMs="+d0+", result="+(d1?1:0));return d1};if(!dW()){z("Settings Version: set settings version up to 1");dY()}if(dX()||e()){z("Settings Version: clear settings");aH()}};var dL=function(){z("Call: Init");z("Counter version: "+ac);if(af("roistat_ab_demo")==="1"){z("Roistat initialisation rejected: ab test preview mode");return}bv();cY();if((!ax()||dR())&&!aS()){dj=true;bV();I("Created new visit_id: "+o()+" and referrer: "+k)}else{cr();di();var e=o();I("Init visit with new visit_id, visit_id: "+e+" and referrer: "+k);b2();bi();de();roistat.visit=e;cq.source.marker=av();cy.roistat.geo=cv.getObject(l);var dW=cv.isAvailable()&&a2();if(!dW){a(e)}else{c4()}}cO(dz);cO(dU)};var dz=function(){z("InitExternalCounter");if(!cv.isExternalCountersEnabled()){z("ExternalCounters is not available, return");return}var dX=bf();var dW=J();var d0=dW?dW:o();var dZ=dX+":"+d0;var e=dX+":"+b0.MD5(bj(M.domain)).toString();var dY=function(d3,d1){var d2=(M.location.protocol==="https:"?"https:":"http:")+"//tech.rtb.mts.ru/roistat?landing="+d1+"&event_type=view&user_id="+d3;var d4=new XMLHttpRequest;d4.open("GET",d2,true);d4.withCredentials=true;d4.onload=function(){if(d4.readyState===4){if(d4.status!==204){console.error(d4.statusText)}}};d4.onerror=function(){console.error(d4.statusText)};d4.send(null)};dY(dZ,e);z("InitExternalCounter: script appended")};var Q=function(dX){if(!dX.isEnabled){return true}var e=new Date();var d4=new Date().toISOString();var d1=e.getUTCDay()===0?7:e.getDay();var d2=d1===6||d1===7;var d3=false;for(var dZ=0;dZ<dX.days.length;dZ++){if(d1===dX.days[dZ]){d3=true}}if(!d3){return false}if(d2&&dX.weekendsTime!==null){var d5=new Date(dX.weekendsTime.from).toISOString();var dY=new Date(dX.weekendsTime.to).toISOString();return d4>=d5&&d4<=dY}var d0=new Date(dX.weekdaysTime.from).toISOString();var dW=new Date(dX.weekdaysTime.to).toISOString();return d4>=d0&&d4<=dW};var bv=function(){z("Call: initMarker");if(dg){dE("initMarker start: pageVisitId: "+bB+", url: "+cy.location.href+", userAgent: "+cy.navigator.userAgent)}bJ=cD();z("Call: inited marker: "+bJ)};var cY=function(){z("Call: initReferrer");k=ci();z("Call: end initReferrer: "+k)};var dU=function(){z("Call: parsing roistat params from url");var dY={};for(var dX=1;dX<=du;dX++){var dW="roistat_param"+dX;dY[dW]=af(dW,false)}var e=be(dY);if(aZ(e)&&Object.keys(e).length>0){bl(e)}z("Call: end parsing roistat params from url")};var ch=function(dX){if(!dX){return true}var e=bj(dX);var dW=bj(M.domain);if(e===dW){return true}var dY=ca();if(dY===null){return false}if(dq(e,dY)&&dq(dW,dY)){return true}return false};var ca=function(){if(typeof da.domain==="string"&&da.domain!==""){return bj(da.domain)}return null};var bj=function(e){var dW=e.split("http://").join("").split("https://").join("").split("www.").join("").replace(/^\./,"");
return dW.split("/")[0]};var cD=function(){var dX=i(j)>0;var d2=null;var e=function(d3){return d3.split("_").join(":u:")};var dY=function(){var d3=false;var d6;var d5=new RegExp("[#&?]("+N+"=[^#&?]+)");if(d5.test(cM)){var d7=RegExp.$1.substring(RegExp.$1.indexOf("=")+1);if(!d7){var d4=A();d4.isSafari=bc.isSafari();I(N+" detected and empty. Params: "+JSON.stringify(d4))}}d6=af(N,dX);if(d6!==null){d2=d6;d3=true}d6=af(cV,dX);if(d6!==null){d2=d6;d3=true}return d3};var d1=function(){var d3=false;var d4=av();if(d4){d2=d4;d3=true;cG=false}return d3};var dW=function(){I("tryToGetMarkerFromUTM: isNeedParseReferrer: "+dX+", initUrl:"+cM);I("tryToGetMarkerFromUTM: href: "+M.location.href);I("tryToGetMarkerFromUTM: referrer: "+M.referrer);var d3=false;var d5=af("utm_source",dX);I("tryToGetMarkerFromUTM: utm_source: "+d5);if(d5!==null){d3=true;d2=":utm:"+e(d5);var d7=["utm_medium","utm_campaign","utm_content","utm_term"];var d4;for(var d6=0;d6<d7.length;d6++){d4=af(d7[d6],dX);if(d4!==null){d2=d2+"_"+e(d4)}}}I("tryToGetMarkerFromUTM: markerFromEnv: "+d2);return d3};var d0=function(){var d5,d4,d3=false;d4=af("_openstat",dX);if(!d4){return false}if(dZ(d4)){d5=d4}else{d5=encodeURI(cB.decode(d4));if(!dZ(d5)){d5=d4}}if(d5){d5=e(d5).split(";").join("_");d2=":openstat:"+d5;d3=true}return d3};var dZ=function(d3){return d3.match(/^([^;]*(;[^;]*){3})$/)!==null};if(dY()){z("Init marker: init from RS param "+d2);if(dg){dE("Init marker from RS param: pageVisitId: "+bB+", marker: "+d2)}return d2}if(dW()){z("Init marker: init from UTM "+d2);if(dg){dE("Init marker from UTM param: pageVisitId: "+bB+", marker: "+d2)}return d2}if(d0()){z("Init marker: init from OpenStat "+d2);if(dg){dE("Init marker from OpenStat: pageVisitId: "+bB+", marker: "+d2)}return d2}z("Init marker: try init from cookie "+d2);d1();if(dg){dE("Init marker from cookie: pageVisitId: "+bB+", marker: "+d2)}I("Init marker: init marker from cookie "+d2);return d2};var o=function(){return cv.get(co)};var J=function(){return cv.get(a7)};var ah=function(){z("Call: saveReferrer");cv.set(aP,k)};var ck=function(){z("Call: removeReferrer");cv.remove(aP)};var dx=function(){dG(bq,aM(bJ),bL())};var de=function(){z("Call: refreshPromoCode");if(aS()){z("PromoCode: Shut down because only online chat need to be inited");return}var e=function(){return i(co)};aD(e());if(!cy.onload){cy.onload=function(){aD(e())}}setTimeout(function(){aD(e())},50);setTimeout(function(){aD(e())},200);setTimeout(function(){aD(e())},2000);setTimeout(function(){aD(e())},10000)};cy.roistatPromoCodeRefresh=de;var dC=function(){var e=[];var dW=M.getElementsByClassName(aq);if(dW&&dW.length){e=dW}return e};var aD=function(e){var dY=dC();z("setPromoCode: "+e+" in "+dY.length+" elements");for(var dX=0;dX<dY.length;dX++){var dW=dY[dX];dW.innerHTML=e?e:""}};var bY=function(){var dX=cD(),dW=i(bq),dZ=dX!==null,dY=true;var d1=aM(aM(dX)).toLowerCase().split("+").join(" "),d0=aM(aM(dW)).toLowerCase().split("+").join(" ");if(dX&&dW){dY=d1!==d0}var e=dZ&&dY;a4="Call: needOverrideByMarker (result "+(e?"true":"false")+") with current "+dX+":"+d1+" and old "+dW+":"+d0;z(a4);return e};var aT=function(){var dW=function(d4){return/[\u0400-\u04FF]/.test(d4)};var d3=false,d0=k,e=cv.get(aP),d2=cy.location.host;if(!d0||!d2){z("Call: needOverrideByReferrer (result "+(d3?"true":"false")+"), skip because one of params is empty");return d3}d2=bj(d2);d0=aM(d0);e=aM(e);var dY=bj(d0);if(dq(d0,"xn--")&&dW(d2)){z("Call: needOverrideByReferrer (result "+(d3?"true":"false")+"), skip because of bugs with punycode in FF");return d3}if(!dY){z("Call: needOverrideByReferrer (result "+(d3?"true":"false")+"), skip because current referrer is null");return d3}if(!e){d3=!dq(dY,d2);z("Call: needOverrideByReferrer (result "+(d3?"true":"false")+"), compare current referrer and host");return d3}if(dq(d0,e)){z("Call: needOverrideByReferrer (result "+(d3?"true":"false")+"), skip because the same referrer");return d3}var d1=d2.split(".").length>2&&dY.split(".").length>2;var dZ=cy.roistatCookieDomain!==bS&&cy.roistatCookieDomain!==d2;var dX=dY.split(".").slice(1).join(".")===d2.split(".").slice(1).join(".");if(d1&&dZ&&dX){z("Call: needOverrideByReferrer (result "+(d3?"true":"false")+"), skip because sub domains of same domain");return d3}d3=!(dq(dY,d2)||(dq(d2,dY)));z("Call: needOverrideByReferrer (result "+(d3?"true":"false")+") referrerHost: "+dY+", currentHost: "+d2);return d3};var b3=function(){return af("utm_nooverride")==="1"};var dR=function(){return !cA()&&!b3()&&(bY()||aT())};var b4=function(dW,e){return(dW&&e&&dW!=e)};var bn=function(dY){var dW=["cookieExpire"];var d0=dY.leadHunterEnabled;if(Number(cv.get(bT))!==Number(dY.leadHunterEnabled)){cv.set(bT,Number(dY.leadHunterEnabled))}if(d0){var dZ={expires:T,path:"/"};if(da.domain){dZ.domain=da.domain}dG(ai,1,dZ)}for(var dX in dY){if(!Object.prototype.hasOwnProperty.call(dY,dX)){continue}if(!d0&&dX.indexOf("leadHunter")>=0&&dX.indexOf("leadHunterTargetPagesMap")===-1){continue}if(!aC(dW,dX)){if(dX.indexOf("leadHunterTargetPagesMap")!==-1){var e=dy(dY[dX]);
if(e!==null){cv.setObject("roistat_"+dX,e)}continue}cv.set("roistat_"+dX,dY[dX])}}};var db=function(e){if(!e){return}roistat.multiwidget={isEnabled:e.is_enabled,isVisible:roistat.multiwidget.isVisible,vk:{isEnabled:e.vk.is_enabled,link:roistat.multiwidget.vk.link||e.vk.link},fb:{isEnabled:e.fb.is_enabled,link:roistat.multiwidget.fb.link||e.fb.link},telegram:{isEnabled:e.telegram.is_enabled,link:roistat.multiwidget.telegram.link||e.telegram.link},whatsApp:{isEnabled:e.whats_app.is_enabled,link:roistat.multiwidget.whatsApp.link||e.whats_app.link},viber:{isEnabled:e.viber.is_enabled,link:roistat.multiwidget.viber.link||e.viber.link}};if(Number(cv.get(bm))!==Number(e.is_enabled)){cv.set(bm,Number(e.is_enabled))}if(Number(cv.get(cf))!==Number(e.vk.is_enabled)){cv.set(cf,Number(e.vk.is_enabled))}if(cv.get(c5)!==roistat.multiwidget.vk.link){cv.set(c5,roistat.multiwidget.vk.link)}if(Number(cv.get(U))!==Number(e.fb.is_enabled)){cv.set(U,Number(e.fb.is_enabled))}if(cv.get(ds)!==roistat.multiwidget.fb.link){cv.set(ds,roistat.multiwidget.fb.link)}if(Number(cv.get(cQ))!==e.telegram.is_enabled){cv.set(cQ,Number(e.telegram.is_enabled))}if(cv.get(bA)!==roistat.multiwidget.telegram.link){cv.set(bA,roistat.multiwidget.telegram.link)}if(Number(cv.get(c1))!==e.whats_app.is_enabled){cv.set(c1,Number(e.whats_app.is_enabled))}if(cv.get(bR)!==roistat.multiwidget.whatsApp.link){cv.set(bR,roistat.multiwidget.whatsApp.link)}if(Number(cv.get(dV))!==e.viber.is_enabled){cv.set(dV,Number(e.viber.is_enabled))}if(cv.get(cT)!==roistat.multiwidget.viber.link){cv.set(cT,roistat.multiwidget.viber.link)}cv.setObject(au,e)};var cz=function(e){roistat.onlineChat.isEnabled=e.is_enabled;if(Number(cv.get(c2))!==Number(e.is_enabled)){cv.set(c2,Number(e.is_enabled))}roistat.onlineChat.isAvailableForCurrentUserAgent=e.advanced_settings.is_available_for_current_user_agent;roistat.onlineChat.pagesFilter=e.advanced_settings.pages_filter;cv.setObject(C,e.advanced_settings)};var v=function(e){cy.roistat.geo=e;cv.setObject(l,e)};var cK=function(e){z("PromoCode: save settings");cv.setObject(a0,e)};var dM=function(dZ,d1,dY,dW,d0,e,d2,dX){bn(dZ);roistat.callTracking.enabled=d1.is_enabled;roistat.emailtracking.loaded=true;roistat.emailtracking.email=dY.email;roistat.emailtracking.trackingEmail=dY.trackingEmail;roistat.emailtracking.emails=dY.emails;roistat.proxyForms.loaded=true;roistat.proxyForms.settings=d0;db(e);cz(d2);v(dW);cK(dX)};cy.roistatModuleSetVisitCookie=function(d0,d8,dY,dW,d7,d3,e,ea,d2,d9){z("Call: roistatModuleSetVisitCookie("+d0+")");var d4;if(typeof dY.cookieExpire!=="number"){d4=bL().expires}else{d4=dY.cookieExpire}var d1=i(co);var d6={expires:d4,path:"/"};if(da.domain){d6.domain=da.domain}cv.save(co,d0,d6);if(!cv.get(a7)){var dX={expires:10*365*24*60*60,path:"/"};if(da.domain){dX.domain=da.domain}cv.save(a7,d0,dX)}var d5=dY.abTests;if((typeof d5!=="undefined")&&cv.isAvailable()){cv.setObject("abTesting",d5)}applyTests();var dZ=dY.isNeedToListenRequests;if((typeof dZ!=="undefined")&&cv.isAvailable()){cv.set(aw,dZ)}aD(d0);if(d8){ay(d8);dG(bq,d8,d6)}if(cy.roistatCallback!==bS){cy.roistatCallback(d0,d8)}if(!ea){ea={}}dM(dY,dW,d7,d3,e,ea.multiwidget_settings,d2,d9);roistat.callTracking.phone=dW.phone;roistat.callTracking.sessionTime=dW.sessionTime;roistat.callTracking.replacementClasses=dW.replacementClasses;roistat.callTracking.phoneScriptsJson=dW.scripts;roistat.callTracking.rawPhone=dW.raw_phone;roistat.visit=d0;z("Call: pre renderPromoCode");bi();de();if(b4(d1,d0)){z("roistatModuleSetVisitCookie: visit changed from "+d1+" to "+d0)}dt();dA();c4()};cy.roistatUpdateSettings=function(e){z("Set settings.");cq.isSettingsUpdating=false;dM(e.js_settings,e.calltracking,e.emailtracking,e.geo,e.proxy_forms,e.multiwidget.multiwidget_settings,e.online_chat,e.promo_code);dA();c4()};var ax=function(){var e;if(cy.roistatIsInitVisit===true){e=false}else{e=cv.get(co)>0}z("Call: alreadyVisited (return "+(e?"true":"false")+")");return e};var c=function(e){return encodeURIComponent?encodeURIComponent(e):encodeURI(e)};var bd=function(){return k?c(k):""};var S=function(){return bk()+"//"+x+"/api/site/"+ap+"/"+bf()};var cH=function(){var dW={expires:1,path:"/"};var e={expires:bU,path:"/"};if(da.domain){dW.domain=da.domain;e.domain=da.domain}var dX=i(bK);if(dX){dG(al,dX,e)}dG(bK,"",dW);dG(W,"",dW)};var b7=function(){var dW=cv.getObject("abTesting");if(!dS(dW)){return""}var dY,dX,e=[];for(dY in dW){if(!Object.prototype.hasOwnProperty.call(dW,dY)){continue}dX=dW[dY];e.push(dX.id+":"+dX.variantId)}return e.join(",")};var bV=function(){z("Call: setVisitIdCookie");var dW=function(){var d7=bd(),d2=cy.roistatIsInitVisit===true?o():0,ea=i(bK),d5=i(cg),d0=cv.get(a7);ea=ea?ea:"";d0=d0?d0:"";I("setVisitIdCookie: calculateApiUrl for visit_id: "+d2+" Detail info: marker before changes "+bJ+"; needOverrideByReferrer result "+Number(aT())+"; isMarkerParsedFromEnv "+Number(cG)+"; decoded marker "+aM(bJ)+"; double decoded marker "+aM(aM(bJ))+"; all get-params from window "+encodeURIComponent(cy.location.search.substring(1))+"; all get-params from document "+encodeURIComponent(M.location.search.substring(1))+"; complete url from counter"+encodeURIComponent(cM)+"; complete original url from window "+encodeURIComponent(cy.location.href)+"; complete original url from document"+encodeURIComponent(M.location.href));
bJ=bJ&&(!aT()||cG)?aM(aM(bJ)):"";I("Init visit with visit id from cookie, visit_id: "+d2+" and referrer: "+d7+" calculateApiUrl marker: "+bJ);var d6=encodeURIComponent(cM);z("Calltracking: enabled="+ce.callTrackingEnabled+",manual="+ce.callTrackingManual);var d8=JSON.stringify(cy.roistat.page.params);var d4=A();var dZ="";for(var d3 in d4){if(!d4.hasOwnProperty(d3)){continue}var d9=d4[d3];if(d9!==null){dZ+="&"+d3+"="+encodeURIComponent(d9)}}var d1=S()+"/addVisit?v="+ac+"&marker="+encodeURIComponent(bJ)+"&visit="+d2+"&first_visit="+d0+"&guid="+d5+"&phone_prefix="+cW+"&phone_prefix_bind="+dO+"&phone_scripts_bind="+X+"&referrer="+d7+"&page="+d6+"&ab="+c(ea)+"&ab_variants="+c(b7())+"&"+h()+"="+aA()+(d8==="{}"?"":"&page_params="+encodeURIComponent(d8))+((!ce.callTrackingEnabled||ce.callTrackingManual)?"&call_tracking_disabled=1":"")+dZ;if(dg){dE("setVisitIdCookie url calculated: pageVisitId: "+bB+", marker: "+bJ+", calculatedApiUrl: "+d1)}return d1};var e=function(dZ){setTimeout(function(){z("Call: setVisitIdCookie script creation after timeout");var d0=M.createElement("script");if(dg){d0.onload=function(){z("Call: setVisitIdCookie script loaded");dE("setVisitIdCookie script loaded: pageVisitId: "+bB+", marker: "+bJ)}}else{d0.onload=d0.onreadystatechange=function(){var d2=this.readyState?this.readyState:"unknown";z("Call: setVisitIdCookie script state changed to "+d2)}}d0.src=dZ;d0.type="text/javascript";d0.async=true;d0.id=ae;var d1=M.getElementsByTagName("script")[0];d1.parentNode.insertBefore(d0,d1);z("Call: setVisitIdCookie appended "+((M.getElementById(ae))?"true":"false"));z("Call: sendJSONPRequest to URL "+dZ);if(dg){dE("setVisitIdCookie appended: pageVisitId: "+bB+", marker: "+bJ+", apiUrl: "+dZ)}cH()},ce.jsonpRequestTimeout)};if(bJ){ay(bJ);dx()}var dY=i(a1);if(dY){dG(cg,dY,da)}aI();var dX=dW();e(dX);k?ah():ck()};var b2=function(){z("Call: sendAbTests");var dX=function(){var d1=bf(),d0=i(co);return bk()+"//"+x+"/site-api/"+aQ+"/"+d1+"/visit/"+d0+"/addAbVariant"};var dY=i(bK);var dW=i(al);if(dY===dW||!dY){cH();return}var dZ=dX();dZ=dZ+"?ab="+c(dY);var e=M.createElement("img");e.src=dZ;cH()};var a3={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return(a3.Android()||a3.BlackBerry()||a3.iOS()||a3.Opera()||a3.Windows())}};var bc={isIE:function(dX,dZ){var d0="IE",dW=M.createElement("B"),e=M.documentElement,dY;if(dX){d0+=" "+dX;if(dZ){d0=dZ+" "+d0}}dW.innerHTML="<!--[if "+d0+']><b id="iecctest"></b><![endif]-->';e.appendChild(dW);dY=!!M.getElementById("iecctest");e.removeChild(dW);return dY},isSafari:function(){var e=cy.navigator.userAgent.toLowerCase();return e.includes("safari")&&!e.includes("chrome")}};var dv=function(){return cv.get(ag)};var ak=function(){var e="";cy.onerror=function(d1,d0,dX,dZ,dY){var dW=!dZ?"":", column: "+dZ;dW+=!dY?"":", error: "+dY;e=e+", Error: "+d1+", url: "+d0+", line: "+dX+dW};setTimeout(function(){var d3=false,d4="";var dZ=dC();for(var d2=0;d2<dZ.length;d2++){var dY=dZ[d2];if(dY!==null&&!dY.innerHTML){d3=true;d4="Promo HTML: "+dY.innerHTML}}if(!(i(co)>0)){d3=true;d4=d4+"; roistat_visit = "+i(co)}if(d3){var dX=M.getElementById(ae);var dW=dX?1:0;var d0=cy.navigator.userAgent;d4=encodeURIComponent(d4);var d1=M.createElement("img");d1.src=bk()+"//"+x+"/site-api/"+aQ+"/"+bf()+"/debug?message="+d4+"&agent="+d0+"&"+h()+"="+aA()+"&jserror="+e+"&scriptResponse="+dW+"&version="+ac+"&debug="+br}},20000)};var bP=function(){var dX=M.getElementsByTagName("body");var dY=M.documentElement;var dW=0,dZ=0;if(dX.length){var e=dX[0];dW=cy.innerWidth||dY.clientWidth||e.clientWidth;dZ=cy.innerHeight||dY.clientHeight||e.clientHeight}else{dW=cy.innerWidth||dY.clientWidth;dZ=cy.innerHeight||dY.clientHeight}return{width:dW,height:dZ}};var bi=function(){var d1=M.getElementsByClassName("roistat-promo-wrap");if(d1.length){z("PromoCode: old promo code length - exit");return}if(aS()){z("PromoCode: Shut down because only online chat need to be inited");return}var d0=cv.getObject(a0);if(d0&&d0.hasOwnProperty("is_enabled")){cy.roistat.promoCode.isEnabled=d0.is_enabled;z("PromoCode: set is_enabled from storage")}var dY=function(){var d8=M.createElement("div");d8.innerHTML=roistatPromoCode;var d6=M.getElementsByTagName("body");if(d6.length){d6[0].appendChild(d8)}z("PromoCode: appended to body "+roistatPromoCode.length);var d7=M.getElementsByClassName("roistat-promo-wrap")[0];if(!d7){z("PromoCode: roistat-promo-wrap not found, skip");return}var d5=d7.style;var d3,d4,d2;setInterval(function(){d3=bP();d4=d7.offsetWidth;d2=d7.offsetHeight*2;switch(roistatPosition){case"top_left":d5.left=0;d5.top=0;break;case"top":d5.left=((d3.width-d4)/2)+"px";d5.top=0;break;case"top_right":d5.right=0;d5.top=0;break;case"left":d5.left=0;
d5.top=((d3.height-d2)/2)+"px";break;case"right":d5.right=0;d5.top=((d3.height-d2)/2)+"px";break;case"bottom_left":d5.left=0;d5.bottom=0;break;case"bottom":d5.left=((d3.width-d4)/2)+"px";d5.bottom=0;break;case"bottom_right":d5.right=0;d5.bottom=0;break;default:d5.left=0;d5.top=0}},500)};var e=cv.getObject("promo_code_options");if(e){z("PromoCode: options already set");cy.roistatPromoCode=e.template;cy.roistatPosition=e.position;dY()}else{if(!cy.roistat.promoCode.isEnabled){z("PromoCode: is not available, skip");return}var dZ=M.getElementsByTagName("head")[0]||M.documentElement;var dX=M.createElement("script");dX.src=bk()+"//"+x+"/site-api/"+aQ+"/"+bf()+"/getPromoCode";dZ.insertBefore(dX,dZ.firstChild);z("PromoCode: loading started");var dW=false;dX.onload=dX.onreadystatechange=function(){if(!dW&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")){dW=true;dX.onload=dX.onreadystatechange=null;if(dZ&&dX.parentNode){dZ.removeChild(dX)}}if(!dW){return}z("PromoCode: loaded");if(typeof roistatPromoCode==="undefined"||roistatPromoCode.length<1){z("PromoCode: is disabled");return}e={template:roistatPromoCode,position:roistatPosition};cv.setObject("promo_code_options",e);dY()}}};var aC=function(dW,dX){for(var e=0;e<dW.length;e++){if(dW[e]===dX){return true}}return false};var I=function(dW){if(!ao||dW===""){return}var e=o();dE("visit: "+e+" "+dW)};var dE=function(dW){var e=S()+"/log?log="+encodeURIComponent(dW);a6(e)};var aR=function aR(){var dZ=cy.onpopstate;var d0=cy.history.pushState;var e=cy.history.replaceState;an(cy,"popstate",function dY(d1){z("[Roistat]: popstate event catch");cm();if(aj()&&typeof dZ==="function"){dZ(d1)}});an(cy.history,"pushState",function dX(d2,d3,d1){z("[Roistat]: pushState event catch");cm();if(aj()&&typeof d0==="function"){d0.apply(this,[d2,d3,d1])}});an(cy.history,"replaceState",function dW(d2,d3,d1){z("[Roistat]: replaceState event catch");cm();if(aj()&&typeof e==="function"){e.apply(this,[d2,d3,d1])}})};(function bZ(){aR();if(cy.onRoistatModuleLoaded!==bS&&typeof cy.onRoistatModuleLoaded==="function"){cy.onRoistatModuleLoaded()}})();(function aK(){var dW="fngr.roistat.com";var dZ=false;if(!dZ){z("Fingerprint: disabled");return}cy.roistat.crossdevice={registerFingerprint:function dX(d0){z("Fingerprint: collected data "+JSON.stringify(d0));roistat.registerOnVisitProcessedCallback(function(){z("Fingerprint: sending to service");var d1=Object.keys(d0).map(function(d3){return d0[d3].key+"="+encodeURIComponent(d0[d3].data)}).join("&");d1=d1+"&visit="+bf()+"|"+J()+"|"+roistat.getVisit();d1+="&host="+encodeURIComponent(cy.location.host);var d2=bk()+"//"+dW+"/register?"+d1;a6(d2)})},markVisit:function e(d0){z("Fingerprint: marking visit "+d0)}};z("Fingerprint: initialising library");var dY=bk()+"//"+dW+"/static/fingerprint.js";a6(dY)})();var bW=function(dW){var d1=function(d8,d6){var d5;if(dq(d6,"*")){var d7=new RegExp(d6.split("*").join(".*"));d5=d7.test(d8)}else{d5=d8===d6}z("LeadHunter: compare current: "+d8+", setting: "+d6+" with result = "+(d5?1:0));return d5};var e=cy.location.href,dY=false,dX=false,d3="",dZ=0,d2;d2=dW?dW.split(","):[];if(!e||d2.length===0){dY=true}else{d3=aU(e);var d4;for(var d0=0;d0<d2.length;d0++){d4=d2[d0].split("www.").join("").split("http://").join("").split("https://").join("").replace(/\/+$/,"");if(/^!/.test(d4)){if(d1(d3,d4.split(/^!/).join(""))){dX=true;break}}else{dZ++;if(d1(d3,d4)){dY=true;break}}}}if(dX){z('LeadHunter: current page "'+d3+'" is disabled by list');return false}if(!dY&&dZ>0){z('LeadHunter: current page "'+d3+'" is not listed');return false}z('LeadHunter: current page "'+e+'", cleaned: "'+d3+'" is not disabled in '+d2.length+" list of pages");return true};try{dL()}catch(cJ){I(cJ)}(function bh(){var el="empty",d2=false,dW=true,ec=false;var eh={roistat_visit:i(co),marker:bJ,user_agent:cy.navigator.userAgent,current_page:{title:M.title,href:cy.location.protocol+"//"+cy.location.host+cy.location.pathname}};var em=function(es,er,eq){if(es.addEventListener){es.addEventListener(er,eq,false)}else{if(es.attachEvent){es.attachEvent("on"+er,eq)}else{z("Handler could not be attached")}}};var ee=function(es,eq){if(es===bS||typeof eq!=="string"||eq.length===0){return}var er=es.getElementsByClassName(eq);if(er===bS||er.length===0){return}return er[0]};var en=function(eq){return typeof eq==="object"&&eq!==null};var d3=function(eq,es,er){if(en(eq)){if(er){eq.classList.add(es);return}eq.classList.remove(es)}};var eo=cy.visualViewport;var eb="visualViewport" in cy;var ef=function(eq){return(eq===0)?1:eq};var ep=function(){var eq;if(eb){eq=1/ef(eo.scale)}else{eq=cy.innerWidth/ef(cy.outerWidth)}return eq};var ej=function(){if(bM()){return"none"}return"scale("+ep()+")"};var d1=function(){if(!bM()){return"none"}return"scale("+ep()+")"};var ei={leadHunter:function(){var gd="roistat-lh-form",eO="roistat-lh-form",gg="roistat-lh-head-text",e2="roistat-lh-head",eK="roistat-lh-thank-you",ft="roistat-lh-thank-you",ev="roistat-lh-close",ew="roistat-lh-submit",fb="roistat-lh-hidden",fS="roistat-lh-wrap",eQ="roistat-lh-popup-wrapper",fs="roistat-lh-popup",gf="roistat-lh-agreement",fo="roistat-lh-agreement roistat-lh-mobile",gv="roistat-lh-agreement-input",f4="roistat-lh-agreement-link",eq="roistat-lh-agreement-doc",f9="roistat-lh-alert-row",fA="roistat-lh-agreement",fn="roistat-lh-popup-iframe",fD="roistat_leadHunterUrl",f6="roistat_leadHunterAppearanceUrl",ff="roistat_leadHunterTargetPagesList",eJ="roistat_leadHunterCaught",fK="roistat_leadHunterMinTime",e6="roistat_leadHunterAutoShowTime",fH="roistat_leadHunterPulsatorEnabled",e0="roistat_leadHunterScriptsCaught",gw="roistat_leadHunterScriptsShownCount",fl="roistat-lh-load-done",eP="roistat-lh-close-modal",fU="roistat-lh-script-settings",fT="roistat-lh-setting-size",ga="roistat-lh-before-submit",fE="roistat-lh-before-submit-done",gi="roistat-lh-after-submit",fX="roistat-lh-event-data",fY="roistat-lh-translate-form",gs={topLeft:{bottom:"80%",right:"auto",transformOrigin:"top left"},topRight:{bottom:"80%",right:"3%",transformOrigin:"top right"},bottomRight:{bottom:"10%",right:"3%",transformOrigin:"bottom right"},bottomLeft:{bottom:"10%",right:"auto",transformOrigin:"bottom left"}};
var eI=0.3,eU=0.001,eL=false,eX=0,eS=0,eY=0,gk=0,eW=0,fc=false,eA=false,gu=false,eV,f8,fv,fB,fR,e1,gt,go,f5,gr,eE,gl,fO,fw,fm,eH,et,fa,eZ,e7,f2,gb,e4,ge,gj,fe;var gn={pulsator:{previousClass:""},leave:{isShowEnabled:false},timeoutId:0};var gh=function(gB){var gA=encodeURIComponent?encodeURIComponent:encodeURI;return gA(gB)};var fW=function(){if(!cy.roistat.leadHunter.isEnabled){return false}if(cy.roistatLeadHunterInited){return false}cy.roistatLeadHunterInited=true;if(cv.get(bT)<1){z("LeadHunter: disabled");return false}return true};var e9=function(){et=cv.get(fD);if(!et){z("LeadHunter: not active cause of empty url");return false}cb();fa=cv.get(f6);gk=cv.get(fK);eW=cy.roistat.leadHunter.form.autoShowTime===null?cv.get(e6):cy.roistat.leadHunter.form.autoShowTime;d2=cv.get(fH)==1;es();z("LeadHunter: initSettings end, isLeadHunterPulsatorEnabled: "+(d2?1:0));return true};var fh=function(){return cv.get(eJ)>0};var es=function(){if(!(i(ai)>0)){z("LeadHunter: not active, expired for this visit");fc=true}};var eB=function(gA){gu=true;e7=f2.src;var gB={version:ac,additionalNotifyEmail:cy.roistat.leadHunter.additionalNotifyEmail,projectKey:bf(),language:am,visitId:cP(),moduleTargetOrigin:cy.location.origin,referrer:cy.location.href,windowWidth:cy.innerWidth||0,iframeWrapperWidth:fB.offsetWidth||0,sendRequestUrl:cv.get(fD),message:fl};f2.contentWindow.postMessage(gB,e7);fJ();if(gA&&bW(cv.get(ff))){z("Beta Test on, iframe fired, rise up iframe show count state");eu()}};var fk=function(){eA=true;ez("click");eB();fQ()};var ey=function(){var gA=cy.location.hash;if(!gA){return}if(dq(gA,"roistat-lead-hunter")){fk()}};var fi=function eG(){z("LeadHunter: binding timeout");if(fc){z("LeadHunter: leadhunter is expired, no timeout show allowed");return}if(eL){z("LeadHunter: leadhunter was shown, no timeout show allowed");return}if(eW>0){var gA=(eX-cC())+eW*1000;z("LeadHunter: binding timeout with delay "+gA+" ms");clearTimeout(gn.timeoutId);gn.timeoutId=setTimeout(function(){z("LeadHunter: form auto activate with autoTime = "+eW);if(!eL){z("LeadHunter: show by timeout");eA=true;ez("auto");eB(true);fQ()}},gA)}else{clearTimeout(gn.timeoutId);z("LeadHunter: auto show time is not positive, feature disabled")}};var f7=function(){f5.onclick=fR.onclick=fy;gr.onclick=fd;if(en(gl)){em(gl,"click",fp)}if(en(fO)){em(fO,"change",gy)}var gB=M.getElementsByClassName("roistat-lh-input");if(Array.isArray(gB)){for(var gE=0;gE<gB.length;gE++){em(gB[gE],"keyup",function(gI){gI=gI||event;var gH=(gI.keyCode?gI.keyCode:gI.which);if(gH==13){fd()}})}}var gC=cy.onresize;cy.onresize=function(gH){if(gC){gC(gH)}gc(gH)};if(!fc){var gA=M.onmouseout;M.onmouseout=function(gH){if(gA){gA(gH)}fN(gH)}}if(d2&&!ea()&&en(eV)){eV.onmouseover=function(){at(eV,"roistat-lh-pulsator-hover")};eV.onmouseout=function(){cn(eV,"roistat-lh-pulsator-hover")};eV.onclick=function(){fk()};cy.addEventListener("resize",function gG(){if(en(eV)){eV.style.transform=ej()}});if(eb){eo.addEventListener("resize",function gF(){if(en(eV)){eV.style.transform=ej()}})}}var gD=cy.onhashchange;cy.onhashchange=function(){if(gD){gD.apply(this,arguments)}ey()}};var gq=function(){if(d2&&!ea()&&en(eV)){eV.onmouseover=function(){at(eV,"roistat-lh-pulsator-hover")};eV.onmouseout=function(){cn(eV,"roistat-lh-pulsator-hover")};eV.onclick=function(){fk()};cy.addEventListener("resize",function gE(){eV.style.transform=ej()});if(eb){eo.addEventListener("resize",function gD(){if(en(eV)){eV.style.transform=ej()}})}}fR.onclick=fy;f2=M.getElementById(fn);if(en(f2)){em(f2,"load",function(){eB();gm()})}var gB=cy.onresize;cy.onresize=function(gF){if(gB){gB(gF)}gc(gF)};if(!fc){var gA=M.onmouseout;M.onmouseout=function(gF){if(gA){gA(gF)}if(!aj()){z("ShowLimit: Beta Test off, check cursor usually");fN(gF)}else{z("ShowLimit: Beta Test on, check cursor by caught or max show limit");if(!fP()&&!eT()){z("ShowLimit: Check cursor allowed");fN(gF,true)}}}}var gC=cy.onhashchange;cy.onhashchange=function(){if(gC){gC.apply(this,arguments)}ey()}};var fx=function(gB){var gA=M.getElementsByClassName(gB);if(gA.length>0){return gA[0]}else{return null}};var fu=function(){var gD=fx("roistat-lh-title");if(en(gD)&&roistat.leadHunter.form.title){gD.innerHTML=roistat.leadHunter.form.title}var gB=fx("roistat-lh-sub-title");if(en(gB)&&roistat.leadHunter.form.subTitle){gB.innerHTML=roistat.leadHunter.form.subTitle}var gC=fx("roistat-lh-thank-you");if(en(gC)&&roistat.leadHunter.form.thankYouText){gC.innerHTML=roistat.leadHunter.form.thankYouText}var gF=fx("roistat-lh-submit");if(en(gF)&&roistat.leadHunter.form.buttonText){gF.value=roistat.leadHunter.form.buttonText}var gE=fx("roistat-lh-text-label-name");if(en(gE)&&roistat.leadHunter.form.nameLabel){gE.innerHTML=roistat.leadHunter.form.nameLabel}var gA=fx("roistat-lh-text-label-contact");if(en(gA)&&roistat.leadHunter.form.contactLabel){gA.innerHTML=roistat.leadHunter.form.contactLabel}};var eR=function(gB,gF,gE){if(M.body===null){return}var gA;if(!gB){z("LeadHunter: deactivating, empty form")}else{z("LeadHunter: rendering hidden form")
}fR=M.createElement("div");fB=M.createElement("div");fB.innerHTML=gB;fR.className=fb;fB.className=fb;z("LeadHunter: processForm, isLeadHunterPulsatorEnabled: "+(d2?1:0));if(gF&&d2&&gE&&!ea()){var gC=typeof gE.position==="string"&&gE.position!==""?gE.position:"bottomRight";gA=M.createElement("div");gA.innerHTML=gF;eV=gA.childNodes.item(0);f8=eV.childNodes.item(1);fv=eV.childNodes.item(2).childNodes.item(0);f8.setAttribute("style","background: "+gE.button.background+";");fv.setAttribute("style","fill: "+gE.button.color+";");eV.setAttribute("style","bottom: "+gs[gC].bottom+";right:"+gs[gC].right+";");eV.style.transformOrigin=gs[gC].transformOrigin;eV.style.transform=ej();gn.pulsator.previousClass=eV.className;eV.className=fb;M.body.appendChild(eV)}M.body.appendChild(fR);M.body.appendChild(fB);e1=M.getElementById(e2);gt=M.getElementById(eO);go=M.getElementById(ft);f5=M.getElementById(ev);gr=M.getElementById(ew);eE=M.getElementById(gf);fO=M.getElementById(gv);gl=M.getElementById(f4);fw=M.getElementById(eq);fm=M.getElementById(f9);eH=M.getElementById(fA);var gD=fx(eQ);eZ=en(gD)&&gD.getAttribute("data-is-iframe");if(eZ){gq()}else{fu();f7();ey();gm()}};var gp=function(gC){var gB=gC.button&&gC.button.background&&gC.button.color;if(!gB){return}cv.setObject(cc,fe);var gA=typeof gC.position==="string"&&gC.position!==""?gC.position:"bottomRight";if(en(f8)){f8.setAttribute("style","background: "+gC.button.background+";")}if(en(fv)){fv.setAttribute("style","fill: "+gC.button.color+";")}if(en(eV)){eV.setAttribute("style","bottom: "+gs[gA].bottom+";right:"+gs[gA].right+";");eV.style.transformOrigin=gs[gA].transformOrigin;eV.style.transform=ej()}};var eF=function(){var gA=cv.get(cd),gC=cv.get(bG),gB=cv.getObject(cc);if(gB!==null){eR(cB.decode(gA),cB.decode(gC),gB)}};var fg=function(){var gB=fB.clientWidth,gA=fB.clientHeight;if(en(fB)){fB.setAttribute("style",fB.getAttribute("style")+" width: "+gB+"px; height: "+gA+"px;")}if(en(gt)){gt.className=fb}if(en(e1)){e1.className=fb}if(en(eE)){eE.className=fb}if(en(go)){go.setAttribute("style","width: "+gB+"px; height: "+gA+"px; display: table-cell;");go.className=eK}setTimeout(function(){z("LeadHunter: close form after timeout");fy()},7000)};var fQ=function(){var gB=Math.round((f3()-fB.clientHeight)/2);var gA=Math.round((gz()-fB.clientWidth)/2);if(en(fB)){fB.setAttribute("style","left: "+gA+"px; top: "+Math.max(0,gB)+"px;")}};var ez=function(gB){if(!bW(cv.get(ff))){return}if(cy.roistat.leadHunter.onBeforeAppear){z("LeadHunter: process user defined onBeforeAppear");cy.roistat.leadHunter.onBeforeAppear(gB);if(eZ){fJ()}}if(en(fB)){fB.setAttribute("style","left:20px;top:-20px;opacity:0");fB.className=fs}if(en(fR)){fR.className=fS}if(en(gt)){gt.className=gd}if(en(e1)){e1.className=gg}if(en(eE)){eE.className=fo}if(en(go)){go.setAttribute("style","");go.className=fb}if(en(fR)){fR.setAttribute("style","opacity:0;")}eL=true;setTimeout(function(){fR.setAttribute("style","opacity:.5;")},10);var gC=i(co),gA=fa+"?visit_id="+gC+"&page="+y();Y(gA);if(cy.roistat.leadHunter.onAfterAppear){z("LeadHunter: process user defined onAfterAppear");cy.roistat.leadHunter.onAfterAppear(gC,fR,fB,gt);if(eZ){fJ()}}};var fV=function fz(){eX=cC();eF();z("LeadHunter: form initialized")};var gm=function fj(){z("LeadHunter: tuning appearance for page");if(!bW(cv.get(ff))||(cv.get(a5)&&!cv.get(ad))){z("LeadHunter: disabled on page");gn.leave.isShowEnabled=false;clearTimeout(gn.timeoutId);if(ea()){dW=false;d7()}if(en(eV)){eV.className=fb}}else{z("LeadHunter: enabled on page");if(!fh()&&!aj()){z("ShowLimit: Beta Test off, bindShowOnTimeout usually");gn.leave.isShowEnabled=true;fi()}if(aj()){z("ShowLimit: Beta Test on, bindShowOnTimeout by caught or max show limit");if(!fP()&&!eT()){z("ShowLimit: bindShowOnTimeout allowed");gn.leave.isShowEnabled=true;fi()}}if(en(eV)){eV.className=gn.pulsator.previousClass}}};var e3=function fM(){z("LeadHunter: processing single page application state change");eX=cC();gm()};var f1=function fq(){aF(e3);var gB=function(){var gH=M.querySelector("html"),gD=600,gG=300,gJ=cy.innerWidth,gC=getComputedStyle(gH).zoom,gF={};var gE=function(){var gK=gH.style.cssText.split(";").find(function(gL){return gL.includes("--zoomLevel")});if(gK!==bS){gK=gK.split(":");if(gK.length>1){gK=parseFloat(gK[1])}else{return bS}}return gK};var gI=gE();if(gI!==bS){gC=gI}if(gJ<gD&&gJ>=gG){gF={isMobileMarkup:true,isMobileMarkupXs:false,zoomValue:gC};f2.contentWindow.postMessage({sizeSettings:gF,message:fT,windowWidth:cy.innerWidth||0},e7);return}if(gJ<gG){gF={isMobileMarkup:false,isMobileMarkupXs:true,zoomValue:gC};f2.contentWindow.postMessage({sizeSettings:gF,message:fT,windowWidth:cy.innerWidth||0},e7);return}gF={isMobileMarkup:false,isMobileMarkupXs:false,zoomValue:gC};f2.contentWindow.postMessage({sizeSettings:gF,message:fT,windowWidth:cy.innerWidth||0},e7)};cy.roistatLeadHunterUpdate=gB;an(cy,"load",function(){gB()});an(cy,"resize",function(){gB()});an(cy,"message",function gA(gG){var gL=typeof gG.data==="string"?gG.data:gG.data.message;
if(gL===fU){gb=gG.data.scriptId;e4=gG.data.showsLimit;var gK=cv.getObject(r)!==null;if(gK){eW=gG.data.leadHunterAutoShowTime;gk=gG.data.leadHunterMinTime;fe=gG.data.leadHunterPulsatorSettings;cv.set(fK,gk);cv.set(e6,eW);if(fe){var gJ=Number(fe.isEnabled);z("Leadhunter: set pulsator setting "+gJ);cv.set(fH,gJ);gp(fe)}}z("ShowLimit: Get lhScriptId: "+gG.data.leadHunterId+" and lhScriptMaxShownCount: "+gG.data.leadHunterMaxShownCount+" from lh widget");fG()}if(gL===eP){fy()}if(gL===fT){const gF=typeof gG.data==="object"&&gG.data.calibratingSize!==bS?gG.data.calibratingSize:true;f2.setAttribute("style","width: "+gG.data.width+"px !important; height: "+gG.data.height+"px !important;");if(gu&&!gF){f2.contentWindow.postMessage({message:fT,windowWidth:cy.innerWidth||0,calibratingSize:true},e7)}gc(gG)}if(gL===ga){var gE=gG.data.caughtLeadData;if(cy.roistat.leadHunter.onBeforeSubmit){z("LeadHunter: process user defined onBeforeSubmit");var gC=cy.roistat.leadHunter.onBeforeSubmit(gE);if(gC){gE=gC}}if(!aj()){z("ShowLimit: Beta Test off, catch before submit message, setCookieLeadHunterCaught will run");eC()}else{z("ShowLimit: Beta Test on, catch before submit message, setLeadHunterScriptCaught will run");fI()}var gD=cv.getObject(cN);var gI=gD!==null;var gH=gI&&gE.isNeedCallback===null&&!Q(gD);if(gH){gE.isNeedCallback=0}f2.contentWindow.postMessage({caughtLead:gE,message:fE},e7)}if(gL===gi){if(cy.roistat.leadHunter.onAfterSubmit){z("LeadHunter: process user defined onAfterSubmit");cy.roistat.leadHunter.onAfterSubmit({name:gG.data.name,phone:gG.data.phone})}}})};function fJ(){var gA={apiData:cy.roistat.leadHunter.form,message:fX};f2.contentWindow.postMessage(gA,e7)}function fG(){if(!fW()){z("checkLeadHunterLaunch false");return}var gA=cv.getObject(r)!==null;if(gA){eD()}if(!e9()){z("initSettings false");return}z("LeadHunter: activated");dl(function(){fV();gm();f1();if(typeof cy.onRoistatLeadHunterInited==="function"){cy.onRoistatLeadHunterInited()}})}function f3(){return(cy.innerHeight?cy.innerHeight:M.documentElement.clientHeight==0?M.body.clientHeight:M.documentElement.clientHeight)}function gz(){return(cy.innerWidth?cy.innerWidth:M.documentElement.clientWidth==0?M.body.clientWidth:M.documentElement.clientWidth)}function fN(gD,gA){gD=gD||event;eY=gD.clientY;var gB=eY/f3(),gF=eS>0&&eS>gB,gC=gB<eU,gE=(cC()-eX)>gk*1000;if(gF&&gC&&!eL&&gE&&gn.leave.isShowEnabled&&!fh()){z("LeadHunter: show modal with because move up ("+eS+" -> "+gB+") and in modal zone and show on leave enabled");ez("exit");eB(gA);fr(gD)}if(gB<eI){eS=gB}}function gc(gA){if(eA){fQ()}else{gA=gA||event;fr(gA)}}function fr(gF){var gB=gF.type==="message"?gF.data.width:fB.offsetWidth;var gC=gz();var gA=gF.clientX-Math.round(gB/2)||fB.offsetLeft;gA=Math.max(20,Math.min(gA,gC-gB-20));var gG=gA+gB>gC-40;if(gG){var gD=(gA+gB-20)-(gC-40);gA=gA-gD}var gE=gC-40>gB?"":"width: "+(gB-40)+"px;";if(en(fB)){fB.setAttribute("style","left: "+gA+"px; top: 0px; "+gE)}}function eC(){cy.roistatSetCookie(eJ,1,da)}function fy(){if(!aj()){z("ShowLimit: Beta Test off, setCookieLeadHunterCaught");eC()}if(en(fR)){fR.setAttribute("style","opacity:0")}if(en(fB)){fB.style.top="-"+fB.offsetHeight*2+"px";setTimeout(function(){fB.className=fR.className=fb},500)}}function fd(){var gO=M.getElementById("roistat-lh-phone-input"),gC=M.getElementById("roistat-lh-name-input"),gE,gM;gE=gO===null?"":gO.value;gM=gC===null?"":gC.value;var gJ={name:gM,phone:gE,isNeedCallback:null,callbackPhone:null,fields:{}};if(cy.roistat.leadHunter.onBeforeSubmit){z("LeadHunter: process user defined onBeforeSubmit");var gF=cy.roistat.leadHunter.onBeforeSubmit(gJ);if(gF){gJ=gF}}var gL=gJ.phone.length<1;var gN=gJ.phone.indexOf("_")===-1;var gH=!gL&&gN;var gK=gJ.name.length<1;var gB=!gK||!cy.roistat.leadHunter.form.isNameRequired;if(!gH&&en(gO)){gO.setAttribute("style","border: 2px solid #E0571A;");return}if(!gB&&en(gC)){gC.setAttribute("style","border: 2px solid #E0571A;");return}var gA=et+"?v="+ac+"&lead-hunt-input="+encodeURIComponent(gJ.phone)+"&lead-name="+encodeURIComponent(gJ.name)+"&visit="+cP();if(gJ.isNeedCallback!==null&&gJ.isNeedCallback!==bS){gA=gA+"&is_need_callback="+(gJ.isNeedCallback>0?1:0)}if(gJ.callbackPhone){gA=gA+"&callback_phone="+gJ.callbackPhone}if(cy.roistat.leadHunter.additionalNotifyEmail!==null){gA=gA+"&additional_email="+encodeURIComponent(cy.roistat.leadHunter.additionalNotifyEmail)}var gD=0;if(gJ.fields&&typeof gJ.fields==="object"){for(var gG in gJ.fields){if(gJ.fields.hasOwnProperty(gG)){++gD}}}if(gD>0){gA=gA+"&fields="+gh(JSON.stringify(gJ.fields))}gA=gA+"&t="+cC();var gI=M.createElement("img");gI.src=gA;if(en(gO)){gO.setAttribute("style","")}if(!aj()){z("ShowLimit: Beta Test off, caught LH usually");eC()}else{z("ShowLimit: Beta Test on, caught LH by set setLeadHunterScriptCaught");fI()}if(!en(go)){fy();e8()}else{fg()}if(cy.roistat.leadHunter.onAfterSubmit){z("LeadHunter: process user defined onAfterSubmit");cy.roistat.leadHunter.onAfterSubmit({name:gM,phone:gE})}}function fp(gA){if(gA.preventDefault){gA.preventDefault()
}else{gA.returnValue=false}if(en(fw)){fw.style.display==="block"?fw.style.display="none":fw.setAttribute("style","display: block; padding: 0 30px; width:"+fB.clientWidth+"px;")}gc()}function gy(){if(en(gr)){gr.disabled===true?gr.disabled=false:gr.disabled=true}if(en(fm)){fm.style.display==="block"?fm.style.display="none":fm.style.display="block"}}function e8(){M.onmousemove=null;if(en(fR)){fR.onresize=null}}var e5=function(gG,gJ){if(!gG||!gJ){z("LeadHunter: skip phone mask render due to empty input or mask");return}z("LeadHunter: render phone mask "+gJ+" for input: "+gG.value);if(cy.roistatRenderPhoneMaskMutex){return}cy.roistatRenderPhoneMaskMutex=true;var gD="_",gC="x",gF="х",gE=gJ.toLowerCase().split(gC).join(gD).split(gF).join(gD);var gB=function(gK){if(gG.setSelectionRange){gG.setSelectionRange(gK,gK)}else{if(gG.createTextRange){var gL=gG.createTextRange();gL.collapse(true);gL.moveEnd("character",gK);gL.moveStart("character",gK);gL.select()}}};var gH=function(gK){if(!gK){return 0}var gL=gK.indexOf(gD);if(gL<0){return gK.length}return gL};var gI=function(gK){gB(gH(gK))};var gA=function(gT){var gU=gE.split("");if(!gT){return gE}var gK=gT.split("");var gV=[],gS,gP,gR,gO,gM,gL,gQ;for(var gN=0;gN<gU.length;gN++){gP=gU[gN];if(gN>=gK.length){gV.push(gP);continue}gM=((gN+1)<gU.length)?gU[gN+1]:null;gL=((gN+1)<gK.length)?gK[gN+1]:null;gQ=((gN+2)<gK.length)?gK[gN+2]:null;gS=gK[gN];gR=parseInt(gS)>=0;gO=(gP===gD)&&gR;if(!gO){gV.push(gP);continue}if(gL===gD&&gM!==gD&&gQ!==gM){gV.push(gP);continue}gV.push(gS)}return gV.join("")};setTimeout(function(){var gK=gA(gG.value);if(gG.value!==gK){gG.value=gK}gI(gK);cy.roistatRenderPhoneMaskMutex=false},1)};var f0=function(gA,gC,gB){cv.set(cd,cB.encode(gA));cv.set(bG,cB.encode(gC));cv.setObject(cc,gB)};var fF=function(gA){am=gA;if(f2===bS){return}er()};var er=function(){var gA={language:am,message:fY};f2.contentWindow.postMessage(gA,e7)};var fI=function(){z("ShowLimit: Start set roistat_leadHunterScriptsCaught");var gA=eM(e0);if(!gA){gA={}}z("ShowLimit: Cookie roistat_leadHunterScriptsCaught for lhScriptId set to 1");gA[gb]=1;fZ(e0,gA)};var eu=function(){z("ShowLimit: Start set roistat_leadHunterScriptsShownCount");var gB=eM(gw);if(!gB){gB={}}var gC=gB.hasOwnProperty(gb);if(!gC){z("ShowLimit: Cookie roistat_leadHunterScriptsShownCount for lhScriptId initialized");gB[gb]=0}var gA=gB[gb]+1>e4;if(gA){z("ShowLimit: Stored lhScriptId has reached lhScriptMaxShownCount, show counter in cookie not rise up, return from function");return}z("ShowLimit: Cookie already has, exist lhScriptId show counter rise up");gB[gb]+=1;fZ(gw,gB)};var fZ=function(gA,gB){dG(gA,JSON.stringify(gB),da)};var eM=function(gA){var gB=i(gA);if(typeof gB!=="undefined"){return JSON.parse(gB)}return gB};var eT=function(){if(e4===0){z("ShowLimit: show limit off and set to 0");return false}var gA=eM(gw),gB=gA?gA[gb]:null,gC=gB+1>e4;z("ShowLimit: Check isCurrentScriptMaxShownCountReached, show limit on, check for exceeding the limit, is "+gC);return gC};var fP=function(){var gC=eM(e0),gA=gC?gC[gb]:null,gB=gA===1;z("ShowLimit: Check isCurrentLeadHunterScriptSubmitted, is "+gB);return gB};var eD=function(){cv.set(a5,ex());cv.set(cd,cB.encode(fL()));cv.set(ff,eN());cv.set(fH,gx())};var fL=function(){var gA=bk()+"//"+x+"/api/site/1.0/"+bf()+"/leadhunter/script/"+cv.get(a5)+"/widget?visit_id="+o();return'<div class="roistat-lh-popup-wrapper" data-is-iframe="1"><iframe id="roistat-lh-popup-iframe" class="roistat-lh-popup-iframe" src="'+gA+'" frameborder="0"></iframe></div>'};var ex=function(){var gB=cv.getObject(r);if(gB===null){return}cv.set(ad,"");var gF=Number(cv.get(bT));var gJ=Object.keys(gB);var gG=gJ.sort()[0];if(!gF){return gG}for(var gE=0;gE<gJ.length;gE++){var gK=gB[gJ[gE]];var gH=gK.targetPageList;var gD=bW(gH.join(","));var gC=gH.length===0;var gA=Array.isArray(gK.devicesFilter)&&gK.devicesFilter.length>0?gK.devicesFilter.indexOf(H())!==-1:true;var gI=(gC||gD)&&gA&&(!gK.timetable.isEnabled||Q(gK.timetable));if(gI){gG=gJ[gE];cv.set(ad,gG)}}return gG};var eN=function(){var gA=fC();return gA!==null?gA.targetPageList.join(","):""};var gx=function(){var gA=fC();return gA!==null?Number(gA.isPulsatorEnabled):0};var fC=function(){var gA=cv.get(a5);var gB=cv.getObject(r);return gB!==null&&gB[gA]!==null?gB[gA]:null};cy.roistatLeadHunterShow=fk;cy.roistatRenderPhoneMask=e5;cy.roistat.leadHunter.localization.translateToRussian=function(){fF(cs)};cy.roistat.leadHunter.localization.translateToEnglish=function(){fF(aE)};cO(fG)},multiwidget:function(){var fc="roistat-multiwidget-hidden",fn="roistat-multiwidget-pulsator-phone",fl="roistat-multiwidget-pulsator-popup-item-lead-hunter",eH="roistat-multiwidget-pulsator-fill",fq="roistat-multiwidget-pulsator-fill-svg",e2="roistat-multiwidget-pulsator-img-icon",eG="roistat-multiwidget-pulsator-popup-item-chat",et="roistat-multiwidget-pulsator-popup-item-facebook",ez="roistat-multiwidget-pulsator-popup-item-vk",e1="roistat-multiwidget-pulsator-popup-item-telegram",eP="roistat-multiwidget-pulsator-popup-item-whats-app",eN="roistat-multiwidget-pulsator-popup-item-viber",e7="roistat-multiwidget-pulsator-overlay",e6="roistat-multiwidget-pulsator-items-popup-holder",eV="roistat-multiwidget-pulsator-popup-header-wrapper",e0="iframe_chat_successfully_loaded",eA="roistat-multiwidget-pulsator-popup-tail",eX="roistat-online-chat-popup-wrapper",fp="roistat-online-chat-popup-wrapper-hidden",fj="roistat-multiwidget-pulsator-holder-hidden";
var eF,e5,eQ,eJ,eL,fm,eq,ew,fo,eW,eC,es,eD,eu,ff,ev;var eM=false;var eU=true;var fk={topLeft:{bottom:"unset",right:"unset",top:dP()?0:"20px",left:dP()?0:"35px",transformOrigin:"top left"},topRight:{bottom:"unset",right:dP()?0:"35px",top:dP()?0:"20px",left:"unset",transformOrigin:"top right"},bottomRight:{bottom:bM()?0:"20px",right:bM()?"6px":"35px",top:"unset",left:"unset",transformOrigin:"bottom right"},bottomLeft:{bottom:dP()?0:"20px",right:"unset",top:"unset",left:dP()?0:"35px",transformOrigin:"bottom left"}};var ey={topLeft:{bottom:"unset",right:"unset",top:"110px",left:"0"},topRight:{bottom:"unset",right:"0",top:"110px",left:"unset"},bottomRight:{bottom:"110px",right:"0",top:"unset",left:"unset"},bottomLeft:{bottom:"110px",right:"unset",top:"unset",left:"0"}};var eO={topLeft:{"border-top-color":"white","border-right-color":"transparent","border-bottom-color":"transparent","border-left-color":"white",bottom:"unset",right:"unset",top:"-14px",left:"40px"},topRight:{"border-top-color":"white","border-right-color":"transparent","border-bottom-color":"transparent","border-left-color":"white",bottom:"unset",right:"34px",top:"-14px",left:"unset"},bottomRight:{"border-top-color":"transparent","border-right-color":"white","border-bottom-color":"white","border-left-color":"transparent",bottom:"-14px",right:"40px",top:"unset",left:"unset"},bottomLeft:{"border-top-color":"transparent","border-right-color":"white","border-bottom-color":"white","border-left-color":"transparent",bottom:"-14px",right:"unset",top:"unset",left:"34px"}};function fb(fs){z("Multiwidget: "+fs)}function eZ(){e5=ee(eF,fn);eQ=ee(eF,e6);eL=ee(eF,eV);eJ=ee(eF,e7);eW=ee(eQ,fl);fm=ee(eF,eA);eC=ee(eQ,eG);es=ee(eQ,ez);eD=ee(eQ,et);eu=ee(eQ,e1);ff=ee(eQ,eP);ev=ee(eQ,eN);eq=ee(e5,eH);ew=e5.getElementsByClassName(fq);fo=ee(e5,e2)}function fe(){if(bM()&&en(eJ)&&en(eQ)){if(eQ.classList.contains(fc)){ex(eJ)}else{e9(eJ)}}}function eI(){if(en(eQ)){eQ.classList.toggle(fc)}fe()}function fi(fs){if(en(fs)){fs.classList.toggle("opened")}}function fr(){fb("add pulsator events");em(e5,"click",function(){if(!eS()){eI()}fi(e5)});em(eL,"click",function(){if(!eS()){eI()}fi(e5);fe()});em(eJ,"click",function(){if(!eS()){eI()}fi(e5);fe()});em(eW,"click",function(){fb("opening leadhunter via multiwidget");cy.roistatLeadHunterShow();eI();d3(e5,"opened",false)});em(eC,"click",function(){fb("opening online chat via multiwidget");cy.roistatOnlineChatShow();eI()});em(es,"click",function(){cy.open(cv.get(c5),"_blank")});em(eD,"click",function(){cy.open(cv.get(ds),"_blank")});em(eu,"click",function(){cy.open(cv.get(bA),"_blank")});em(ff,"click",function(){cy.open(cv.get(bR),"_blank")});em(ev,"click",function(){cy.open(cv.get(cT),"_blank")})}function eS(){var fs=ee(M,eX);return en(fs)&&!fs.classList.contains(fp)}function eT(){return en(e6)&&!e6.classList.contains(fc)}function ex(fs){if(en(fs)){fs.classList.add(fc)}}function e9(fs){if(en(fs)){fs.classList.remove(fc)}}function e3(){ex(eW)}function eR(){fb("hiding disabled multiwidget options");var fs=Number(cv.get(bT)),ft=Number(cv.get(cf)),fv=Number(cv.get(U)),fy=Number(cv.get(cQ)),fu=Number(cv.get(c1)),fx=Number(cv.get(dV));var fw=0;if(!fs||!d2||!dW){fb("hiding leadhunter option");e3()}if(!d6()||!eM){fb("hiding online chat option");ex(eC)}if(d6()){fw++}if(!ft){fb("hiding vk-messenger option");ex(es)}else{fw++}if(!fv){fb("hiding fb-messenger option");ex(eD)}else{fw++}if(!fy){fb("hiding telegram-messenger option");ex(eu)}else{fw++}if(!fu){fb("hiding whatsApp-messenger option");ex(ff)}else{fw++}if(!fx){fb("hiding Viber-messenger option");ex(ev)}else{fw++}eU=fw>1;if(bM()&&eU){fb("hiding popup header");e9(eL)}}function er(){var ft=cv.getObject(f);fb("start filling pulsator");if(ft){if(en(eq)){eq.setAttribute("style","background: "+ft.button_color+";")}if(en(fo)){fo.setAttribute("style","fill: "+ft.icon_color+";")}if(HTMLCollection.prototype.isPrototypeOf(ew)){for(var fs=0;fs<ew.length;fs++){ew[fs].setAttribute("style","fill: "+ft.button_color+";")}}}}function e8(){var fs=cv.getObject(f);return fs!==null&&typeof fs.position==="string"&&fs.position!==""?fs.position:"bottomRight"}function e4(){if(en(eF)){var fs=e8();eF.setAttribute("style","top: "+fk[fs].top+";right:"+fk[fs].right+";bottom:"+fk[fs].bottom+";left:"+fk[fs].left+";");eF.style.transformOrigin=fk[fs].transformOrigin;eF.style.transform=ej()}}function eK(){if(en(e5)){var fs=e8();var ft="transform: "+d1()+";";var fu=fs==="topLeft"||fs==="bottomLeft"?"margin-right":"margin-left";e5.setAttribute("style",fu+": auto;"+ft)}}function fa(){if(en(eQ)){var fs=e8();var ft=bM()?"0":ey[fs].bottom;var fu=bM()?"unset":ey[fs].top;eQ.setAttribute("style","top: "+fu+";right:"+ey[fs].right+";bottom:"+ft+";left:"+ey[fs].left+";")}}function eB(){if(en(fm)){var fs=e8();fm.setAttribute("style","top: "+eO[fs].top+";right:"+eO[fs].right+";bottom:"+eO[fs].bottom+";left:"+eO[fs].left+";border-top-color:"+eO[fs]["border-top-color"]+";border-right-color:"+eO[fs]["border-right-color"]+";border-bottom-color:"+eO[fs]["border-bottom-color"]+";border-left-color:"+eO[fs]["border-left-color"]+";")
}}function fg(){e4();eK();if(!bM()){fa();eB()}}function eE(){if(M.body===null){return}var ft=cB.decode(cv.get(dm));if(ft){fb("appending multiwidget pulsator");var fs=M.createElement("div");fs.innerHTML=ft;eF=fs.childNodes.item(0);if(!cy.roistat.multiwidget.isVisible){fb("Hide widget");eF.className=eF.className+" "+fj}M.body.appendChild(eF);eZ();eR();er();fg();fr()}}function eY(){var fy=cv.getObject(au);if(!fy){var fA=parseInt(cv.get(bm));fA=!isNaN(fA)?Boolean(fA):roistat.multiwidget.isEnabled;var ft=Boolean(parseInt(cv.get(cf)))||roistat.multiwidget.vk.isEnabled;var fC=cv.get(c5);fC=fC!=="null"?fC:roistat.multiwidget.vk.link;var fx=Boolean(parseInt(cv.get(U)))||roistat.multiwidget.fb.isEnabled;var fB=cv.get(ds);fB=fB!=="null"?fB:roistat.multiwidget.fb.link;var fu=Boolean(parseInt(cv.get(cQ)))||roistat.multiwidget.telegram.isEnabled;var fD=cv.get(bA);fD=fD!=="null"?fD:roistat.multiwidget.telegram.link;var fs=Boolean(parseInt(cv.get(c1)))||roistat.multiwidget.whatsApp.isEnabled;var fw=cv.get(bR);fw=fw!=="null"?fw:roistat.multiwidget.whatsApp.link;var fz=Boolean(parseInt(cv.get(dV)))||roistat.multiwidget.viber.isEnabled;var fv=cv.get(cT);fv=fv!=="null"?fv:roistat.multiwidget.viber.link;fy={is_enabled:fA,vk:{is_enabled:ft,link:fC},fb:{is_enabled:fx,link:fB},telegram:{is_enabled:fu,link:fD},whats_app:{is_enabled:fs,link:fw},viber:{is_enabled:fz,link:fv}}}db(fy)}function fd(){an(cy,"message",function ft(fw){var fv=typeof fw.data==="string"?fw.data:fw.data.message;if(fv===e0){eM=true;e9(eC)}});function fu(){if(en(eF)){eF.style.transform=ej();fa();eB();if(!bM()){ex(eJ);ex(eL);e9(fm)}else{fe();ex(fm);if(eU){e9(eL)}}}}an(cy,"resize",fu);if(eb){an(eo,"resize",fu)}function fs(){if(en(e5)){e5.classList.toggle("opened")}}cy.roistatToggleMultiwidgetState=fs}function fh(){eY();cb();fd();fb("activated");dl(function(){eE();if(typeof cy.onRoistatMultiwidgetInited==="function"){cy.onRoistatMultiwidgetInited()}})}d7=e3;cO(fh)},onlineChat:function(){var fK="iframe-module-created",eG="iframe_chat_successfully_loaded",fN="iframe_resize",eu="iframe-online-chat-opened",eC="iframe-online-chat-invite-message",f9="iframe-delivered-messages",fO="roistat-online-chat-init",fI="roistat-online-chat-init-with-text",fr="roistat-online-chat-open",fD="roistat-online-chat-close",gh="roistat-online-chat-reload",f1="roistat-online-chat-update-custom-params",eZ="roistat-online-chat-lead_successfully_sent",fT="roistat-online-chat-translate-form",fa="roistat-online-chat-send-lead",f4="roistat_chat_id",gg="roistat_chat_session",fL="roistat_chat_custom_position",fu="roistat-online-chat-page-resized",eQ=10*365*24*60*60,eT,eH,f5,eD,eK,f2,fA,e4,fy;var fq="roistat-online-chat-popup-iframe",e7="roistat-online-chat-hidden",f6="roistat-online-chat-holder",f0="roistat-online-chat-popup-wrapper",fX="roistat-multiwidget-pulsator-phone",ev="roistat-multiwidget-pulsator-popup-item-chat",fx="roistat-online-chat-popup-wrapper-hidden",e5="roistat-online-chat-popup-mouse-track",fp="roistat-online-chat-popup-mouse-track-active",e9="roistat-online-chat-pulsator-fill",f3="roistat-online-chat-pulsator-img",fh="roistat-online-chat-pulsator-phone",gk="roistat-online-chat-pulsator-circle",eB="."+gk,fW="roistat-online-chat-pulsator-notification-circle",gi="."+fW,eX="roistat-online-chat-pulsator-fill-svg",fw="roistat-online-chat-popup-spacer",eP=".roistat-multiwidget-pulsator-items-popup",eL=".roistat-online-chat-pulsator-phone",fm=".roistat-online-chat-popup-wrapper",eS="roistat-online-chat-full-screen";var e1=99;var fZ="roistat-online-chat-pulsator-notification-limit";var e6=false,gj=false,eI=false,e8=false,gm=false,fB=0,ez=0;var fP={};var ft=".roistat-online-chat-holder";var fg="roistat-online-chat-holder-hidden";if(ea()){ft=".roistat-multiwidget-pulsator-holder";fg="roistat-multiwidget-pulsator-holder-hidden";gk="roistat-multiwidget-pulsator-circle";eB="."+gk;fW="roistat-multiwidget-pulsator-notification-circle";gi="."+fW;fZ="roistat-multiwidget-pulsator-notification-limit"}var ga;var gf={topLeft:{bottom:"unset",right:"unset",top:bM()?"10px":"20px",left:bM()?"24px":"35px"},topRight:{bottom:"unset",right:bM()?"24px":"35px",top:bM()?"10px":"20px",left:"unset"},bottomRight:{bottom:bM()?"10px":"20px",right:bM()?"24px":"35px",top:"unset",left:"unset"},bottomLeft:{bottom:bM()?"10px":"20px",right:"unset",top:"unset",left:bM()?"24px":"35px"}};var gp=function(){return{topLeft:{top:bM()?"unset":"130px",right:"unset",bottom:bM()?"0px":"unset",left:bM()?0:"65px"},topRight:{top:bM()?"unset":"130px",right:bM()?0:"65px",bottom:bM()?"0px":"unset",left:"unset"},bottomRight:{top:"unset",right:bM()?0:"65px",bottom:bM()?0:"130px",left:"unset"},bottomLeft:{top:"unset",right:"unset",bottom:bM()?0:"130px",left:bM()?0:"65px"}}};var f7={topLeft:{top:"unset",bottom:"0",height:"20px"},topRight:{top:"unset",bottom:"0",height:"20px"},bottomLeft:{top:"0",bottom:"unset",height:"50px"},bottomRight:{top:"0",bottom:"unset",height:"50px"}};var fH=function(gq){z("onlineChat: "+gq)};var eY=function(){function gq(){return Math.random().toString(36).substr(2,8)
}return gq()+gq()+gq()+gq()};var fv=function(){var gq=M.querySelector('meta[name="viewport"]');if(en(gq)){return gq.getAttribute("content")}return null};var eA=fv();var fC="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no";var eJ=function(){var gq=i(gg);if(!gq){gq=cv.get(gg)}if(!gq){gq=eY();var gr={expires:eQ,path:"/"};if(da.domain){gr.domain=da.domain}cv.save(gg,gq,gr)}return gq};var ey=function(){var gq={message:fK,detail:{version:ac,language:s,projectKey:bf(),visitId:cP(),firstVisit:cv.get(a7),chatId:i(f4),moduleTargetOrigin:cy.location.origin,referrer:cy.location.href,params:eh,sessionUniqueKey:eJ(),isOpened:f8(),isMobile:bM()}};f2.contentWindow.postMessage(gq,f2.src)};var eU=function(){var gq={message:eu,detail:{isOpened:f8(),isMobile:bM()}};f2.contentWindow.postMessage(gq,f2.src)};var eW=function(){var gq={message:f1,detail:{params:eh,isMobile:bM()}};f2.contentWindow.postMessage(gq,f2.src)};var er=function(){var gq={language:s,message:fT};f2.contentWindow.postMessage(gq,f2.src)};var e0=function(gr){var gq={message:fI,detail:{message:gr,isMobile:bM()}};f2.contentWindow.postMessage(gq,f2.src)};var go=function(gq){var gr={message:fr,detail:{chatId:gq,isMobile:bM()}};f2.contentWindow.postMessage(gr,f2.src)};var eO=function(){cy.focus();if(typeof cy.roistatOnlineChatToggle==="function"){cy.roistatOnlineChatToggle()}if(typeof cy.roistatToggleMultiwidgetState==="function"){cy.roistatToggleMultiwidgetState()}eE(ga)};var eR=function(){var gq={message:fu,detail:{isMobile:bM()}};f2.contentWindow.postMessage(gq,f2.src)};var eM=function(gq){var gr={message:fN,isFullScreen:gm,iframeStyles:gq};f2.contentWindow.postMessage(gr,f2.src)};var fV=function(gq){var gr={expires:eQ,path:"/"};if(da.domain){gr.domain=da.domain}df(f4,{path:"/"});dG(f4,gq,gr)};var fU=function(){an(cy,"message",function gq(gt){var gs=typeof gt.data==="string"?gt.data:gt.data.message;var gr=typeof gt.data!=="string"?gt.data.detail:{};fH("event: "+gs+" "+JSON.stringify(gr));switch(gs){case eG:fY();cy.setRoistatOnlineChatCustomParams=fd;fd(eh);if(typeof cy.onRoistatOnlineChatInited==="function"){cy.onRoistatOnlineChatInited()}break;case fK:gj=true;ey();if(eI){eI=false;if(en(f5)){f5.classList.remove(fx);eU()}}break;case fO:fH("saving chat id = "+gr.chatId);fV(gr.chatId);break;case fI:fH("saving chat with text id = "+gr.chatId);if(cy.onRoistatChatInit!==bS&&typeof cy.onRoistatChatInit==="function"){cy.onRoistatChatInit(gr.chatId)}fV(gr.chatId);cy.roistatOnlineChatShow();break;case fr:fH("saving chat id by open chat = "+gr.chatId);fV(gr.chatId);cy.roistatOnlineChatShow();break;case fD:eO();break;case eC:fH("rendering invite message");fQ(gr.message);break;case f9:fH("get delivered messages");gn(gr.messages);break;case fN:gm=gt.data.isFullScreen;if(bM()){eM({});return}Object.assign(fP,{width:f2.getBoundingClientRect().width,height:f2.getBoundingClientRect().height,borderRadius:cy.getComputedStyle(f2).borderRadius});f2.classList.toggle(eS,gm);f2.style.transition="unset";if(gm){Object.assign(fP,{top:f5.style.top,right:f5.style.right,bottom:f5.style.bottom,left:f5.style.left});f5.style.top=0;f5.style.right=0;f5.style.bottom=0;f5.style.left=0;f5.style.transition="unset"}else{f5.style.top=fP.top;f5.style.right=fP.right;f5.style.bottom=fP.bottom;f5.style.left=fP.left;fP={};setTimeout(function(){f2.style.transition="height 0.5s ease-in";f5.style.transition="all 0.3s"},30)}eM(fP);break;case fa:fH("sending lead");eV(gr.leadData)}})};var fc=function(){var gr=cy.roistat.onlineChat.notificationsCustomHolderSelector;var gq=gr!==null;return M.querySelector(gq?gr:ft)};var eV=function(gq){cy.roistatGoal.reach(gq,function(){f2.contentWindow.postMessage(eZ,f2.src)})};var fQ=function(gx){if(f8()){return}var gs="<div class='roistat-online-chat-message'><img src='"+gx.operator.avatar+"' class='roistat-online-chat-message-avatar'></img><div class='roistat-online-chat-message-content'><div class='roistat-online-chat-message-name'><span class='roistat-online-chat-message-name-text'>"+gx.operator.name+"</span><div class='roistat-online-chat-message-name-online-status'></div></div><div class='roistat-online-chat-message-text'>"+gx.text+"</div></div><div class='roistat-online-chat-message-close'>х</div></div>";var gw=M.createElement("div");gw.innerHTML=gs;var gv=fc();if(en(gv)){var gy=fz()?"beforeend":"afterbegin";gv.insertAdjacentHTML(gy,gs);var gu=gv.getElementsByClassName("roistat-online-chat-message-close");var gq=gv.getElementsByClassName("roistat-online-chat-message");var gt=gu[fz()?gu.length-1:0];var gr=gq[fz()?gu.length-1:0]}setTimeout(function(){gr.remove()},15000);em(gr,"click",function(gz){gz.stopPropagation();if(!f8()){fS()}gb()});em(gt,"click",function(gz){gz.stopPropagation();gr.remove()})};var gn=function(gs){var gw=fc();if(en(gw)){var gx=gw.querySelector(eB);var gr=gw.querySelector(gi);var gv=gs>e1;var gu=gv?e1+"+":gs;if(gr&&!gs){gr.remove();return}if(gr){gr.textContent=gu;gr.classList.toggle(fZ,gv);return}if(gs){var gq=gv?fZ:"";
var gt='<div class="'+fW+gq+'">'+gu+"</div>";gx.insertAdjacentHTML("beforebegin",gt)}}};var gb=function(){var gr=fc();if(en(gr)){var gq=gr.getElementsByClassName("roistat-online-chat-message");while(gq.length>0){gq[0].remove()}}};var ge=function(){f2=M.getElementById(fq);if(en(f2)){em(f2,"load",function(){fo()})}em(M,"click",function(gv){var gu=cy.roistat.onlineChat.customTriggerSelector;if(ea()){var gw=ee(M,fX);var gt=ee(M,ev);var gs=f8()&&gv.target!==gt&&!gt.contains(gv.target);if(gs){d3(gw,"opened",false)}}else{var gq=ee(M,f6);var gr=f8()&&gv.target!==gq&&!gq.contains(gv.target);if(gr){d3(gq,"opened",false)}}if(f8()&&(gv.target.closest(eP)===null&&gv.target.closest(fm)===null&&gv.target.closest(eL)===null&&(gu?gv.target.closest(gu)===null:true))){fS()}})};var es=function(gs){var gr=f5.getBoundingClientRect().x;var gq=f5.getBoundingClientRect().y;e8=true;ex();fB=gs.pageX-gr;if(fz()){ez=gs.pageY+gq}else{ez=gs.pageY-gq}};var ff=function(){e8=false;fR();e2()};var ex=function(){if(en(eH)){eH.classList.add(fp)}};var fR=function(){if(en(eH)){eH.classList.remove(fp)}};var fE=function(gy){if(e8&&en(f5)){var gq=f5.getBoundingClientRect();var gx=gq.width;var gw=400;var gr=50;var gB=0;var gt=cy.innerHeight-gw;var gz=gy.pageX-fB;var gv=gr;var gs=cy.innerWidth-gr-gx;if(fz()){gB=cy.innerHeight-(gy.pageY+gq.y)-20}else{gB=gy.pageY-ez}var gA=gd();var gu=gA==="bottomLeft"||gA==="bottomRight"?"top":"bottom";if(gz>=gv&&gz<=gs){f5.style.left=gz+"px";if(!gl()){f5.style.right="unset"}}if(gB>=50&&gB<=gt){f5.style[gu]=gB+"px"}}};var e2=function(){var gq={position:gd(),top:f5.style.top,left:f5.style.left,bottom:f5.style.bottom,right:f5.style.right};cv.setObject(fL,gq)};var gd=function(){var gq=cv.getObject(f);var gr=gq!==null&&typeof gq.position==="string"&&gq.position!=="";return gr?gq.position:"bottomRight"};var fz=function(){var gq=gd();return gq==="topLeft"||gq==="topRight"};var gl=function(){var gq=gd();return gq==="topLeft"||gq==="bottomLeft"};var e3=function(gr){var gq=Math.max(gr*ep(),gr)+"px";eD.style.height=gq;eD.style.marginBottom="-"+gr+"px"};var eF=function(){var gu=gd();var gx=cy.roistat.onlineChat.customPosition;var gw=gp();var gA=gx&&gx.top!==null?gx.top:gw[gu].top;var gs=gx&&gx.right!==null?gx.right:gw[gu].right;var gq=gx&&gx.bottom!==null?gx.bottom:gw[gu].bottom;var gt=gx&&gx.left!==null?gx.left:gw[gu].left;f5=ee(eT,f0);if(en(f5)){f5.classList.add(fx);f5.setAttribute("style","visibility: hidden;top: "+gA+";right:"+gs+";bottom:"+gq+";left:"+gt+";");eD=ee(eT,fw);if(en(eD)){var gy=parseInt(gA==="unset"?gq:gA);e3(gy);var gz=function(){if(bM()){f5.style.height=cy.visualViewport.height+"px"}else{f5.style.height="unset"}};gz();cy.addEventListener("resize",function gr(){e3(gy);gz();eR()});if(eb){eo.addEventListener("resize",function gv(){e3(gy);gz();eR()})}}}};var gc=function(){var gq=gd();var gr=function(){if(en(f5)&&!gm){var gu=gp();f5.style.right=gu[gq].right;f5.style.left=gu[gq].left;f5.style.top=gu[gq].top;f5.style.bottom=gu[gq].bottom}};cy.addEventListener("resize",function gt(){gr()});if(eb){eo.addEventListener("resize",function gs(){gr()})}};var fe=function(){if(en(eH)){var gq=gd();eH.setAttribute("style","top: "+f7[gq].top+";bottom:"+f7[gq].bottom+";height:"+f7[gq].height+";")}};var fb=function(){if(en(ga)){var gq=gd();ga.setAttribute("style","top: "+gf[gq].top+";right:"+gf[gq].right+";bottom:"+gf[gq].bottom+";left:"+gf[gq].left+";")}};var fj=function(){if(M.body===null){return}fH("iframe appending to page");var gq=cB.decode(cv.get(D));eT=M.createElement("div");eT.innerHTML=gq;M.body.appendChild(eT);eH=ee(M,e5);eF();gc();ge()};var fl=function(){var gr=cv.getObject(f);fH("start filling pulsator");if(gr){if(en(fA)){fA.setAttribute("style","background: "+gr.button_color+";")}if(en(e4)){e4.setAttribute("style","fill: "+gr.icon_color+";")}if(HTMLCollection.prototype.isPrototypeOf(fy)){for(var gq=0;gq<fy.length;gq++){fy[gq].setAttribute("style","fill: "+gr.button_color+";")}}}};var fY=function(){if(M.body===null){return}var gr=cB.decode(cv.get(bC));var gt=!cZ()&&cy.roistatOnlineChatOnly;var gs=(gr&&!ea()&&d6())||gt;if(gs){fH("pulsator appending to page");var gq=M.createElement("div");gq.innerHTML=gr;ga=gq.childNodes.item(0);if(!cy.roistat.multiwidget.isVisible){fH("Hide widget");ga.className=ga.className+" "+fg}fA=ee(ga,e9);e4=ee(ga,f3);eK=ee(ga,fh);fy=M.getElementsByClassName(eX);M.body.appendChild(ga);fb();eN();fl()}};var eN=function(){if(en(ga)){em(ga,"click",function(){fS();eE(ga)})}};function eE(gq){if(en(gq)){gq.classList.toggle("opened")}}var f8=function(){return en(f5)&&!f5.classList.contains(fx)};function fs(){var gq=M.querySelector("#roistat-theme-color");if(en(gq)){gq.remove()}}function ew(){var gq=M.createElement("meta");if(en(gq)){gq.setAttribute("name","theme-color");gq.setAttribute("content","#2589FF");gq.setAttribute("id","roistat-theme-color");M.head.prepend(gq)}}var fJ=function(){if(!f8()){fs();fn();return}var gq=Boolean(M.querySelector("#roistat-theme-color"));if(a3.Android()||a3.iOS()){fM();if(!gq){ew()
}}};var fM=function(){var gq=M.querySelector('meta[name="viewport"]');if(!en(gq)){gq=M.createElement("meta");gq.setAttribute("name","viewport");M.head.appendChild(gq)}gq.setAttribute("content",fC)};function fn(){var gq=M.querySelector('meta[name="viewport"]');if(en(gq)&&eA!==null){gq.setAttribute("content",eA);return}if(en(gq)){gq.remove()}}var fS=function(){setTimeout(function(){e8=false},3000);if(en(f5)){f5.classList.toggle(fx);fJ()}if(f8()){gb()}eU()};var fG=function(){var gq=fc();if(en(gq)){gq.classList.toggle(fg)}};var fi=function(gq){s=gq;if(!en(f2)){return}er()};var fk=function(gq){if(!en(f2)){return}e0(gq)};var eq=function(gq){if(!en(f2)){return}go(gq)};var fo=function(){e6=true;var gq=function(){setTimeout(function(){fS()},0)};cy.roistatOnlineChatShow=gq;cy.roistatOnlineChatToggle=gq;cy.roistatMultiwidgetShow=fG;fH("chat window initialized")};function fd(gq){dX(gq);eW()}function et(){var gq=cv.getObject(C);if(typeof gq!=="object"||gq===null||typeof gq.auto_open_chat!=="object"||!gq.auto_open_chat.is_enabled){return}setTimeout(function(){if(!gj){eI=true;return}if(en(f5)){f5.classList.remove(fx);eU()}},gq.auto_open_chat.delay_in_seconds*1000)}function fF(){cb();dl(function(){fj();fU();et()})}cy.roistat.onlineChat.actions.initWithMessage=fk;cy.roistat.onlineChat.actions.openChat=eq;cy.roistat.onlineChat.localization.translateToRussian=function(){fi(cs)};cy.roistat.onlineChat.localization.translateToEnglish=function(){fi(aE)};cy.roistat.onlineChat.localization.translate=function(gt){var gs=cI[cs].includes(gt),gr=cI[aE].includes(gt),gq=gt;if(gs){gq=cs}if(gr){gq=aE}fi(gq)};cO(fF)}};function ed(eq){z("Widgets: "+eq)}function e(eq){return eq!==el}function dX(es){var er=Object.keys(es);for(var eq=0;eq<er.length;eq++){eh[er[eq]]=es[er[eq]]}}function ea(){var ey=Number(cv.get(bT)),er=ey&&d2&&dW,eC=Number(cv.get(bm)),eu=d6(),ez=Number(cv.get(cf)),ev=Number(cv.get(U)),eq=Number(cv.get(cQ)),et=Number(cv.get(c1)),eB=Number(cv.get(dV)),eA=er||eu||ez||ev||eq||et||eB,es=er&&!eu&&!ez&&!ev&&!eq&&!et&&!eB,ex=eu&&!er&&!ez&&!ev&&!eq&&!et&&!eB,eD=!cZ()&&cy.roistatOnlineChatOnly,ew=cZ()&&dJ();z("Is online chat only: "+eD);z("Is rp: "+eD);return eC&&eA&&!ex&&!es&&!eD&&!ew}function d6(){var eq=Number(cv.get(c2));if(!eq){z("OnlineChat: Online chat is disabled");return false}var er=cv.getObject(C);if(er===null){return false}if(!er.is_available_for_current_user_agent){z("OnlineChat: Current device group is disabled");return false}if(!er.pages_filter.is_enabled){z("OnlineChat: Pages filter is disabled");return true}return bW(er.pages_filter.pages.join(","))}function d7(){ed("Multiwidget disabled. Hide leadhunter pulsator from module")}function dZ(eq,es,er){cv.set(cd,cB.encode(eq));cv.set(bG,cB.encode(es));cv.setObject(cc,er)}function d5(er,eq){cv.set(dm,cB.encode(er));cv.setObject(f,eq)}function d4(es,eq,er){cv.set(bC,cB.encode(es));cv.set(D,cB.encode(eq));cv.set(c2,er)}function d9(eq,es,er){dZ(eq,es,er);cv.set(dm,cB.encode(el));cv.set(D,cB.encode(el));ec=false;ei.leadHunter()}function dY(eB,ex,ev){var es=eB.form_template,eC=eB.pulsator_template,eu=eB.pulsator_settings;if(dJ()){d9(es,eC,eu);return}ed("start initing widgets");var ey=ev.pulsator_template,et=ev.iframe_template,eA=ex.pulsator_template,eq=ex.pulsator_settings,ew=Number(cv.get(bT)),er=Number(ev.settings.is_enabled),ez=cv.getObject(r)!==null;dZ(es,eC,eu);d5(eA,eq);d4(ey,et,er);if(ez){cv.set(cd,cB.encode(d0()))}ec=true;if(ew&&!aS()){ed("leadhunter enabled. Start processing");ei.leadHunter()}if(d6()){ed("online chat enabled. Start processing");ei.onlineChat()}if(ea()){ed("multiwidget enabled. Start processing");ei.multiwidget()}}var d0=function(){var eq=bk()+"//"+x+"/api/site/1.0/"+bf()+"/leadhunter/script/"+cv.get(a5)+"/widget";return'<div class="roistat-lh-popup-wrapper" data-is-iframe="1"><iframe id="roistat-lh-popup-iframe" class="roistat-lh-popup-iframe" src="'+eq+'" frameborder="0"></iframe></div>'};function ek(){var es=cv.get(cd),eD=cv.get(bG),eu=cv.getObject(cc),ex=Number(cv.get(bT)),ey=cv.get(bC),et=cv.get(D),er=cv.get(c2),eA=cv.get(dm),eq=cv.getObject(f);cy.roistatLeadhunterForm=d9;cy.roistatMultiwidget=dY;if(!es||!eD||!eu||!eA||!eq||!ey){ed("requesting data from server");if(ea()||d6()||ex){a6(bk()+"//"+x+"/api/site/"+ap+"/"+bf()+"/multiwidget?domain="+encodeURIComponent(M.domain))}}else{var eC=cB.decode(eA);var ez=cB.decode(et);if((!e(eC)||!e(ez)||dJ())&&!aS()){ed("initing LeadHunter form");cy.roistatLeadhunterForm(cB.decode(es),cB.decode(eD),eu)}else{ed("initing multiwidget form");var ev={pulsator_template:eC,pulsator_settings:eq},ew={form_template:cB.decode(es),pulsator_template:cB.decode(eD),pulsator_settings:eu},eB={iframe_template:ez,pulsator_template:cB.decode(ey),settings:{is_enabled:Number(er)}};cy.roistatMultiwidget(ew,ev,eB)}}}function d8(){ek();ed("form initialized")}function eg(){ed("activated");d8()}cO(eg);cy.setRoistatOnlineChatCustomParams=dX;cy.roistatSaveLeadHunterTemplates=dZ;cy.roistatSaveMultiwidgetTemplate=d5;cy.roistatSaveOnlineChatTemplate=d4
})();(function t(){var d9=function(){return i(dN)};var dZ=function(){return i(V)};var d7=function(){return cv.get(bu)};var d0=function(){return cv.get(bI)};var ed=function(ef){return ef!=null&&ef!==bS&&ef!==""};var ec=function(){var ef=[];var eg=M.getElementsByClassName(az);if(eg&&eg.length){ef=eg}return ef};var dX=function(){var ef=[];var eg=M.getElementsByClassName(L);if(eg&&eg.length){ef=eg}return ef};var dW=function(){var ef=[];var eg=M.getElementsByClassName(ar);if(eg&&eg.length){ef=eg}return ef};var d2=function(){var ef=[];var eg=M.getElementsByClassName(O);if(eg&&eg.length){ef=eg}return ef};var d5=function(){var ef=[];var eg=M.getElementsByClassName(dF);if(eg&&eg.length){ef=eg}return ef};var e=function(em,en,ek){z("CallTracking: RenderPhone phone = "+em);var eg=function(ez){return ez.split(/[^0-9]/).join("")};var ev=function(eC,eE){var eH=null;if(!eC){return eH}var ez=eE.split(",");if(ez.length<2){eH=eE}else{var eA=eC.getAttribute("data-prefix");if(eA){for(var eD=0;eD<ez.length;eD++){var eF=ez[eD];var eG=eg(eF);if(eG.indexOf("8")===0){eG="7"+eG.substring(1)}var eB=eG.split(eA)[0]==="";if(eB){eH=eF;break}}}if(eH===null){eH=ez[0]}z("CallTracking._getPhoneForElement: Prepared phone = "+eH+" for data-prefix = "+eA)}return eH};var ew=function(eE,eC,eB){var eF=ev(eE,eC);var ez=eB||eF;if(!ez||!eE){return}if(eE.tagName.toLowerCase()!=="a"){return}var eD=eE.getAttribute("href");if(dq(eD,"tel:")){var eA=eB;if(!eA){eA=eg(ez);if(eA.indexOf("8")===0){eA="7"+eA.substring(1)}}eE.setAttribute("href","tel:+"+eA);ei(eE,eF)}};var ei=function(eA,ez){if(!eA.hasAttribute("title")){return}eA.setAttribute("title",ez)};var eq=function(eB,eA){var ez=ev(eB,eA);if(!ez||!eB){return}eB.innerHTML=ez};var eh=/^\D*(\d+)(?:[(|\s])/;var el=/\((\d+)\)|\s(\d+)\s/;var ej=/(\(\d+\)|\s\d+\s)(.+)/;var er=function(eB,eE){var eA=ev(eB,eE);var eD=eA.match(eh);var eC=bF(eD)?eD[1]:"";var eF=eA.match(el);var ez=(bF(eF)?(eF[1]||eF[2]):"").trim();var eG=eA.match(ej);var eH=(bF(eG)?eG[2]:"").trim();return{country:eC,region:ez,number:eH}};var ex=function(eA,ez){var eB=ec();z("CallTracking: render phone default classes for "+eB.length+" elements");q(eB,function(eC){eq(eC,eA);ew(eC,eA,ez)});q(dX(),function(eD){var eC=er(eD,eA).country;eq(eD,eC)});q(dW(),function(eD){var eC=er(eD,eA).region;eq(eD,eC)});q(d2(),function(eC){var eD=er(eC,eA).number;eq(eC,eD)});q(d5(),function(eC){ew(eC,eA,ez)})};var et=function(eF,eA,eB){if(!eB){return}z("CallTracking: render phone user replacement for "+eB.length+" replacements");for(var eD=0;eD<eB.length;eD++){var eG=eB[eD];if(!eG){continue}var eH=eG[0];eG=eG.substr(1);var ez=[];if(eH==="#"){var eE=M.getElementById(eG);if(eE!==null){ez.push(eE)}}else{ez=M.getElementsByClassName(eG);ey(eG,eF,eA)}if(!ez||ez.length<1){continue}z("CallTracking: render phone for "+eG+", "+ez.length+" elements");for(var eC=0;eC<ez.length;eC++){eq(ez[eC],eF);ew(ez[eC],eF,eA)}}};var es=function(ez){for(var eA=0;eA<ez.length;eA++){et(ez[eA].phone,ez[eA].raw_phone,ez[eA].css_selectors);ep(ez[eA].phone,ez[eA].raw_phone,ez[eA].replaceable_numbers)}};var ep=function(eC,eB,eA){if(!eA||eA.length===0){return}var ez=function(){var eN=eG();var eM=M.getElementsByTagName("*");var eH=eM.length;for(var eL=0;eL<eH;eL++){var eO=eM[eL];eD(eO,eN,ev(eO,eC));var eK=eO.childNodes.length;for(var eI=0;eI<eK;eI++){var eJ=eO.childNodes[eI];eF(eJ,eN,ev(eJ,eC))}}};var eD=function(eL,eK,eH){if(!eE(eL)){return}var eM=eL.getAttribute("href").replace("tel:","");var eJ=eK.length;for(var eI=0;eI<eJ;eI++){if(eK[eI].test(eM)){ew(eL,ev(eL,eH),eB)}}};var eE=function(eI){if(eI.tagName.toLowerCase()!=="a"){return false}var eH=eI.getAttribute("href");return ba(eH)&&eH.indexOf("tel:")===0};var eG=function(){var eJ=[];for(var eH=0;eH<eA.length;eH++){var eI="[\\s()[\\]{}\\-+.]*";var eK=eA[eH].split("").join(eI);eJ.push(new RegExp("[+(]?"+eK,"g"))}return eJ};var eF=function(eK,eJ,eH){if(eK.nodeType!==Node.TEXT_NODE){return}for(var eI=0;eI<eJ.length;eI++){if(eK.textContent&&eJ[eI].test(eK.textContent)){eK.textContent=eK.textContent.replace(eJ[eI],eH)}else{if(eK.innerText&&eJ[eI].test(eK.innerText)){eK.innerText=eK.innerText.replace(eJ[eI],eH)}}}};ez()};var ey=function(eB,eA,ez){q(eu(eB+"-"+b1),function(eD){var eC=er(eD,eA).country;eq(eD,eC)});q(eu(eB+"-"+aY),function(eD){var eC=er(eD,eA).region;eq(eD,eC)});q(eu(eB+"-"+bt),function(eC){var eD=er(eC,eA).number;eq(eC,eD)});q(eu(eB+"-"+cj),function(eC){ew(eC,eA,ez)})};var eu=function(eA){var ez=[];var eB=M.getElementsByClassName(eA);if(eB&&eB.length){ez=eB}return ez};var eo=function eo(){var eA=d0();if(eA){eA=eA.split("\n");for(var ez=0;ez<eA.length;ez++){eA[ez]="."+eA[ez]}}if(ek instanceof Array){es(ek)}else{ex(em,en);et(em,en,eA)}};(function ef(){eo();var ez=[300,5000,15000];ez.forEach(function(eA){setTimeout(eo,eA)})})()};var dY=function(ef){cv.save(n,ef,da)};var d8=function(){if(cy.roistat.callTracking.phone){var ef={expires:parseInt(cy.roistat.callTracking.sessionTime),path:"/"};if(da.domain){ef.domain=da.domain}dG(dN,cy.roistat.callTracking.phone,ef);
dG(V,cy.roistat.callTracking.rawPhone,ef);dY(1);cv.save(bI,cy.roistat.callTracking.replacementClasses,da);cv.save(bu,cy.roistat.callTracking.phoneScriptsJson,da)}};var d6=function(eh,el,ej,ei,eg){z("CallTracking: reuse phone "+eh+" for time "+el+" and replacements "+ej);var ef='script[data-roistat-script-id="'+aa+'"]';M.querySelectorAll(ef).forEach(function(eo,en){if(en===0){return}eo.remove()});z("CallTracking: all old scripts removed");if(!ed(eh)){z("CallTracking: new phone is invalid");roistat.callTracking.phone=null;dt();return}roistat.callTracking.enabled=1;roistat.callTracking.phone=eh;roistat.callTracking.sessionTime=el;roistat.callTracking.replacementClasses=ej;roistat.callTracking.phoneScriptsJson=ei;roistat.callTracking.rawPhone=eg;dt();d8();var em={expires:parseInt(el),path:"/"};if(da.domain){em.domain=da.domain}dG(dN,eh,em);dG(V,eg,em);cv.save(bu,ei,da);cv.save(bI,ej,da);var ek=dy(ei);e(eh,eg,ek)};var d1=function(){z("CallTracking: request new phone");var ef=i(co);var ej=av();var ei=ej?ej:bJ;var eh=encodeURIComponent(cM);var eg=S()+"/get-phone?visit="+ef+"&marker="+(ei?ei:"")+"&prefix="+cW+"&prefix_bind="+dO+"&phone_scripts_bind="+X+"&page="+eh;a6(eg,aa)};var d3=function(){cW=cy.roistatPhonePrefix?cy.roistatPhonePrefix:"";dO=cy.roistatPhonePrefixBind?cy.roistatPhonePrefixBind:"";X=cy.roistatCalltrackingScripts&&cy.roistatCalltrackingScripts.join?cy.roistatCalltrackingScripts.join(","):"";z("CallTracking: refresh phone with prefix: "+cW+", binding: "+dO+", scripts: "+X);d1()};var ee=function(){var ef=cv.get(n)>0;var eg=ce.callTrackingEnabled;return ef&&eg};var d4=function(ef){dY(ef.is_enabled)};var eb=function eb(){var eg=d9();if(!ed(eg)){z("CallTracking: invalid phone "+eg+", requesting a new one");d1()}else{z("CallTracking: render phone "+eg);var ef=dZ();var eh=dy(d7());e(eg,ef,eh)}};var ea=function(){z("CallTracking: init");if(aS()){z("CallTracking: Shut down because only online chat need to be inited");return}d8();if(!ee()){z("CallTracking: disabled, skip");return}if(ce.callTrackingManual){z("CallTracking: init finish because off manual");return}eb();aF(eb)};cy.roistatCallTrackingRefresh=d3;cy.roistatRequestNewPhone=d1;cy.roistatReusePhone=d6;cy.roistatCalltrackingUpdateSettings=d4;cO(ea)})();(function G(){var dX=function(d3){z("Emailtracking: "+d3)};var d1=function(d3,d5,d4){cv.save(bH,d3,da);cv.save(b,d5,da);cv.save(bX,JSON.stringify(d4),da)};var dW=function(){var d3=(cy.roistat.emailtracking.email&&cy.roistat.emailtracking.trackingEmail)||aZ(cy.roistat.emailtracking.emails);if(cy.roistat.emailtracking.loaded&&d3){dX("save loaded email: "+cy.roistat.emailtracking.email);d1(cy.roistat.emailtracking.email,cy.roistat.emailtracking.trackingEmail,cy.roistat.emailtracking.emails)}else{dX("settings save skip, because not loaded");cy.roistat.emailtracking.email=cv.get(bH);cy.roistat.emailtracking.email=cy.roistat.emailtracking.email?cy.roistat.emailtracking.email:null;cy.roistat.emailtracking.email=cy.roistat.emailtracking.email==="null"?null:cy.roistat.emailtracking.email;dX("email loaded from storage: "+cy.roistat.emailtracking.email);cy.roistat.emailtracking.trackingEmail=cv.get(b);cy.roistat.emailtracking.trackingEmail=cy.roistat.emailtracking.trackingEmail?cy.roistat.emailtracking.trackingEmail:null;cy.roistat.emailtracking.trackingEmail=cy.roistat.emailtracking.trackingEmail==="null"?null:cy.roistat.emailtracking.trackingEmail;dX("tracking email loaded from storage: "+cy.roistat.emailtracking.trackingEmail);cy.roistat.emailtracking.emails=dy(cv.get(bX));cy.roistat.emailtracking.emails=cy.roistat.emailtracking.emails?cy.roistat.emailtracking.emails:null;dX("emails loaded from storage: "+JSON.stringify(cy.roistat.emailtracking.emails))}};var dZ=function(d3){d1(d3.email,d3.trackingEmail,d3.emails)};var dY=function(){var d3=(!!cy.roistat.emailtracking.email&&!!cy.roistat.emailtracking.trackingEmail)||aZ(cy.roistat.emailtracking.emails);return cy.roistat.emailtracking.enabled&&d3};var e=function(){if(!dY()){dX("emailtracking disabled, skip swapping");return}var d4=function(d9,ea,d8){if(d9.href){var d7=aM(d9.href);if(ea.test(d7)){d9.href=d7.replace(ea,d8);return true}}if(d9.nodeType!==3){return false}if(d9.textContent&&ea.test(d9.textContent)){d9.textContent=d9.textContent.replace(ea,d8);return true}else{if(d9.innerText&&ea.test(d9.innerText)){d9.innerText=d9.innerText.replace(ea,d8);return true}}return false};var d3=function(d7){return d7.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")};var d5=function(d9,d8){var d7=!d8.match(/[a-z]/);return d7?d9.toUpperCase():d9};var d6=function(ef,eh){var ei=d3(ef);var d9=new RegExp("(^|\\s)(mailto:)?("+ei+")($|\\s|\\?)","gi");var ej=function(eo,em,ek,el,en){ek=ek||"";return em+ek+d5(eh,el)+en};dX("starting to replace email "+ef+" to "+eh+" with regexp "+d9);var d8=M.getElementsByTagName("*");var eb=d8.length;dX("found "+eb+" nodes on page");var ee=0;for(var ed=0;ed<eb;ed++){var ea=d8[ed];var eg=ea.childNodes.length;if(eg>0){for(var ec=0;ec<eg;ec++){var d7=ea.childNodes[ec];
if(d4(d7,d9,ej)){ee++}}}if(d4(ea,d9,ej)){ee++}}dX("successfully replaced "+ee+" nodes")};if(cy.roistat.emailtracking.emails){bx(cy.roistat.emailtracking.emails,d6)}else{d6(cy.roistat.emailtracking.email,cy.roistat.emailtracking.trackingEmail)}};var d0=function(){dX("process email swap");e();setTimeout(function(){e()},300);setTimeout(function(){e()},5000);setTimeout(function(){e()},15000)};var d2=function(){dX("init");if(aS()){dX("Shut down because only online chat need to be inited");return}aF(d0);dW();d0()};cy.roistatEmailtrackingUpdateSettings=dZ;cy.roistat.emailtracking.refresh=e;cO(d2)})();(function bz(){var dY=function(d0){z("MultiDomain: "+d0)};var dX=function(){return cv.get(dc)>0};var dW=function(d4){var d5=function(d7){if(!d7){return false}if(dq(d7,"roistat_visit")){return false}var d6=bj(d7);var d9=bj(M.domain);var d8=new RegExp(/^((https?:)?\/\/)?([A-ZА-ЯЁ0-9\_\-\~]+\.)+[A-ZА-ЯЁ0-9\_\-\~]+/i);return d6!==d9&&d8.test(d7)};var d3=function(d9){var ea=d9.split("#");var d8=ea[0].split("?");var d6="";var d7="";if(d8.length===2){d6=d8[1]}if(d6){d7="&"}d6=d6+d7+"roistat_visit="+roistat.getVisit();d8[1]=d6;ea[0]=d8.join("?");return ea.join("#")};if(d4.tagName.toLowerCase()!=="a"){return}var d2=d4.getAttribute("href");var d1=false;if(d5(d2)){var d0=d3(d2);dY("update url "+d2+" > "+d0);d4.setAttribute("href",d0);d1=true}return d1};var e=function(){if(!dX()){dY("disabled, skip");return}var d0=M.getElementsByTagName("a");var d1=d0.length;dY("found "+d1+" <a> nodes on page");var d4=0;for(var d2=0;d2<d1;d2++){var d3=d0[d2];if(dW(d3)){d4++}}dY("replaced "+d4+" nodes")};var dZ=function(){dY("init");if(aS()){dY("Shut down because only online chat need to be inited");return}e();setTimeout(function(){e()},300);setTimeout(function(){e()},5000);setTimeout(function(){e()},15000)};cO(dZ);aF(dZ)})();(function dp(){var e=60*1000;var d2=2*60*1000;var dW=function(d4){z("SettingsUpdater: "+d4)};var d0=function(){cv.set(ag,cC())};var d1=function(){var d5=dv();var d4=!(d5>0);dW("is first update check: lastUpdateTime="+d5+", result="+(d4?1:0));return d4};var d3=function(){var d6=cC()-d2;var d5=dv();var d4=d5<=d6;dW("expiration check: _minTime="+d6+", lastUpdateTime="+d5+", result="+(d4?1:0));return d4};var dX=function(d5){var d4=i(co);a(d4,d5)};var dY=function(d5){dW("update settings and save last update time");var d4=cv.getObject(r)!==null;if(d4){var d6=dy(d5.js_settings.leadHunterTargetPagesMap);if(d6!==null){cv.setObject(r,d6)}}cy.roistatCalltrackingUpdateSettings(d5.calltracking);cy.roistatEmailtrackingUpdateSettings(d5.emailtracking);cy.roistatSaveLeadHunterTemplates(d5.leadhunter_templates.form_template,d5.leadhunter_templates.pulsator_template,d5.leadhunter_templates.pulsator_settings);cy.roistatSaveMultiwidgetTemplate(d5.multiwidget_templates.pulsator_template,d5.multiwidget.pulsator_settings);cy.roistatSaveOnlineChatTemplate(d5.online_chat_templates.pulsator_template,d5.online_chat_templates.iframe_template);cy.roistatSaveProxyFormSettings(d5.proxy_forms);bn(d5.js_settings);db(d5.multiwidget.multiwidget_settings);cz(d5.online_chat);v(d5.geo);cK(d5.promo_code);cq.isSettingsUpdating=false;d0()};var dZ=function(){dW("init");if(d1()){dW("in first update we just start first timer and skip");d0();return}if(!d3()){dW("update is not not expired, skip");return}dW("start to update settings");dX()};cO(function(){cy.roistatUpdateSettings=dY;setTimeout(function(){dZ()},3000);dW("set interval to update settings");setInterval(function(){dZ()},e)})})();(function b6(dZ,e,d1){var dY={};var dW=function(d3){var d2=encodeURIComponent?encodeURIComponent:encodeURI;return d2(d3)};var dX=function(d9,d3){z("Reach goal start");if(!d9){d9={}}var d6={leadName:"",formTitle:"",name:"",phone:"",email:"",price:"",text:"",fields:"",client_fields:"",is_need_callback:"",callback_phone:"",visit:cP(),is_skip_sending:0,items:"",placeholders_data:"",engine_type:""};for(var d5 in d6){if(!Object.prototype.hasOwnProperty.call(d6,d5)){continue}if(!Object.prototype.hasOwnProperty.call(d9,d5)){continue}if(!d9[d5]){continue}if(d5==="fields"||d5==="client_fields"||d5==="items"||d5==="placeholders_data"){d9[d5]=JSON.stringify(d9[d5])}d6[d5]=dW(d9[d5])}var d8=bf();var d7=bk()+"//"+x+"/api/site/"+ap+"/"+d8+"/reach-goal?v=2";for(var d4 in d6){if(!Object.prototype.hasOwnProperty.call(d6,d4)){continue}d7=d7+"&"+d4+"="+d6[d4]}if(d3!==d1){var d2=Math.random().toString();dY[d2]=d3;d7+="&callback_key="+d2}a6(d7);z("Reach goal completed")};var d0=dZ.roistatGoal={reach:function(d3,d2){dX(d3,d2)},callAfterReachCallback:function(d2){if(Object.prototype.hasOwnProperty.call(dY,d2)){dY[d2]();delete dY[d2]}}}})(cy,M,bS);(function dI(dY,e,dZ){var dW=function(d1){if(d1 instanceof Array||d1===null||typeof d1!=="object"){z("Invalid event data");return""}return dX(d1)};var dX=function(d2,d6,d5){var d4=d6||0;var d1=d5||[];if(d4>20){z("Recursion depth exceeded when processing additional event fields");return""}d4++;var d9=[];for(var d8 in d2){if(Object.prototype.hasOwnProperty.call(d2,d8)){var d7=d2[d8];
if(typeof d7==="string"||typeof d7==="number"){var d3=d1.length>0?"["+d1.join("][")+"]":"";d9.push("&data"+d3+"["+encodeURIComponent(d8)+"]="+encodeURIComponent(d7))}else{if(typeof d7==="object"){d1.push(encodeURIComponent(d8));d9.push(dX(d7,d4,d1));d1.pop()}else{z("Event data property ignored: "+d8)}}}}return d9.length>0?d9.join(""):""};var d0=function(d3,d5){z("Send event start");var d1=o();var d4=dW(d5);I("Name: "+d3+" Data: "+d4+" VisitId: "+d1);var d2=S()+"/event/register?visit="+d1+"&event="+d3+d4;a6(d2);z("Send event completed")};dY.roistat.event={send:function(d1,d2){d0(d1,d2)}}})(cy,M,bS);(function cw(d5,d7,dY){if(aS()){z("VisitApprove: Shut down because only online chat need to be inited");return}var d8=d5.roistatIsInitVisit===true?20000:10000;var dX=(new Date()).getTime();var dW=function(ec){return"approve_visit_"+ec};var d4=function(ec){cl.set(dW(ec),1)};var d9=function(ec){return cl.get(dW(ec))>0};var e,d0,eb=[];if(d7.addEventListener){e=function(ed,ec,ee){return ed.addEventListener(ec,ee,false)};d0=function(ed,ec,ee){return ed.removeEventListener(ec,ee,false)}}else{e=function(ed,ec,ee){return ed.attachEvent("on"+ec,ee)};d0=function(ed,ec,ee){return ed.detachEvent("on"+ec,ee)}}var d3=function(ef){if(eb.length>30){return}ef=ef||d5.event;if(!ef||!ef.screenX){return}var ee=(new Date()).getTime();var eh,eg=null;if(eb.length>0){eg=eb[eb.length-1]}if(eg){eh=ee-eg.time}else{eh=ee-dX}if(eh<300){return}eh=eh-300;var ej=0;var ec=ef.screenX;var ei=ef.screenY;if(eg){ej=parseInt(Math.sqrt(Math.pow(eg.y-ei,2)+Math.pow(eg.x-ec,2)))}var ed={time:ee,pauseBeforeMove:eh,x:ec,y:ei,distance:ej};eb.push(ed)};var d2=function(){var ec=[];q(eb,function(ed){var ee=[ed.pauseBeforeMove,ed.distance];ec.push(ee.join(":"))});if(ec.length===0){ec.push("0:0")}return ec.join("|")};var dZ=function(){for(var ec in d5){if(dq(ec,"yaCounter")){return true}}return false};var d6=function(){d0(d7,"mousemove",d3);var ec=o();z("VisitApprove: start for visit "+ec);if(d9(ec)){z("VisitApprove: visit already approved, skip");return}d4(ec);aI();var ed=S()+"/approve?v="+ac+"&visit="+ec;if(ea()){ed+="&hash="+aA()}if(d1()){ed+="&page_params="+encodeURIComponent(JSON.stringify(d5.roistat.page.params));g()}ed+="&mv="+d2();ed+="&pl="+(d5.navigator?d5.navigator.platform:"");ed+="&ym="+(dZ()?"1":"0");ed+="&wd="+(d5.navigator?(d5.navigator.webdriver===true?"1":"0"):"0");a6(ed)};var ea=function(){var eg=cq.cookies,ef=m();var ei=bp();for(var ed=0;ed<ei.length;ed++){var eh=ei[ed];var ej=Object.prototype.hasOwnProperty.call(eg,eh)?eg[eh]:dY;var ec=Object.prototype.hasOwnProperty.call(ef,eh)?ef[eh]:dY;var ee=typeof ec==="string"&&ec.length>0;if(ee&&ej!==ec){return true}}return false};var d1=function(){var eh=cq.pageParams,ee=d5.roistat.page.params;for(var ed=0;ed<cX.length;ed++){var ec=cX[ed];var ef=Object.prototype.hasOwnProperty.call(eh,ec)?eh[ec]:null;var eg=Object.prototype.hasOwnProperty.call(ee,ec)?ee[ec]:null;if(eg!==ef){return true}}return false};setTimeout(function(){d6()},d8);e(d7,"mousemove",d3)})(cy,M,bS);(function aG(d1,d2,dX){var dZ=function(){return af("roistat_ab_demo")==="1"};var d3=function(d6){return new RegExp(d6.split(".").join("\\.").split("*").join(".*").split("?").join("."))};var d0=function(eb){var d6=d1.location.href,d9=eb.filter,ef=eb.filterValue;var ec;switch(d9){case"except":case"pages":var d7,ee,ed=false;ee=d6?aU(d6):"";ec=ef?ef.split("\n"):[];if(ee&&ec.length!==0){for(var d8=0;d8<ec.length;d8++){var ea=ec[d8].trim();if(ea.length===0){continue}d7=d3(ea);if(d7.test(ee)){ed=true;break}}}return(d9==="pages")?ed:!ed;break;case"all":default:return true}};var dW=function(d8){var d6=d2.getElementsByTagName("head")[0],d7;d7=d2.createElement("style");d7.setAttribute("type","text/css");if(d7.styleSheet){d7.styleSheet.cssText=d8.value}else{d7.innerText=d8.value}d6.appendChild(d7);z("Applied css-test: "+d8.id)};var e=function(d6){if(Object.prototype.hasOwnProperty.call(c9.onAbTestsApplied,d6.id)){c9.onAbTestsApplied[d6.id](d6.value)}z("Applied uniform-test: "+d6.id)};var dY=function(d6){if(d0(d6)){switch(d6.type){case"css":dW(d6);break;case"uniform":e(d6);break}}};d1.applyTests=function(){z("Start applying ab tests");var d6=cv.getObject("abTesting");var d8,d7;for(d8 in d6){if(!Object.prototype.hasOwnProperty.call(d6,d8)){continue}d7=d6[d8];dY(d7)}cq.isAbTestsApplied=true;z("End applying ab tests");if(d1.onRoistatAbTestsApplied!==dX&&typeof d1.onRoistatAbTestsApplied==="function"){d1.onRoistatAbTestsApplied()}};var d4=function(){z("Call: apply demo AB test");var d6=af("roistat_ab_data");var d7;if(d6===null){return}else{d7=JSON.parse(cB.decode(d6))}if(typeof d7!=="object"){z("Error: testValue is not an object.");return}dY(d7)};function d5(){if(aS()){z("ABTest: Shut down because only online chat need to be inited");return}var d6=dZ();if(!dj&&!d6){applyTests()}if(d6){d4()}}d5()})(cy,M,bS);(function cU(dW,e,dX){if(aS()){z("visitStream: Shut down because only online chat need to be inited");return}if(!dn){return}setTimeout(function(){(function(d4,d3,d7,d6,d1,dZ,d2){d4[d1]={COUNTER_ID:dZ,HOST:d2};
var d0=d3.location.protocol=="https:"?"https://":"http://";var dY=d3.createElement(d7);dY.async=1;dY.src=d0+d2+d6;var d5=d3.getElementsByTagName(d7)[0];d5.parentNode.insertBefore(dY,d5)})(dW,e,"script","/counter.js","datamap",bf(),dn)},1000)})(cy,M,bS);(function ct(dX,e,dY){var dZ=function(){var d0=dX.roistatMetrikaCounterId;if(d0){cv.set(a8,d0)}};var dW=function(d5){var d0="yaCounter"+d5;var d4=100,d2=0,d3=60000;var d1=function(){d2+=d4;z("YandexMetrika: trying to access counter "+d5);if(dX[d0]===dY){if(d2<d3){setTimeout(d1,d4);d4*=2}return}var d6={};d6[c7]=o();dX[d0].params(d6);z("YandexMetrika: visit id "+d6[c7]+" sent to counter "+d5)};setTimeout(d1,d4)};cO(function(){dZ();var d2=cv.get(a8);if(!d2){z("YandexMetrika: counter id not found");return}var d1=String(d2).split(",");z("YandexMetrika: counters: "+d1);for(var d0=0;d0<d1.length;d0++){if(d1[d0].trim()===""){continue}dW(d1[d0])}})})(cy,M,bS);(function aB(d5,d9){var ed=function(eg){z("Proxy Forms: "+eg)};var d2=function(){if(d5.roistat.proxyForms.loaded&&d5.roistat.proxyForms.settings.length>0){ed("save loaded settings");ea(d5.roistat.proxyForms.settings)}else{ed("settings not loaded, getting from storage");d5.roistat.proxyForms.settings=cv.getObject(dH)||[]}};var ea=function(eg){cv.setObject(dH,eg)};var d6=function(){ed("init form listener");dY(d5.roistat.proxyForms.settings);e(d5.roistat.proxyForms.settings)};var ef=function(eg){return eg.hasOwnProperty("hosts")&&eg.hasOwnProperty("is_excluding_hosts")&&bF(eg.hosts)&&eg.hosts.length>0};var d0=function(eh){if(!ef(eh)){return true}var ei=dw(eh.hosts,bj(d5.location.host));var eg=Boolean(eh.is_excluding_hosts);return eg?!ei:ei};var dX=function(eh){var eg=[];q(eh,function(ei){if(d0(ei)){eg.push(ei)}});return eg};var e=function(eg){var ei=[];q(eg,function(ej){if(ej.type==="js-button"){ei.push(ej)}});if(ei.length<1){ed("no button settings");return}var eh;if(d9.addEventListener){eh=function(ej){d1(ei,ej,ej.target,dZ)};d9.addEventListener("click",eh,true)}else{if(d9.attachEvent){eh=function(){var ej=d5.event;d1(ei,ej,ej.srcElement,dZ,true)};d9.attachEvent("onclick",eh)}else{ed("Listener could not be attached")}}};var dY=function(eh){I("Proxy form debug: start");var eg=[];q(eh,function(ej){if(ej.type==="form"){eg.push(ej)}});if(eg.length<1){ed("no form settings");return}if(d9.addEventListener){var ei=function(ej){d1(eg,ej,ej.target,ee)};d9.addEventListener("submit",ei,true)}else{if(d9.attachEvent){setInterval(function(){eg=dX(eg);var ej=d9.getElementsByTagName("form");q(ej,function(ek){if(ek.getAttribute("data-roistat-proxy-form-checked")==="true"){return}ek.setAttribute("data-roistat-proxy-form-checked","true");q(eg,function(el){if(dW(ek,el.selector)){ek.attachEvent("onsubmit",function(){d5.event.returnValue=false;I("Proxy form debug: start sending form lead");ee(el,d5.event.srcElement)})}})})},2000)}else{ed("Listener could not be attached")}}};var d1=function(ej,ek,el,ei,eg){var em=dX(ej);var eh=null;q(em,function(en){if(dW(el,en.selector)){eh=en}});if(eh===null){ed("No matched settings found for listener");return}ei(ek,eh,el,eg)};var ee=function(ek,ei,ej,eh){var eg=d8(ej,ei);if(!eb(eg,ei)){I("Proxy form debug: lead fields is not valid");return}eh?ek.returnValue=false:ek.preventDefault();I("Proxy form debug: sending lead");d3(eg,ei,function(){HTMLFormElement.prototype.submit.call(ej)})};var dZ=function(ei,eh){var eg=d8(null,eh);if(!eb(eg,eh)){return}d3(eg,eh)};var d3=function(eg,ej,el){var ek={};var ei=d4(ej.crm)&&ej.crm.hasOwnProperty("is_enabled");var eh=ei?ej.crm.is_enabled:true;ek.leadName=ej.hasOwnProperty("lead_name")?ej.lead_name:"Новый лид с формы "+ej.title;ek.formTitle=ej.title;ek.name=eg.name;ek.phone=eg.phone;ek.email=eg.email;ek.text=eg.comment;ek.fields=eg.fields;ek.placeholders_data=eg.placeholdersData;ek.is_need_callback=ej.is_need_callback>0?1:0;ek.is_skip_sending=!eh;d5.roistatGoal.reach(ek,el)};var d4=function(eg){return(typeof eg==="number"&&!isNaN(eg))||(typeof eg==="string"&&eg!=="")||(typeof eg==="object"&&eg!==null)||(typeof eg==="boolean"&&eg)||bF(eg)};var eb=function(eg,ei){var eh=[],ek=["name","email","phone","comment"];q(ek,function(el){if(ei.hasOwnProperty(el)&&ei[el].required>0){eh.push(el)}});if(bF(ei.fields)){q(ei.fields,function(el){if(el.required>0){eh.push(el)}})}var ej=true;q(eh,function(el){if(!eg.hasOwnProperty(el)||!d4(eg[el])){ej=false}});return ej};var d8=function(ei,eh){var eg={};eg.name=eh.name?d7(ei,eh.name.value,eh.name.type):"";eg.phone=eh.phone?d7(ei,eh.phone.value,eh.phone.type):"";eg.email=eh.email?d7(ei,eh.email.value,eh.email.type):"";eg.comment=eh.comment?d7(ei,eh.comment.value,eh.comment.type):"";eg.fields={};eg.placeholdersData={orderPage:cM};if(bF(eh.fields)){q(eh.fields,function(ej){eg.fields[ej.name]=d7(ei,ej.value,ej.type)})}return eg};var d7=function(eh,ek,eg){switch(eg){case"plain":return ek||"";case"input":var ej=eh.querySelector('input[name="'+ek+'"]');return ej?ej.value:"";case"js":try{return(new Function(ek))()}catch(ei){return""}}};var ec=function(){ed("init");
if(aS()){ed("Shut down because only online chat need to be inited");return}if(!d5.roistat.proxyForms.enabled){ed("disabled");return}d2();d6()};var dW=function(ej,eh){if(typeof Element!=="undefined"&&Element.prototype.matches){var eg=ej.matches(eh);if(!eg){return ej.closest(eh)?ej.closest(eh).matches(eh):false}return eg}else{if(typeof Element!=="undefined"&&Element.prototype.matchesSelector){var ek=ej.matchesSelector(eh);if(!ek){return ej.closest(eh)?ej.closest(eh).matches(eh):false}return ek}else{if(d9.querySelectorAll){var el=d9.querySelectorAll(eh);for(var ei=0;ei<el.length;ei++){if(el[ei]===ej){return true}}return false}}}return false};cO(ec);d5.roistatSaveProxyFormSettings=ea})(cy,M);(function R(){if(cy.onRoistatAllModulesLoaded!==bS&&typeof cy.onRoistatAllModulesLoaded==="function"){z("onRoistatAllModulesLoaded: call");cy.onRoistatAllModulesLoaded()}})();(function bg(d2,d5,dZ){var e=function(){return cv.get(aw)*1>0};var d4=function(eb){z("Request listener: "+eb)};var ea=/^(8|7|380|45|370|375|1|48|357|44|373|371|49|971|996|995|972|420|33|90|34|55|61|52|60|374|43|41|351)?(\d){9,13}$/g;var d3=/^[^\s]+[@][^\s]+$/g;var dY=["mc.yandex.ru","google-analytics.com","google.ru","google.com","stats.g.doubleclick.net"];var dX=function dX(){d4("listen");if(d2.XMLHttpRequest){XMLHttpRequest.prototype.oldSend=XMLHttpRequest.prototype.send;function ed(eg){var ef=this;d6(ef.responseURL,eg,function(){ef.oldSend(eg)})}XMLHttpRequest.prototype.send=ed}if(d2.ActiveXObject){var ec=ee;function ee(eh){var ef=new ec(eh);var ei={};if(eh.toLowerCase()==="msxml2.xmlhttp"){ei={_ax:ef,_status:"fake",responseText:"",responseXml:null,readyState:0,status:0,statusText:0,onReadyStateChange:null};var eg="";ei._onReadyStateChange=function(){var ej=ei;return function(){ej.readyState=ej._ax.readyState;if(ej.readyState===4){ej.responseText=ej._ax.responseText;ej.responseXml=ej._ax.responseXml;ej.status=ej._ax.status;ej.statusText=ej._ax.statusText}if(ej.onReadyStateChange){ej.onReadyStateChange()}}}();ei.open=function(en,el,em,ej,ek){eg=el;em=(em!==false);this._ax.onReadyStateChange=this._onReadyStateChange;return this._ax.open(en,el,em,ej,ek)};ei.send=function(ej){var ek=this;d6(eg,ej,function(){this._ax.send(ej)})}}else{ei=ef}return ei}d2.ActiveXObject=ee}if(d2.fetch){var eb=fetch;fetch=function(ef,eg){d6(ef.url,eg||{});return eb(ef,eg||{})}}d2.addEventListener("submit",function(ei){var ek=ei.target.elements;var ej={};for(var eh=0;eh<ek.length;eh++){var eg=ek[eh];var ef=eg.getAttribute("name");ej[ef]=eg.value}d6("",ej)})};function d0(eb){var ee={};if(eb.length===0){return ee}var ed=eb.split("?");if(ed.length<2){return ee}var ec=ed[1];ee=dW(ec);return ee}function dW(ec){var ed=ec.split("&"),ef={};for(var eb=0;eb<ed.length;eb++){var ee=ed[eb].split("=");if(ee.length<2){continue}ef[ee[0]]=ee[1]}return ef}function d8(es){d4("data: "+JSON.stringify(es));var el={email:["email","Email","EMAIL","mail","MAIL","Mail"],phone:["phone","Phone","PHONE","tel","Tel","TEL"],name:["name","Name","NAME","full_name","Full_Name","FULL_NAME"]};var ei={email:"",phone:"",name:""};for(var eb in el){var eo=el[eb];for(var en in eo){if(eo.hasOwnProperty(en)){if(es.hasOwnProperty(eo[en])){ei[eb]=es[eo[en]];break}}}}d4("new data: "+JSON.stringify(ei));var ed=ei.phone.length===0;var eh=ei.email.length===0;if(!ed&&!eh){return ei}var ec=new RegExp(d3);var eg=new RegExp(ea);var ej=Object.keys(es);for(var ep=0;ep<ej.length;ep++){var em=decodeURIComponent(String(es[ej[ep]]));if(eh){var ee=em.match(ec);if(ee&&ee.length>0){var ek=ei.email;ei.email=ee[0];d4("parsing email, before: "+ek+", after: "+ei.email)}}if(ed){var er=em.replace(/[\s-.()+*_—:;'"`]/g,"");var eq=er.match(eg);if(eq&&eq.length>0){var ef=ei.phone;ei.phone=em;d4("parsing phone, before: "+ef+", after: "+ei.phone)}}}return ei}var d1=function(eb){var ec=bj(eb);return !aC(dY,ec)};function d6(ed,ec,eb){if(ed.length>0&&!d1(ed)){return}var ef=d0(ed);var eh=ec;if(typeof eh==="string"){eh=dW(eh)}d4("data before parsing "+JSON.stringify({get:ef,post:eh}));var eg=d8(ef);var ee=d8(eh);d4("data after parsing "+JSON.stringify({get:eg,post:ee}));d7(eg,ee,eb)}function d7(eb,ed,eh){var eg=eb.email.length>0?eb.email:ed.email;var ec=eb.phone.length>0?eb.phone:ed.phone;var ef=eb.name.length>0?eb.name:ed.name;if(eg.length==0&&ec.length==0){eh();return}setTimeout(function(){eh()},100);var ee={leadName:"Автоматический лид с сайта",name:ef,phone:ec,email:eg,is_skip_sending:1};d4("phone or email is not empty, reaching goal "+JSON.stringify(ee));roistatGoal.reach(ee)}(function d9(){if(!e()){d4("disabled, skip");return}dX()})()})(cy,M,bS)})(window,document,undefined);